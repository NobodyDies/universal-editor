!function(e){function t(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.src=m.p+""+e+"."+w+".hot-update.js",t.appendChild(n)}function n(e){if("undefined"==typeof XMLHttpRequest)return e(Error("No browser support"));try{var t=new XMLHttpRequest,n=m.p+""+w+".hot-update.json";t.open("GET",n,!0),t.timeout=1e4,t.send(null)}catch(t){return e(t)}t.onreadystatechange=function(){if(4===t.readyState)if(0===t.status)e(Error("Manifest request to "+n+" timed out."));else if(404===t.status)e();else if(200!==t.status&&304!==t.status)e(Error("Manifest request to "+n+" failed."));else{try{var i=JSON.parse(t.responseText)}catch(t){return void e(t)}e(null,i)}}}function i(e){function t(e,t){"ready"===A&&o("prepare"),I++,m.e(e,function(){function n(){I--,"prepare"===A&&(k[e]||d(e),0===I&&0===C&&p())}try{t.call(null,i)}finally{n()}})}var n=S[e];if(!n)return m;var i=function(t){return n.hot.active?S[t]?(S[t].parents.indexOf(e)<0&&S[t].parents.push(e),n.children.indexOf(t)<0&&n.children.push(t)):y=[e]:y=[],m(t)};for(var a in m)Object.prototype.hasOwnProperty.call(m,a)&&(v?Object.defineProperty(i,a,function(e){return{configurable:!0,enumerable:!0,get:function(){return m[e]},set:function(t){m[e]=t}}}(a)):i[a]=m[a]);return v?Object.defineProperty(i,"e",{enumerable:!0,value:t}):i.e=t,i}function a(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var i=0;i<e.length;i++)t._acceptedDependencies[e[i]]=n;else t._acceptedDependencies[e]=n},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("number"==typeof e)t._declinedDependencies[e]=!0;else for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:l,apply:c,status:function(e){return e?void $.push(e):A},addStatusHandler:function(e){$.push(e)},removeStatusHandler:function(e){var t=$.indexOf(e);t>=0&&$.splice(t,1)},data:x[e]};return t}function o(e){A=e;for(var t=0;t<$.length;t++)$[t].call(null,e)}function r(e){var t=+e+""===e;return t?+e:e}function l(e,t){if("idle"!==A)throw Error("check() is only allowed in idle status");"function"==typeof e?(b=!1,t=e):(b=e,t=t||function(e){if(e)throw e}),o("check"),n(function(e,n){if(e)return t(e);if(!n)return o("idle"),void t(null,null);E={},V={},k={};for(var i=0;i<n.c.length;i++)V[n.c[i]]=!0;h=n.h,o("prepare"),f=t,g={};var a=0;d(a),"prepare"===A&&0===I&&0===C&&p()})}function s(e,t){if(V[e]&&E[e]){E[e]=!1;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(g[n]=t[n]);0===--C&&0===I&&p()}}function d(e){V[e]?(E[e]=!0,C++,t(e)):k[e]=!0}function p(){o("ready");var e=f;if(f=null,e)if(b)c(b,e);else{var t=[];for(var n in g)Object.prototype.hasOwnProperty.call(g,n)&&t.push(r(n));e(null,t)}}function c(t,n){function i(e){for(var t=[e],n={},i=t.slice();i.length>0;){var o=i.pop(),e=S[o];if(e&&!e.hot._selfAccepted){if(e.hot._selfDeclined)return Error("Aborted because of self decline: "+o);if(0===o)return;for(var r=0;r<e.parents.length;r++){var l=e.parents[r],s=S[l];if(s.hot._declinedDependencies[o])return Error("Aborted because of declined dependency: "+o+" in "+l);t.indexOf(l)>=0||(s.hot._acceptedDependencies[o]?(n[l]||(n[l]=[]),a(n[l],[o])):(delete n[l],t.push(l),i.push(l)))}}}return[t,n]}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];e.indexOf(i)<0&&e.push(i)}}if("ready"!==A)throw Error("apply() is only allowed in ready status");"function"==typeof t?(n=t,t={}):t&&"object"==typeof t?n=n||function(e){if(e)throw e}:(t={},n=n||function(e){if(e)throw e});var l={},s=[],d={};for(var p in g)if(Object.prototype.hasOwnProperty.call(g,p)){var c=r(p),u=i(c);if(!u){if(t.ignoreUnaccepted)continue;return o("abort"),n(Error("Aborted because "+c+" is not accepted"))}if(u instanceof Error)return o("abort"),n(u);d[c]=g[c],a(s,u[0]);for(var c in u[1])Object.prototype.hasOwnProperty.call(u[1],c)&&(l[c]||(l[c]=[]),a(l[c],u[1][c]))}for(var v=[],f=0;f<s.length;f++){var c=s[f];S[c]&&S[c].hot._selfAccepted&&v.push({module:c,errorHandler:S[c].hot._selfAccepted})}o("dispose");for(var b=s.slice();b.length>0;){var c=b.pop(),$=S[c];if($){for(var C={},I=$.hot._disposeHandlers,k=0;k<I.length;k++){var E=I[k];E(C)}x[c]=C,$.hot.active=!1,delete S[c];for(var k=0;k<$.children.length;k++){var V=S[$.children[k]];if(V){var D=V.parents.indexOf(c);D>=0&&V.parents.splice(D,1)}}}}for(var c in l)if(Object.prototype.hasOwnProperty.call(l,c))for(var $=S[c],_=l[c],k=0;k<_.length;k++){var F=_[k],D=$.children.indexOf(F);D>=0&&$.children.splice(D,1)}o("apply"),w=h;for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&(e[c]=d[c]);var O=null;for(var c in l)if(Object.prototype.hasOwnProperty.call(l,c)){for(var $=S[c],_=l[c],T=[],f=0;f<_.length;f++){var F=_[f],E=$.hot._acceptedDependencies[F];T.indexOf(E)>=0||T.push(E)}for(var f=0;f<T.length;f++){var E=T[f];try{E(l)}catch(e){O||(O=e)}}}for(var f=0;f<v.length;f++){var j=v[f],c=j.module;y=[c];try{m(c)}catch(e){if("function"==typeof j.errorHandler)try{j.errorHandler(e)}catch(e){O||(O=e)}else O||(O=e)}}return O?(o("fail"),n(O)):(o("idle"),void n(null,s))}function m(t){if(S[t])return S[t].exports;var n=S[t]={exports:{},id:t,loaded:!1,hot:a(t),parents:y,children:[]};return e[t].call(n.exports,n,n.exports,i(t)),n.loaded=!0,n.exports}var u=this.webpackHotUpdate;this.webpackHotUpdate=function(e,t){s(e,t),u&&u(e,t)};var v=!1;try{Object.defineProperty({},"x",{get:function(){}}),v=!0}catch(e){}var f,g,h,b=!0,w="e3814cae2e8c9295d8cf",x={},y=[],$=[],A="idle",C=0,I=0,k={},E={},V={},S={};return m.m=e,m.c=S,m.p="",m.h=function(){return w},i(0)(0)}([function(e,t,n){e.exports=n(39)},function(e,t,n){"use strict";function i(e){return null!=e&&""!==e}function a(e){return(Array.isArray(e)?e.map(a):e&&"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}):[e]).filter(i).join(" ")}function o(e){return l[e]||e}function r(e){var t=(e+"").replace(s,o);return t===""+e?e:t}t.merge=function e(t,n){if(1===arguments.length){for(var a=t[0],o=1;o<t.length;o++)a=e(a,t[o]);return a}var r=t.class,l=n.class;(r||l)&&(r=r||[],l=l||[],Array.isArray(r)||(r=[r]),Array.isArray(l)||(l=[l]),t.class=r.concat(l).filter(i));for(var s in n)"class"!=s&&(t[s]=n[s]);return t},t.joinClasses=a,t.cls=function(e,n){for(var i=[],o=0;o<e.length;o++)n&&n[o]?i.push(t.escape(a([e[o]]))):i.push(a(e[o]));var r=a(i);return r.length?' class="'+r+'"':""},t.style=function(e){return e&&"object"==typeof e?Object.keys(e).map(function(t){return t+":"+e[t]}).join(";"):e},t.attr=function(e,n,i,a){return"style"===e&&(n=t.style(n)),"boolean"==typeof n||null==n?n?" "+(a?e:e+'="'+e+'"'):"":0==e.indexOf("data")&&"string"!=typeof n?(JSON.stringify(n).indexOf("&")!==-1,n&&"function"==typeof n.toISOString," "+e+"='"+JSON.stringify(n).replace(/'/g,"&apos;")+"'"):i?(n&&"function"==typeof n.toISOString," "+e+'="'+t.escape(n)+'"'):(n&&"function"==typeof n.toISOString," "+e+'="'+n+'"')},t.attrs=function(e,n){var i=[],o=Object.keys(e);if(o.length)for(var r=0;r<o.length;++r){var l=o[r],s=e[l];"class"==l?(s=a(s))&&i.push(" "+l+'="'+s+'"'):i.push(t.attr(l,s,!1,n))}return i.join("")};var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},s=/[&<>"]/g;t.escape=r,t.rethrow=function e(t,i,a,o){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&i||o))throw t.message+=" on line "+a,t;try{o=o||n(118).readFileSync(i,"utf8")}catch(n){e(t,null,a)}var r=3,l=o.split("\n"),s=Math.max(a-r,0),d=Math.min(l.length,a+r),r=l.slice(s,d).map(function(e,t){var n=t+s+1;return(n==a?"  > ":"    ")+n+"| "+e}).join("\n");throw t.path=i,t.message=(i||"Jade")+":"+a+"\n"+r+"\n\n"+t.message,t},t.DebugItem=function(e,t){this.lineno=e,this.filename=t}},function(e,t,n){n(1),e.exports=function(e){var t=[];return t.push('<div ng-if="!vm.options.filter" class="field-error-wrapper"><div data-ng-repeat="err in vm.error track by $index" class="error-item alert alert-danger">{{err}}</div></div>'),t.join("")}},function(e,t,n){n(1),e.exports=function(e){var t=[];return t.push('<label ng-if="!vm.options.filter &amp;&amp; !!vm.label" class="field-name-label"><div data-ng-if="!!vm.hint" class="field-hint"><div ng-bind="::vm.hint" class="hint-text"></div></div><span data-ng-class="{\'editor-required\': vm.required}" ng-bind="::vm.label"></span></label>'),t.join("")}},,function(e,t,n){n(1),e.exports=function(e){var t=[];return t.push('<div><span ng-bind="::vm.previewValue" data-ng-show="!vm.loadingData" ng-if="!vm.multiple"></span><div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData" ng-if="vm.multiple"><span ng-bind="value"></span></div></div>'),t.join("")}},,,,function(e,t,n){t=e.exports=n(112)(),t.push([e.id,'body{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;background-color:#e1e9eb}.modal-dialog .component-edit,.modal-dialog .component-preview,.universal-editor .component-edit,.universal-editor .component-preview{display:inline-block;width:100%}.universal-editor .editor-header{padding:0 0 5px}.universal-editor .editor-header .header-action-button{border:none;display:inline-block;margin-right:10px;outline:none}.universal-editor .groups-action{margin-bottom:10px}.universal-editor .editor-entity-actions{background:#ebf1f3;padding:10px;border-top:1px solid #e1e9eb}.universal-editor .editor-filter{margin-bottom:10px;border-bottom:1px solid #9ca9ae;background:#cbd6da;border-radius:0 3px 3px;padding:10px;min-width:600px;display:inline-block;width:auto}.universal-editor .editor-filter .buttons-wrapper{margin-top:10px}.universal-editor .meta-info{text-align:right;padding:10px;padding-bottom:0;font-size:11px;color:#6a7b8b}.universal-editor table{background-color:#fff;border-spacing:0}.universal-editor table tfoot{background-color:#cbd6da}.universal-editor table td{vertical-align:top;position:relative}.universal-editor table thead td{font-weight:700;cursor:pointer}.universal-editor table thead td.actions-header{cursor:default}.universal-editor table thead td.active.asc:after{border-bottom:7px solid #000}.universal-editor table thead td.active.asc:after,.universal-editor table thead td.active.desc:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;display:block;float:right;transform:scale(-1);margin-top:3px}.universal-editor table thead td.active.desc:after{border-top:7px solid #000}.universal-editor table tbody td{font-size:12px}.universal-editor table tbody td .field-wrapper.row{margin:0;padding:0}.field-wrapper.row{margin:0 15px;padding:10px 0}.editor-action-button{margin-right:10px;display:inline-block;outline:none;width:100%}.editor-action-button.small{padding:0 5px;height:15px;font-size:8px;line-height:15px}.items-list .child{margin-left:30px}.editor-body{padding:22px 20px;position:relative;background-color:#cbd6da}.editor-body .close-editor{display:block;position:absolute;top:22px;right:22px;width:13px;height:13px;cursor:pointer}.editor-body .field-error-bottom-wrapper,.editor-body .field-notify-bottom-wrapper{background-color:#ebf1f3;padding:1px}.editor-body .tab-content-wrapper{background:#ebf1f3}.error-item{padding:3px;margin:5px 0}.notify-item{padding:3px;border:1px solid #02ae00;border-radius:3px;font-size:11px;margin:5px;background:rgba(40,255,35,.19)}.field-hint{position:relative;display:inline-block;margin-right:5px;width:12px;height:12px;margin-bottom:5px}.field-hint .hint-text{display:none;position:absolute;top:15px;left:0;width:150px;padding:5px;font-size:12px;background-color:#cbd6da;color:#555;border-radius:3px;border:1px solid #949494;z-index:1000;text-align:start}.field-hint:hover .hint-text{display:block}.field-hint:before{content:"?";display:block;width:12px;height:12px;border:1px solid #949494;text-align:center;color:#949494;font-size:10px;line-height:13px;border-radius:2px}label{font-weight:400}.field-name-label .editor-required{font-weight:700}.processing-status,.processing-status:after,.processing-status:before{background:#3e565b;-webkit-animation:load2 1s infinite ease-in-out;animation:load2 1s infinite ease-in-out;width:2px;height:12px}.processing-status:after,.processing-status:before{position:absolute;top:0;content:""}.processing-status:before{left:-4px;-webkit-animation-delay:-.32s;animation-delay:-.32s}.processing-status{text-indent:-9999em;position:absolute;font-size:11px;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation-delay:-.16s;animation-delay:-.16s;top:0}.processing-status:after{left:4px}@-webkit-keyframes load2{0%,80%,to{top:0;height:12px}40%{top:3px;height:6px}}@keyframes load2{0%,80%,to{top:0;height:12px}40%{top:3px;height:6px}}.processing-status-wrapper{display:block;width:30px;position:relative;height:12px;margin:0 auto 10px}.context-toggle{display:block;width:15px;height:13px;border-top:3px solid #94a0a5;border-bottom:3px solid #94a0a5;position:relative;text-indent:-9999px;cursor:pointer}.context-toggle:before{content:"";display:block;position:absolute;top:2px;width:15px;height:3px;background-color:#94a0a5}.context-menu-wrapper{position:absolute;top:28px;background:#fff;border-radius:5px;box-shadow:0 5px 6px #b9b8b8;overflow:hidden;z-index:10;display:block;height:auto;width:auto}.context-menu-wrapper .context-menu-item{cursor:pointer;display:block;position:relative;min-width:120px}.context-menu-wrapper .context-menu-item button{padding:3px 7px}.context-menu-wrapper .context-menu-item:hover{background-color:#eeeded}.context-menu-wrapper .editor-action-button{color:#000;text-transform:none;font-size:12px;text-shadow:none;padding:0;margin:0;background:transparent;border:none;border-radius:0;line-height:15px;text-align:left}.editor-entity-actions .editor-action-button{width:auto}.context-column{width:15px;min-width:32px}.field-name-label{text-align:right;margin-bottom:5px}.filter-name-label{float:left;width:200px;vertical-align:top;height:25px}.filter-inner-wrapper .select-input-wrapper .dropdown__selected-items{color:#999}.filter-inner-wrapper .select-input-wrapper .dropdown__selected-items.color-placeholder-div{color:#555}.filter-wrapper{margin-bottom:5px}.dropdown__selected-items.dropdown__selected-items_with-borders.form-control{height:auto}.dropdown__selected{min-height:28px}.field-wrapper-ue-dropdown select[multiple]{min-height:150px}.field-wrapper-ue-dropdown .select-wrapper>div>.processing-status-wrapper{margin:-16px 0 0 20px;position:absolute}.field-wrapper-ue-dropdown .dropdown{position:relative;border-radius:2px}.field-wrapper-ue-dropdown .dropdown .select-input{min-height:34px}.field-wrapper-ue-dropdown .dropdown .select-input.disabled-input{background-color:#eceff1}.field-wrapper-ue-dropdown .dropdown .select-input.disabled-input input[disabled]{border:none;background-color:#eceff1}.field-wrapper-ue-dropdown .dropdown *{box-sizing:border-box}.field-wrapper-ue-dropdown .dropdown__title{position:relative;background-color:#fff;height:100%;padding:2px;padding-right:25px!important}.field-wrapper-ue-dropdown .dropdown__title:before{content:"";position:absolute;margin-top:-4px;top:18px;right:10px;display:block;width:0;height:0;border-top:8px solid #2a3534;border-right:4px solid transparent;border-left:4px solid transparent;z-index:55;cursor:pointer}.field-wrapper-ue-dropdown .dropdown__title:after{content:"";display:table;clear:both}.field-wrapper-ue-dropdown .dropdown__title .color-placeholder::-webkit-input-placeholder{color:#555}.field-wrapper-ue-dropdown .dropdown__title .color-placeholder:-moz-placeholder,.field-wrapper-ue-dropdown .dropdown__title .color-placeholder::-moz-placeholder{color:#555}.field-wrapper-ue-dropdown .dropdown__title .color-placeholder:-ms-input-placeholder{color:#555}.field-wrapper-ue-dropdown .dropdown__title .color-placeholder:focus::-webkit-input-placeholder{color:#999}.field-wrapper-ue-dropdown .dropdown__title .color-placeholder:focus:-moz-placeholder,.field-wrapper-ue-dropdown .dropdown__title .color-placeholder:focus::-moz-placeholder{color:#999}.field-wrapper-ue-dropdown .dropdown__title .color-placeholder:focus:-ms-input-placeholder{color:#999}.field-wrapper-ue-dropdown .dropdown__title .color-placeholder-div{color:#555}.field-wrapper-ue-dropdown .dropdown .selected-items__item{float:left;margin:2px;padding:0 5px;height:24px;max-width:99%;line-height:22px;border:1px solid #acacac;border-radius:3px;background-color:#cbd6da}.field-wrapper-ue-dropdown .dropdown .selected-items__item .selected-item{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.field-wrapper-ue-dropdown .dropdown .selected-items__item .selected-item__btn_delete{margin:0 0 0 5px;padding:0;border:none;background:0 0;cursor:pointer;vertical-align:middle;font:700 16px Arial,sans-serif;color:#585858}.field-wrapper-ue-dropdown .dropdown__items{border:1px solid #ccc;position:absolute;z-index:999;max-height:300px;overflow-y:auto;width:100%;box-sizing:content-box;background-color:#fff}.field-wrapper-ue-dropdown .dropdown__items.dropdown-top{margin-bottom:-2px;bottom:100%;border-radius:4px 4px 0 0;border-bottom:0}.field-wrapper-ue-dropdown .dropdown__items.dropdown-top.active{box-shadow:inset 0 -1px 1px rgba(0,0,0,.075),0 -3px 4px rgba(102,175,233,.3)}.field-wrapper-ue-dropdown .dropdown__items.dropdown-bottom{margin-top:-2px;top:100%;border-radius:0 0 4px 4px;border-top:0}.field-wrapper-ue-dropdown .dropdown__items_with-padding{margin-left:-3px;overflow:hidden}.field-wrapper-ue-dropdown .dropdown__items_with-padding.active{border-color:#66afe9;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 3px 4px rgba(102,175,233,.3)}.field-wrapper-ue-dropdown .dropdown__items_with-padding .dropdown-scroll{overflow-y:auto;max-height:300px}.field-wrapper-ue-dropdown .dropdown-items__children{padding-left:15px}.field-wrapper-ue-dropdown .dropdown-items__item{min-height:31px}.field-wrapper-ue-dropdown .dropdown-items__item.active{background-color:#f3f3f3}.field-wrapper-ue-dropdown .dropdown .option{position:relative;line-height:31px;border-bottom:1px solid #ececec;padding-left:15px}.field-wrapper-ue-dropdown .dropdown .option:hover{background-color:#fafafa}.field-wrapper-ue-dropdown .dropdown .option__checkbox{position:relative;float:right;height:31px;width:20px}.field-wrapper-ue-dropdown .dropdown .option__checkbox:before{position:absolute;top:50%;margin-top:-9px;left:0;display:block;width:17px;height:17px;content:"";border:1px solid #c6cfd1;border-radius:3px}.field-wrapper-ue-dropdown .dropdown .option__checkbox.multi_radio:before{border-radius:10px}.field-wrapper-ue-dropdown .dropdown .option__checkbox .checkbox__check{position:absolute;display:none;top:50%;margin-top:-5px;left:4px;width:12px;height:11px}.field-wrapper-ue-dropdown .dropdown .option__checkbox .checkbox__check.multi_radio{margin-top:-7px;margin-left:-2px}.field-wrapper-ue-dropdown .dropdown .option__label:hover{cursor:pointer;background-color:#fafafa}.field-wrapper-ue-dropdown .dropdown .option__label_no-multiple{margin-left:5px}.field-wrapper-ue-dropdown .dropdown .option__child-count{position:relative;color:#999}.field-wrapper-ue-dropdown .dropdown .option__child-count:after{content:"";position:absolute;top:6px;right:-15px;display:block;width:0;height:0;border-top:5px solid #2a3534;border-right:3px solid transparent;border-left:3px solid transparent}.field-wrapper-ue-dropdown .dropdown .option__child-count_open:after{transform:rotate(180deg)}.field-wrapper-ue-dropdown .dropdown .option__children{padding-left:15px}.field-wrapper-ue-dropdown .dropdown__search-field{float:left;position:relative;padding:0 35px 0 0;margin-left:3px;background-color:#fff;border:none;height:28px;max-width:100%;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis}.field-wrapper-ue-dropdown .dropdown__search-field:focus{outline:none}.field-wrapper-ue-dropdown .dropdown .processing-status{margin-top:3px}.field-wrapper-ue-dropdown .dropdown__selected-items{padding:0 0 2px;color:#999}.field-wrapper-ue-dropdown .dropdown__selected-items.dropdown-tree{padding-left:4px;padding-top:4px;min-height:28px}.field-wrapper-ue-dropdown .select-wrapper .dropdown .processing-status-wrapper{margin-top:2px}.item-array-wrapper,.item-colorpicker-wrapper,.item-datepicker-wrapper,.item-map-wrapper,.item-string-wrapper,.item-textarea-wrapper,.item-timepicker-wrapper{padding-bottom:10px}.checkbox,.radio{margin-top:0}.editor-field-array>.field-name-label{background-color:#d3dfe2;text-align:center;padding:10px 0;display:block}.icon-mix-mode{padding-right:10px}.hidden{display:none}.select-input-wrapper{position:relative;cursor:pointer}.select-input-wrapper.disabled-input,.select-input-wrapper.disabled-input .select-input{color:#c8cbcd;background-color:#eceff1}.select-input-wrapper.disabled-input input[disabled]{border:none;background-color:#eceff1}.select-input-wrapper:before{content:"";position:absolute;margin-top:-4px;top:18px;right:10px;display:block;width:0;height:0;border-top:8px solid #2a3534;border-right:4px solid transparent;border-left:4px solid transparent;z-index:55;cursor:pointer}.select-input-wrapper .color-placeholder::-webkit-input-placeholder{color:#555}.select-input-wrapper .color-placeholder:-moz-placeholder,.select-input-wrapper .color-placeholder::-moz-placeholder{color:#555}.select-input-wrapper .color-placeholder:-ms-input-placeholder{color:#555}.select-input-wrapper .color-placeholder:focus::-webkit-input-placeholder{color:#999}.select-input-wrapper .color-placeholder:focus:-moz-placeholder,.select-input-wrapper .color-placeholder:focus::-moz-placeholder{color:#999}.select-input-wrapper .color-placeholder:focus:-ms-input-placeholder{color:#999}.select-input-wrapper .color-placeholder-div{color:#555}.select-input-wrapper .select-input{padding-right:35px;min-height:28px}.select-input-wrapper .dropdown__selected-items{white-space:nowrap;overflow:hidden}.selecte-delete{position:absolute;top:9px;right:25px;font:700 16px Arial,sans-serif;color:#585858;cursor:pointer}.selecte-delete-autocomplete{right:10px}.select-input.active{border-color:#66afe9;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.focus-input{position:absolute;height:0;width:0;border:none}.select-border{border:1px solid #ccc;border-radius:4px}.select-border .form-control{border:none}span.glyphicon+.component-wrapper{display:inline-block}.tab-content-wrapper .tab-item-content>.component-wrapper{display:inline-block;width:100%}.close-editor{background-image:url("data:image/jpeg;base64,/9j/4AAQSkZJRgABAgEASABIAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQECAgICAgICAgICAgMDAwMDAwMDAwP/2wBDAQEBAQEBAQEBAQECAgECAgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwP/wgARCAANAA0DAREAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAwcI/8QAFwEAAwEAAAAAAAAAAAAAAAAAAQMFAv/aAAwDAQACEAMQAAAB1tZgqC41P2L/AP/EABkQAQADAQEAAAAAAAAAAAAAAAUBAgQGFP/aAAgBAQABBQJLbo4bVBa8GkwZDdamef8A/8QAHREAAQQCAwAAAAAAAAAAAAAAEQABAhIDIiEyYf/aAAgBAwEBPwGcnx7WLIOLHlQpaZ7LX2hX/8QAIhEAAAUDBAMAAAAAAAAAAAAAAAECERITIlEDITFhofDx/9oACAECAQE/AUILWJmZRB7oR2Cp00Q46yL8FUj59+j/xAAnEAABAgUCBQUAAAAAAAAAAAABAgMEBRESExUiAAYUFjIhJCUxkf/aAAgBAQAGPwJRac1CTzMvvQ8E/EDrICM8lUK6rXBrWRu/d3mvmfV2jO145nZn+JTL22XTpQOTBvbduLh9L00B+3OJt3KsOTux+zV2odmWplO8ESwKefZXWHqVk0WEVCR5kukvTrsjWYcpbMMbb/chxCHuq6rR89pUrHlraLcu7j//xAAZEAEBAAMBAAAAAAAAAAAAAAABEQAhQTH/2gAIAQEAAT8hg8ydFJ3lkYLwc0piwzWEMtBIFVbclGMNHaUrDCZuhiMNYZm/rLsX/9oADAMBAAIAAwAAABC+7//EAB4RAAEEAwEBAQAAAAAAAAAAABEBMUFRACFhoXGB/9oACAEDAQE/EFQCVraLU6Rj5kFmOuCb0R+ZAHuw4+xPmXNIR9JaQeZ//8QAHREAAgEFAQEAAAAAAAAAAAAAAREhADFBUWGhkf/aAAgBAgEBPxAfgO7gZcSde0qtgnyzS8fO0xVRuJOzgfLdpqB0XoJSTeGsbV//xAAXEAEBAQEAAAAAAAAAAAAAAAABACER/9oACAEBAAE/ED1Bj+w6IweZMg4hpKdeLwVyOZjO8ICdbyKecIBfRCbg5SQMLf/Z")}.disabled-field{display:inline-table;background-color:#cbd6da}.disabled-colorpicker{width:24px;height:24px;border-radius:3px;display:inline-block;margin-right:3px}.component-separator:before{content:"";width:100%;height:1px;background:hsla(0,10%,66%,.48);display:block;position:absolute;top:0;left:0}.autocomplete-item{background:#cbd6da;border:1px solid #959ea9;border-radius:4px;color:#444;margin:2px;padding:0 5px;display:inline-block;height:24px;line-height:22px;text-overflow:ellipsis;white-space:nowrap;max-width:100%}.autocomplete-item.opacity-item{opacity:.2}.autocomplete-item .remove-from-selected{margin:0 0 0 5px;padding:0;border:none;background:0 0;cursor:pointer;vertical-align:middle;font:700 16px Arial,sans-serif;color:#585858}.autocomplete-input-wrapper{position:relative;height:100%;min-height:34px;padding:2px}.autocomplete-input-wrapper.disabled-input,.autocomplete-input-wrapper.disabled-input input{color:#c8cbcd;background-color:#eceff1;border:1px solid #ccc}.autocomplete-input-wrapper.disabled-input input{border:none}.autocomplete-input-wrapper .loader-search{margin-left:5px;margin-top:2px}.autocomplete-input-wrapper:after{content:"";display:table;clear:both}.autocomplete-input-wrapper .form-control{display:inline-block}.autocomplete-input-wrapper .autocomplete-field-search{display:inline-block;position:relative;padding:0;margin-left:3px;background-color:#fff;border:none;height:28px;max-width:100%;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis}.autocomplete-input-wrapper .autocomplete-field-search:focus{outline:none}.autocomplete-input-wrapper .autocomplete-field-search.color-placeholder::-webkit-input-placeholder{color:#555}.autocomplete-input-wrapper .autocomplete-field-search.color-placeholder:-moz-placeholder,.autocomplete-input-wrapper .autocomplete-field-search.color-placeholder::-moz-placeholder{color:#555}.autocomplete-input-wrapper .autocomplete-field-search.color-placeholder:-ms-input-placeholder{color:#555}.autocomplete-input-wrapper.active{border-color:#66afe9;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 3px 4px rgba(102,175,233,.3)}.possible-values{width:100%;overflow-x:hidden;position:absolute;background-color:#fff;border:1px solid #ccc;z-index:60;max-height:162px;overflow-y:scroll}.possible-values .possible-scroll{overflow-y:auto;max-height:162px}.possible-values.possible-top{margin-bottom:-4px;bottom:100%;border-bottom:0}.possible-values.possible-top.active{box-shadow:inset 0 -1px 1px rgba(0,0,0,.075),0 -3px 4px rgba(102,175,233,.3)}.possible-values.possible-bottom{margin-top:-2px;top:100%;border-top:0}.possible-values.active{overflow:hidden;border-color:#66afe9;outline:0}.possible-values .possible-value-item{padding:5px 10px;border-bottom:1px solid #ececec;cursor:pointer;min-height:31px}.possible-values .possible-value-item.active{background-color:#f3f3f3}.possible-values.possible-autocomplete{box-sizing:content-box;margin-left:-3px}.field-preloaded-data{color:#677c95;font-size:12px;margin:10px 0 0}.loader-search,.loader-search:after,.loader-search:before{background:#3e565b;-webkit-animation:load1 1s infinite ease-in-out;animation:load1 1s infinite ease-in-out;width:2px;height:12px}.loader-search:after,.loader-search:before{position:absolute;top:0;content:""}.loader-search:before{left:-4px;-webkit-animation-delay:-.32s;animation-delay:-.32s}.loader-search{text-indent:-9999em;position:absolute;font-size:11px;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation-delay:-.16s;animation-delay:-.16s;top:0}.loader-search:after{left:4px}@-webkit-keyframes load1{0%,80%,to{top:0;height:12px}40%{top:3px;height:6px}}@keyframes load1{0%,80%,to{top:0;height:12px}40%{top:3px;height:6px}}.loader-search-wrapper{display:inline-block;width:30px;margin-left:10px;position:relative;height:12px}.checkbox__check.checkbox{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAALCAYAAABLcGxfAAAA1klEQVR42ozRvy5EURDH8c/e3KBTConiJl5AolkPQscp9PSndQmJZGuNm5DVITqvoFYoJGdDo9FLFEdzd7M21ppmkpnv/PtNJ+dsltVNtYITfBT/gNfxgDWcFTPgLm5RYjuG9Fb+AW/iGgvYiiG9Qlk31TIWY0jPE2tcYRV7MaTHYa7EAXbqptrHDZZwjqr1F+OTC9xhHn0co4cNPKGOIf2QsZNzVjfVbtttro1/tkfeT942VKmPy7F48xs8KoghfeEQL3jH6TT1Rn+IIQ1a8AiDaQXfAwD9Sz+PtcxZ5gAAAABJRU5ErkJggg==");background-repeat:no-repeat}.checkbox__check.radio{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAANUlEQVR42mNgoDtonau4v3We4n84BvJxK0ZWiIYJm4yO0W3CqxibLXTQQKofSA4lsuKBGAAA4H6aCIpvd8sAAAAASUVORK5CYII=");background-repeat:no-repeat}.minicolors input{height:30px}.minicolors input.wrong{border:1px solid red;height:32px}.item-colorpicker-wrappe{display:block}.minicolors-theme-bootstrap .minicolors-input{padding-left:34px;width:97px}.minicolors-swatch{z-index:10}.filter-component{max-width:600px}.filter-component .editor-filter-body{padding:5px 15px}.filter-component .editor-filter-body component-wrapper{display:block;margin-left:205px}.filter-component .editor-filter-body component-wrapper .filter-inner-wrapper>div[class*=col-]{padding:0}.filter-component .editor-filter-body .filter-content-wrapper{margin-bottom:10px;display:inline-block;width:100%}.filter-component .editor-filter-body .filter-content-wrapper label.filter-name-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.filter-component .editor-filter-footer{margin-top:15px}.modal-dialog .field-array-wrapper .add-more,.universal-editor .field-array-wrapper .add-more{margin-top:10px}.modal-dialog .editor-field-array,.universal-editor .editor-field-array{overflow:visible}.modal-dialog .editor-group,.universal-editor .editor-group{padding:0}.modal-dialog .editor-group .item-array-wrapper .btn,.universal-editor .editor-group .item-array-wrapper .btn{margin:10px 15px 0;float:right}.modal-dialog .editor-group .field-wrapper.row,.universal-editor .editor-group .field-wrapper.row{margin:0}.ue-tab-wrapper .button-footer{margin-left:15px}.ue-tab-wrapper .clear-padding-left{padding-left:0}.modal-dialog .ue-modal-body .editor-body .close-editor{display:none}.editor-entity-actions{background:#ebf1f3;padding:10px;border-top:1px solid #e1e9eb}.ue-modal-body,.ue-modal-header{padding:10px}.ue-modal-footer .editor-modal-button{margin-right:10px;display:inline-block;outline:none;width:auto}.modal-dialog .modal-content{height:100%}.modal-dialog ue-modal>div{height:100%;position:relative;padding-bottom:85px}.modal-dialog ue-modal>div .ue-modal-body{overflow:auto;height:95%}.modal-dialog .ue-modal-footer{position:absolute;bottom:0}.pagination{margin-top:0}.editor-textarea{width:100%;resize:vertical}',""])},function(e,t,n){n(1),e.exports=function(e){var t=[];return t.push('<div><div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData"><span ng-bind="value"></span></div></div>'),t.join("")}},function(e,t,n){n(1),e.exports=function(e){var t=[];return t.push('<div><div ng-if="!vm.multiple" ng-style="{ \'background-color\': vm.fieldValue}" class="disabled-colorpicker"></div><div ng-if="vm.multiple" ng-repeat="value in vm.fieldValue track by $index" ng-style="{ \'background-color\': value}" class="disabled-colorpicker"></div></div>'),t.join("")}},function(e,t){!function(){"use strict";function e(e){var t={RESPONSE_ERROR:{INVALID_DATA:"Неправильно заполнена форма",SERVICE_UNAVAILABLE:"Сервис временно недоступен",UNEXPECTED_RESPONSE:"Сервис вернул неожиданный ответ",UNAUTHORIZED:"Требуется авторизация",RELOAD_PAGE:"Требуется повторная авторизация, перезагрузите страницу",FORBIDDEN:"Нет доступа",NOT_FOUND:"Запись не найдена"},CHANGE_RECORDS:{CREATE:"Запись создана",UPDATE:"Запись обновлена",DELETE:"Запись удалена"},BUTTON:{ADD:"Добавить",DELETE:"Удалить",DELETE_MARK:"Удалить метку",APPLY:"Применить",CLEAN:"Очистить",HIGHER_LEVEL:"На уровень выше",FILTER:"Фильтр"},LOADING:"Загрузка",SELECT_VALUE:"Выберите значение",PERFORMS_ACTIONS:"Выполняется действие",ELEMENT_NO:"Нет элементов для отображения",ELEMENTS:"Элементы",FROM:"из",SEARCH_ELEMENTS:"Поиск по элементам",ERROR:{EditEntityStorage:"EditEntityStorage: Сущность не доступна для проверки так как она не указана или не указан её тип",
FIELD:{MAX_SIZE:'Значение длины для поля "%label_field" превышает максимальное значение сетки (12).',MIN_SIZE:'Значение длины для поля "%label_field" ниже минимального значения сетки (1).',VALUES_REMOTE:': Не удалось получить значения для поля "%name_field" с удаленного ресурса',TEMPLATE:"Файл %template не найден!",NOT_TYPE_VALUE:"Для поля не указан ни один тип получения значений ( локальный или удаленный )"},MULTIPLE_NAME:" в режиме multiple обязательно должен быть указан параметр name.",NOT_FOUND_STATE:"Стейт %state не найден в конфигурационном файле."}};e.translations("ru",t),e.useSanitizeValueStrategy(null),e.useStaticFilesLoader({prefix:"",suffix:""}),e.preferredLanguage("ru")}angular.module("universal.editor").config(e),e.$inject=["$translateProvider"]}()},function(e,t,n){!function(e){try{e=angular.module("universal.editor.templates")}catch(t){e=angular.module("universal.editor.templates",[])}e.run(["$templateCache",function(e){n(115).keys().forEach(function(t){var i=t.substr(2,t.length-7);e.put("module/"+i+".html",n(117)("./"+i+".jade")())})}])}()},function(e,t){!function(){"use strict";function e(e,t,n,i){return{request:function(e){return e.beforeSend&&e.beforeSend(e),t.$broadcast("editor:request_start",""),e.data&&"object"==typeof e.data&&angular.forEach(e.data,function(t,n){angular.isArray(t)&&0===t.length&&(e.data[n]=null)}),e},responseError:function(t){if(t.status!==-1)try{JSON.parse(JSON.stringify(t)),null!==t.data&&t.data.hasOwnProperty("message")&&t.data.message.length>0?n.error(t.data.message):422===t.status||400===t.status?i("RESPONSE_ERROR.INVALID_DATA").then(function(e){n.warning(e)}):401===t.status?i("RESPONSE_ERROR.UNAUTHORIZED").then(function(e){n.warning(e)}):403===t.status?i("RESPONSE_ERROR.FORBIDDEN").then(function(e){n.error(e)}):i("RESPONSE_ERROR.SERVICE_UNAVAILABLE").then(function(e){n.error(e)})}catch(e){i("RESPONSE_ERROR.UNEXPECTED_RESPONSE").then(function(e){n.error(e)})}return e.reject(t)}}}function t(e,t,n,i,a,o,r){angular.extend(e.defaults,{control:"hue",position:"top left",letterCase:"uppercase"}),t.defaults.paramSerializer="$httpParamSerializerJQLike",t.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",t.defaults.headers.put["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",t.defaults.transformRequest=function(e){return void 0===e?e:$.param(e)},t.interceptors.push("EditorHttpInterceptor"),a.decorator("mFormatFilter",function(){return function(e,t,n){return r.isMoment(e)?n?r.tz(e,n).format(t):e.format(t):""}})}function n(e,t,n,i,a,o,r){var l=document.querySelectorAll(".nav.nav-tabs .item");e.$on("$stateChangeStart",function(e,n,i,a,r,l){o.filterSearchString=l.reload?{}:t.search()}),e.$on("$stateChangeSuccess",function(e,n,r,s,d){var p=r.type;angular.forEach(l,function(e){$(e).removeClass("active"),$(e).find("a")[0].hash.split("/")[2]==p&&$(e).addClass("active")}),o.filterSearchString&&t.search(o.filterSearchString);var c=i.getStateConfig(n.name);if(c&&"ue-modal"===c.component.name){if(!s.name){var m=n.name.split(".");m.length&&(m.splice(m.length-1,1),s={name:m.join(".")})}angular.extend(c.component.settings,{fromState:s,fromParams:d}),a.open(c.component)}}),1==l.length&&angular.element(l).css("display","none"),angular.element(document).ready(function(){var e=n.params["pk"+i.getLevelChild(n.current.name)];"new"===e&&i.newSourceEntity()})}angular.module("universal.editor",["universal.editor.templates","minicolors","datePicker","checklist-model","angularMoment","ngCookies","ngFileUpload","ui.router","ui.mask","toastr","pascalprecht.translate","ui.bootstrap"]),angular.module("universal.editor").factory("EditorHttpInterceptor",e),e.$inject=["$q","$rootScope","toastr","$translate"],angular.module("universal.editor").config(t),t.$inject=["minicolorsProvider","$httpProvider","$stateProvider","$urlRouterProvider","$provide","$injector","moment"],angular.module("universal.editor").run(n),n.$inject=["$rootScope","$location","$state","EditEntityStorage","ModalService","FilterFieldsStorage","RestApiService"]}()},function(e,t,n){n(1),e.exports=function(e){var t,i=[],a=e||{};return function(a){i.push("<div ng-class=\"{'field-wrapper row':!vm.options.filter, 'filter-wrapper-field': vm.options.filter}\"><div on-render-template ng-class=\"{'component-filter': vm.templates.filter &amp;&amp; vm.regim === 'filter',                   'component-edit': vm.templates.edit  &amp;&amp; vm.regim === 'edit',                   'component-preview': vm.templates.preview &amp;&amp; vm.regim === 'preview'}\" class=\"component-template\"></div><div ng-if=\"(!vm.templates.edit &amp;&amp; vm.regim === 'edit') || (!vm.templates.filter &amp;&amp; vm.regim === 'filter')\" ng-class=\"{'component-filter': vm.regim === 'filter'}\" class=\"component-edit\">"+(null==(t=n(3).call(this,e))?"":t)+'<div ng-class="{\'filter-inner-wrapper\': vm.options.filter, \'field-element\': !vm.options.filter}" ng-style="{\'overflow:auto\':vm.multiple}" ng-if="!vm.disabled || vm.options.filter"><div ng-class="vm.classComponent"><div data-ng-class="{&quot;active&quot; : vm.isActivePossible, &quot;disabled-input&quot;: vm.readonly}" data-ng-click="inputFocus()" class="autocomplete-input-wrapper form-control"><div data-ng-repeat="acItem in vm.selectedValues" data-ng-show="acItem[vm.fieldSearch]" data-ng-if="vm.multiple" class="autocomplete-item">{{acItem[vm.fieldSearch]}}<span data-ng-click="vm.removeFromSelected($event, acItem)" data-ng-if="!vm.readonly" class="remove-from-selected">×</span></div><input ng-show="vm.preloadedData" type="text" ng-disabled="vm.readonly" data-ng-model="vm.inputValue" data-ng-focus="vm.focusPossible(true)" data-ng-blur="vm.focusPossible(false)" size="{{vm.sizeInput}}" data-ng-style="vm.classInput" data-ng-keydown="vm.deleteToAutocomplete($event)" placeholder="{{vm.placeholder}}" data-ng-class="!vm.isActivePossible ? &quot;color-placeholder&quot; : &quot;&quot;" class="autocomplete-field-search"><span data-ng-if="!vm.multiple &amp;&amp; !!vm.selectedValues.length &amp;&amp; !vm.readonly" data-ng-click="vm.removeFromSelected($event, vm.selectedValues[0])" class="selecte-delete selecte-delete-autocomplete">×</span><div data-ng-show="vm.searching || !vm.preloadedData" class="loader-search-wrapper"><div class="loader-search">{{\'LOADING\' | translate}}</div></div><div data-ng-if="!vm.readonly &amp;&amp; (vm.possibleValues.length &gt; 0) &amp;&amp; vm.showPossible" class="possible-values possible-autocomplete active possible-bottom"><div class="possible-scroll"><div data-ng-repeat="possible in vm.possibleValues" data-ng-mouseover="vm.activeElement = $index" data-ng-mousedown="vm.addToSelected($event, possible)" data-ng-class="vm.activeElement == $index ? \'active\' : \'\'" class="possible-value-item">{{::possible[vm.fieldSearch]}}</div></div></div></div></div></div><div ng-if="vm.disabled &amp;&amp; !vm.options.filter" class="disabled-field">'+(null==(t=n(5).call(this,e))?"":t)+'</div></div><div ng-if="!vm.templates.preview &amp;&amp; vm.regim === \'preview\'" class="component-preview"> <div data-ng-show="vm.loadingData" class="loader-search-wrapper"><div class="loader-search">{{\'LOADING\' | translate}}</div></div><span ng-bind="::vm.previewValue" data-ng-show="!vm.loadingData" ng-if="!vm.multiple"></span><div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData" ng-if="vm.multiple"><span ng-bind="value"></span></div></div>'+(null==(t=n(2).call(this,e))?"":t)+"</div>")}.call(this,"undefined"in a?a.undefined:void 0),i.join("")}},function(e,t,n){n(1),e.exports=function(e){var t=[];return t.push('<button data-ng-class="{ processing : vm.processing}" style="display: inline-block; margin: 10px;" ng-bind="::vm.label" class="btn btn-md btn-create btn-success"><div data-ng-show="vm.processing" class="loader-search-wrapper"><div class="loader-search">{{\'LOADING\' | translate}}</div></div></button>'),t.join("")}},function(e,t,n){n(1),e.exports=function(e){var t=[];return t.push('<div><button data-ng-class="{ processing : vm.options.isLoading}" data-ng-if="vm.setting.buttonClass == \'header\'" class="btn btn-lg btn-create btn-success">{{::vm.label}}<div data-ng-show="vm.options.isLoading" class="loader-search-wrapper"><div class="loader-search">{{\'LOADING\' | translate}}</div></div></button><button data-ng-if="vm.setting.buttonClass == \'context\'" class="editor-action-button">{{::vm.label}}</button></div>'),t.join("")}},function(e,t,n){n(1),e.exports=function(e){var t=[];return t.push('<div><button data-ng-class="{ processing : vm.processing}" style="display: inline-block; margin: 10px;" class="btn btn-lg btn-create btn-success">{{::vm.label}}<div data-ng-show="vm.processing" class="loader-search-wrapper"><div class="loader-search">{{\'LOADING\' | translate}}</div></div></button></div>'),t.join("")}},function(e,t,n){n(1),e.exports=function(e){var t=[];return t.push('<button data-ng-class="vm.classButton" data-ng-click="vm.buttonClick()">{{::vm.label}}</button>'),t.join("")}},function(e,t,n){n(1),e.exports=function(e){var t=[];return t.push('<div><button data-ng-class="{ processing : vm.options.isLoading}" ng-disabled="vm.disabled" data-ng-if="vm.setting.buttonClass == \'footer\'" class="btn btn-md btn-success">{{::vm.label}}<div data-ng-show="vm.options.isLoading" class="loader-search-wrapper"><div class="loader-search">{{\'LOADING\' | translate}}</div></div></button><button data-ng-if="vm.setting.buttonClass == \'context\'" class="editor-action-button">{{::vm.label}}</button></div>'),t.join("")}},function(e,t,n){n(1),e.exports=function(e){var t,i=[],a=e||{};return function(a){i.push("<div ng-class=\"{'field-wrapper row':!vm.options.filter, 'filter-wrapper-field': vm.options.filter}\"><div on-render-template ng-class=\"{'component-filter': vm.templates.filter &amp;&amp; vm.regim === 'filter',                   'component-edit': vm.templates.edit  &amp;&amp; vm.regim === 'edit',                   'component-preview': vm.templates.preview &amp;&amp; vm.regim === 'preview'}\" class=\"component-template\"></div><div ng-if=\"(!vm.templates.edit &amp;&amp; vm.regim === 'edit') || (!vm.templates.filter &amp;&amp; vm.regim === 'filter')\" ng-class=\"{'component-filter': vm.regim === 'filter'}\" class=\"component-edit\">"+(null==(t=n(3).call(this,e))?"":t)+'<div ng-class="{\'filter-inner-wrapper\': vm.options.filter, \'field-element\': !vm.options.filter}" style="{{::vm.checkBoxStyle}}" ng-if="!vm.disabled || vm.options.filter"><div data-ng-repeat="item in vm.optionValues" data-ng-class="{\'disabled\': vm.readonly}" class="checkbox"><label><input type="checkbox" data-ng-disabled="vm.readonly" data-checklist-model="vm.fieldValue" data-checklist-value="::item[vm.fieldId]"><span ng-bind="::item[vm.fieldSearch]"></span></label></div></div><div ng-if="vm.disabled &amp;&amp; !vm.options.filter" class="disabled-field">'+(null==(t=n(10).call(this,e))?"":t)+'</div></div><div ng-if="!vm.templates.preview &amp;&amp; vm.regim === \'preview\'" class="component-preview"> <div data-ng-show="vm.loadingData" class="loader-search-wrapper"><div class="loader-search">{{\'LOADING\' | translate}}</div></div><span ng-bind="::vm.previewValue" data-ng-show="!vm.loadingData" ng-if="!vm.multiple"></span><div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData" ng-if="vm.multiple"><span ng-bind="value"></span></div></div>'+(null==(t=n(2).call(this,e))?"":t)+"</div>")}.call(this,"undefined"in a?a.undefined:void 0),i.join("")}},function(e,t,n){n(1),e.exports=function(e){var t,i=[],a=e||{};return function(a){i.push("<div ng-class=\"{'field-wrapper row':!vm.options.filter, 'filter-wrapper-field': vm.options.filter}\"><div on-render-template ng-class=\"{'component-filter': vm.templates.filter &amp;&amp; vm.regim === 'filter',                   'component-edit': vm.templates.edit  &amp;&amp; vm.regim === 'edit',                   'component-preview': vm.templates.preview &amp;&amp; vm.regim === 'preview'}\" class=\"component-template\"></div><div ng-if=\"(!vm.templates.edit &amp;&amp; vm.regim === 'edit') || (!vm.templates.filter &amp;&amp; vm.regim === 'filter')\" ng-class=\"{'component-filter': vm.regim === 'filter'}\" class=\"component-edit\">"+(null==(t=n(3).call(this,e))?"":t)+'<div ng-class="{\'filter-inner-wrapper\': vm.options.filter, \'field-element\': !vm.options.filter}" ng-style="{\'overflow:auto\':vm.multiple}" ng-if="!vm.disabled || vm.options.filter"><div data-ng-if="vm.multiple" ng-class="{\'col-lg-2 col-md-2 col-sm-3 col-xs-3 clear-padding-left\': (!vm.options.isGroup &amp;&amp; !vm.options.filter)}"><div data-ng-repeat="field_item in vm.fieldValue track by $index" class="item-colorpicker-wrappe input-group"><input type="text" data-ng-disabled="vm.readonly" data-minicolors="" data-ng-model="vm.fieldValue[$index]" class="form-control input-sm"><span class="input-group-btn"><button data-ng-click="vm.removeItem($index)" data-ng-if="!vm.readonly" class="btn btn-default btn-sm">x</button></span></div><div data-ng-click="vm.addItem()" data-ng-disabled="vm.readonly" class="btn btn-primary btn-sm">{{\'BUTTON.ADD\' | translate}}</div></div><div data-ng-if="!vm.multiple" ng-class="{\'col-lg-2 col-md-2 col-sm-3 col-xs-3 clear-padding-left\': (!vm.options.isGroup &amp;&amp; !vm.options.filter)}"><input type="text" data-ng-disabled="vm.readonly" data-minicolors="{position: \'bottom left\',}" data-ng-model="vm.fieldValue" class="form-control input-sm"></div></div><div ng-if="vm.disabled &amp;&amp; !vm.options.filter">'+(null==(t=n(11).call(this,e))?"":t)+'</div></div><div ng-if="!vm.templates.preview &amp;&amp; vm.regim === \'preview\'" class="component-preview"> <div data-ng-show="vm.loadingData" class="loader-search-wrapper"><div class="loader-search">{{\'LOADING\' | translate}}</div></div><span ng-bind="::vm.previewValue" data-ng-show="!vm.loadingData" ng-if="!vm.multiple"></span><div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData" ng-if="vm.multiple"><span ng-bind="value"></span></div></div>'+(null==(t=n(2).call(this,e))?"":t)+"</div>")}.call(this,"undefined"in a?a.undefined:void 0),i.join("")}},function(e,t,n){n(1),e.exports=function(e){var t=[];return t.push("<div ng-class=\"{'field-wrapper row':!vm.options.filter, 'filter-wrapper-field': vm.options.filter}\"><div on-render-template ng-class=\"{'component-filter': vm.options.filter,                   'component-edit': ((vm.templates.edit &amp;&amp; !vm.options.filter) || (vm.templates.filter &amp;&amp; vm.options.filter)) &amp;&amp; vm.regim === 'edit',                   'component-preview': vm.templates.preview &amp;&amp; vm.regim === 'preview'}\" class=\"component-template\"></div></div>"),t.join("")}},function(e,t,n){n(1),e.exports=function(e){var t,i=[],a=e||{};return function(a){i.push("<div ng-class=\"{'field-wrapper row':!vm.options.filter, 'filter-wrapper-field': vm.options.filter}\"><div on-render-template ng-class=\"{'component-filter': vm.templates.filter &amp;&amp; vm.regim === 'filter',                   'component-edit': vm.templates.edit  &amp;&amp; vm.regim === 'edit',                   'component-preview': vm.templates.preview &amp;&amp; vm.regim === 'preview'}\" class=\"component-template\"></div><div ng-if=\"(!vm.templates.edit &amp;&amp; vm.regim === 'edit') || (!vm.templates.filter &amp;&amp; vm.regim === 'filter')\" ng-class=\"{'component-filter': vm.regim === 'filter'}\" class=\"component-edit\">"+(null==(t=n(3).call(this,e))?"":t)+'<div ng-class="{\'filter-inner-wrapper\': vm.options.filter, \'field-element\': !vm.options.filter}" ng-style="{\'overflow:auto\':vm.multiple}" ng-if="!vm.disabled|| vm.options.filter"><div data-ng-if="vm.multiple" ng-class="{\'col-lg-2 col-md-2 col-sm-3 col-xs-3 clear-padding-left\': (!vm.options.isGroup &amp;&amp; !vm.options.filter)}"><div data-ng-repeat="field_item in vm.fieldValue track by $index" class="item-datepicker-wrapper input-group"><input data-date-time="" name="{{vm.fieldName}}" data-ng-disabled="vm.readonly" data-ng-model="vm.fieldValue[$index]" min-date="vm.minDate" data-format="{{vm.format || \'DD.MM.YYYY\'}}" data-max-view="{{::vm.maxView}}" data-min-view="{{::vm.minView}}" data-view="{{::vm.view}}" data-ng-blur="vm.inputLeave(vm.fieldValue[$index])" data-min-date="minDate" data-max-date="maxDate" class="form-control input-sm"><span class="input-group-btn"><button data-ng-click="vm.removeItem($index)" data-ng-if="!vm.readonly" class="btn btn-default btn-sm">x</button></span></div><div data-ng-click="vm.addItem()" data-ng-disabled="vm.readonly" class="btn btn-primary btn-sm">{{\'BUTTON.ADD\' | translate}}</div></div><div data-ng-if="!vm.multiple" ng-class="{\'col-lg-2 col-md-2 col-sm-3 col-xs-3 clear-padding-left\': (!vm.options.isGroup &amp;&amp; !vm.options.filter)}"><input data-date-time="" name="{{vm.fieldName}}" data-ng-disabled="vm.readonly" data-ng-model="vm.fieldValue" data-format="{{vm.format || \'DD.MM.YYYY\'}}" data-max-view="{{::vm.maxView}}" data-min-view="{{::vm.minView}}" data-view="{{::vm.view}}" data-ng-blur="vm.inputLeave(vm.fieldValue)" data-min-date="minDate" data-max-date="maxDate" class="form-control input-sm"></div></div><div ng-if="vm.disabled &amp;&amp; !vm.options.filter" class="disabled-field">'+(null==(t=n(5).call(this,e))?"":t)+'</div></div><div ng-if="!vm.templates.preview &amp;&amp; vm.regim === \'preview\'" class="component-preview"> <div data-ng-show="vm.loadingData" class="loader-search-wrapper"><div class="loader-search">{{\'LOADING\' | translate}}</div></div><span ng-bind="::vm.previewValue" data-ng-show="!vm.loadingData" ng-if="!vm.multiple"></span><div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData" ng-if="vm.multiple"><span ng-bind="value"></span></div></div>'+(null==(t=n(2).call(this,e))?"":t)+"</div>")}.call(this,"undefined"in a?a.undefined:void 0),i.join("")}},function(e,t,n){var i=n(1);e.exports=function(e){var t,n=[];return n.push('<div data-ng-show="isOpen"><div data-ng-class="{&quot;dropdown-scroll&quot; : (lvlDropdown == 1)}"><div data-ng-repeat="option in options track by $index" data-ng-class="activeElement == $index ? \'active\' : \'\'" data-ng-mouseover="setActiveElement($event, $index)" class="dropdown-items__item"><div class="option"><div data-ng-if="::selectBranches || !option[childCountField]" data-ng-mousedown="onToggle($event, option)" data-ng-class="{&quot;multi_radio&quot; : !multiple}" class="option__checkbox"><div data-ng-style="{\'display\': option.checked ? \'block\' : \'\'}" data-ng-class="{&quot;radio multi_radio&quot;: !multiple, &quot;checkbox&quot;: multiple}" class="checkbox__check"></div></div><div data-ng-mousedown="onToggle($event, option, true)" class="option__label"><span data-ng-bind="option[fieldSearch]"></span>'+i.escape(null==(t=" ")?"":t)+'<span data-ng-if="option[childCountField]" data-ng-class="{\'option__child-count_open\': option.isOpen}" class="option__child-count">({{option[childCountField]}})</span></div></div><div data-ng-if="option[childCountField]" data-ng-show="!!option.loadingData" class="processing-status-wrapper"><div class="processing-status">Выполняется действие</div></div><div data-ng-if="option.childOpts" data-dropdown-items="" data-options="option.childOpts" data-is-open="option.isOpen" data-field-search="fieldSearch" data-child-count-field="childCountField" data-on-toggle="onToggle" data-api="api" data-select-branches="selectBranches" data-multiple="multiple" data-active-element="activeElement" data-set-active-element="setActiveElement" data-lvl-dropdown="lvlDropdown + 1" class="dropdown-items__children"></div></div></div></div>'),n.join("")}},function(e,t,n){n(1),e.exports=function(e){var t,i=[],a=e||{};return function(a){i.push("<div ng-class=\"{'field-wrapper row':!vm.options.filter, 'filter-wrapper-field': vm.options.filter}\"><div on-render-template ng-class=\"{'component-filter': vm.templates.filter &amp;&amp; vm.regim === 'filter',                   'component-edit': vm.templates.edit  &amp;&amp; vm.regim === 'edit',                   'component-preview': vm.templates.preview &amp;&amp; vm.regim === 'preview'}\" class=\"component-template\"></div><div ng-if=\"(!vm.templates.edit &amp;&amp; vm.regim === 'edit') || (!vm.templates.filter &amp;&amp; vm.regim === 'filter')\" ng-class=\"{'component-filter': vm.regim === 'filter'}\" class=\"component-edit\">"+(null==(t=n(3).call(this,e))?"":t)+'<div ng-class="{\'filter-inner-wrapper\': vm.options.filter, \'field-element\': !vm.options.filter}" ng-style="{\'overflow:auto\': vm.multiple}" ng-if="!vm.disabled || vm.options.filter"><div ng-class="vm.classComponent"><div data-ng-if="vm.multiple &amp;&amp; !vm.isTree"><div class="select-border"><select name="{{vm.fieldName}}" data-ng-disabled="vm.readonly || !vm.parentValue" data-ng-model="vm.fieldValue" multiple size="3" class="form-control"><option data-ng-repeat="option in vm.optionValues" value="{{option[vm.fieldId]}}">{{option[vm.fieldSearch]}}</option></select></div><div data-ng-show="!!vm.loadingData" style="position: absolute; margin: -28px 0 0 20px;" class="processing-status-wrapper"><div class="processing-status">{{\'PERFORMS_ACTIONS\' | translate}}</div></div></div><div data-ng-if="!vm.multiple &amp;&amp; !vm.isTree"><div data-ng-click="vm.clickSelect()" data-ng-class="{&quot;but-for-search&quot;: !vm.search, &quot;disabled-input&quot;: vm.readonly}" class="select-input-wrapper"><input data-ng-if="vm.search &amp;&amp; !vm.loadingData" ng-disabled="vm.readonly" placeholder="{{vm.placeholder}}" data-ng-class="vm.isSelection ? &quot;color-placeholder&quot; : &quot;&quot;" data-ng-model="vm.filterText" data-ng-change="vm.change()" data-ng-focus="vm.isShowPossible()" data-ng-blur="vm.isBlur()" class="form-control select-input"><input data-ng-if="!vm.search" data-ng-focus="vm.isShowPossible()" data-ng-blur="vm.isBlur()" class="focus-input"><div data-ng-if="!vm.search" class="form-control select-input"><div data-ng-class="vm.colorPlaceholder ? &quot;color-placeholder-div&quot; : &quot;&quot;" class="dropdown__selected-items">{{vm.placeholder}}</div></div><span data-ng-if="vm.isSpanSelectDelete &amp;&amp; !vm.readonly" data-ng-click="vm.deleteToSelected($event, false)" class="selecte-delete">×</span><div data-ng-if="!vm.readonly &amp;&amp; (vm.optionValues.length &gt; 0) &amp;&amp; vm.showPossible" data-ng-class="vm.possibleLocation ? &quot;possible-bottom&quot; : &quot;possible-top&quot;" class="possible-values active"><div class="possible-scroll"><div data-ng-repeat="option in vm.optionValues" data-ng-mouseover="vm.activeElement = $index" data-ng-mousedown="vm.addToSelected($event, option)" data-ng-class="vm.activeElement == $index ? \'active\' : \'\'" class="possible-value-item">{{option[vm.fieldSearch]}}</div></div></div></div><div data-ng-show="vm.loadingData" style="position: absolute; margin: -28px 0 0 20px;" class="processing-status-wrapper"><div class="processing-status">{{\'PERFORMS_ACTIONS\' | translate}}</div></div></div><div data-ng-if="vm.isTree" class="dropdown"><div class="dropdown__host"><div data-ng-class="{\'dropdown__title_open\': isOpen, \'disabled-input\': vm.readonly}" data-ng-click="vm.clickSelect()" data-ng-style="{&quot;cursor&quot; : vm.search &amp;&amp; !vm.loadingData ? &quot;text&quot; : &quot;pointer&quot;}" class="dropdown__title form-control select-input"><div data-ng-repeat="value in vm.fieldValue" data-ng-if="vm.fieldValue.length &amp;&amp; vm.multiple &amp;&amp; value[vm.fieldSearch]" class="selected-items__item"><div class="selected-item"><label ng-bind="value[vm.fieldSearch]" style="overflow: hidden; text-overflow: ellipsis; margin-right: 15px; display: block;"></label><span data-ng-click="vm.remove($event, value)" style="float: right; width: 10px; margin-top: -24px;" ng-if="!vm.readonly" class="selected-item__btn_delete">×</span></div></div><input data-ng-if="vm.search &amp;&amp; !vm.loadingData" ng-disabled="vm.readonly" data-ng-model="vm.filterText" data-ng-change="vm.change()" placeholder="{{vm.placeholder}}" data-ng-style="vm.styleInput" size="{{vm.sizeInput}}" data-ng-focus="toggleDropdown()" data-ng-blur="vm.isBlur()" data-ng-keydown="vm.deleteToSelected($event, true)" data-ng-class="vm.colorPlaceholder ? &quot;color-placeholder&quot; : &quot;&quot;" class="dropdown__search-field"><input data-ng-if="!vm.search" data-ng-focus="toggleDropdown()" data-ng-blur="vm.isBlur()" ng-disabled="vm.readonly" class="focus-input"><div data-ng-if="!vm.search" class="dropdown__selected"><div data-ng-class="vm.colorPlaceholder ? &quot;color-placeholder-div&quot; : &quot;&quot;" data-ng-if="!vm.loadingData" class="dropdown__selected-items dropdown-tree">{{vm.placeholder}}</div></div><span data-ng-if="vm.isSpanSelectDelete &amp;&amp; !vm.readonly" data-ng-click="vm.deleteToSelected($event, false)" class="selecte-delete">×</span><div data-ng-if="::(vm.treeParentField &amp;&amp; vm.treeChildCountField)" data-ng-class="{\'dropdown__items_with-selected\': vm.fieldValue.length &gt; 2 || (vm.search &amp;&amp; vm.fieldValue.length)}" data-dropdown-items="" data-options="vm.optionValues" data-is-open="isOpen &amp;&amp; vm.optionValues.length" data-field-search="vm.fieldSearch" data-child-count-field="vm.treeChildCountField" data-on-toggle="vm.toggle" data-api="vm.field.values_remote.url" data-select-branches="vm.treeSelectBranches" data-multiple="vm.multiple" data-active-element="vm.activeElement" data-set-active-element="vm.setActiveElement" data-lvl-dropdown="1" class="dropdown__items dropdown__items_with-padding active dropdown-bottom"></div></div></div><div data-ng-show="vm.loadingData" style="position: absolute; margin: -28px 0 0 20px;" class="processing-status-wrapper"><div class="processing-status">{{\'PERFORMS_ACTIONS\' | translate}}</div></div></div></div></div><div ng-if="vm.disabled &amp;&amp; !vm.options.filter" class="disabled-field">'+(null==(t=n(5).call(this,e))?"":t)+'</div></div><div ng-if="!vm.templates.preview &amp;&amp; vm.regim === \'preview\'" class="component-preview"> <div data-ng-show="vm.loadingData" class="loader-search-wrapper"><div class="loader-search">{{\'LOADING\' | translate}}</div></div><span ng-bind="::vm.previewValue" data-ng-show="!vm.loadingData" ng-if="!vm.multiple"></span><div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData" ng-if="vm.multiple"><span ng-bind="value"></span></div></div>'+(null==(t=n(2).call(this,e))?"":t)+"</div>")}.call(this,"undefined"in a?a.undefined:void 0),i.join("")}},function(e,t,n){n(1),e.exports=function(e){var t=[];return t.push('<div class="filter-component"><button data-ng-click="vm.toggleFilterVisibility()" class="btn btn-lg btn-default glyphicon glyphicon-filter filter-button"> </button><div data-ng-hide="!vm.visiable" class="editor-filter"><div ng-keyup="vm.clickEnter($event)" class="editor-filter-wrapper"><div class="editor-filter-body"><div ng-repeat="group in vm.body track by $index" class="filter-content-wrapper"><label ng-bind="group.label" title="{{group.label}}" class="filter-name-label"></label><component-wrapper ng-repeat="filter in group.filters" data-setting="filter.field" data-options="filter.options" style="{{filter.ngStyle}}"></component-wrapper></div></div><div class="editor-filter-footer"><component-wrapper data-ng-repeat="button in vm.footer track by $index" data-setting="button" data-options="vm.options" data-button-class="header"></component-wrapper></div></div></div></div>'),t.join("")}},function(e,t,n){n(1),e.exports=function(e){var t=[];return t.push('<div class="editor-body"><div data-ng-click="vm.closeButton()" ng-if="vm.closeButtonSettings.visible" class="close-editor"></div><component-wrapper ng-repeat="component in ::vm.components" data-setting="::component" data-options="::vm.options"></component-wrapper><div class="field-error-bottom-wrapper"><div data-ng-repeat="err in vm.errors" class="error-item alert alert-danger">{{err}}</div></div><div class="field-notify-bottom-wrapper"><div data-ng-repeat="notify in vm.notifys" class="notify-item">{{notify}}</div></div><div data-ng-if="vm.entityLoaded" class="editor-entity-actions"><component-wrapper data-ng-repeat="button in vm.editFooterBar track by $index" data-entity-id="{{vm.entityId}}" data-setting="button" data-options="vm.options" data-button-class="footer" class="editor-action-button"></component-wrapper></div></div>'),t.join("")}},function(e,t,n){n(1),e.exports=function(e){var t=[];return t.push('<div class="ue-tab-wrapper"><div class="nav nav-tabs"><li data-ng-repeat="tab in vm.tabs" data-ng-class="{\'active\': vm.indexTab === $index}" data-ng-click="vm.activateTab($index)"><a href="" ng-bind="::tab.label"></a></li></div><div class="tab-content-wrapper"><div data-ng-repeat="tab in ::vm.tabs" data-ng-show="vm.indexTab === $index" class="tab-item-content"><component-wrapper data-ng-repeat="field in tab.fields" data-setting="field" data-options="vm.options" data-button-class="footer"></component-wrapper></div></div></div>'),t.join("")}},function(e,t,n){n(1),e.exports=function(e){var t=[];return t.push('<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><div class="editor-header"><component-wrapper ng-if="vm.filterComponent" data-setting="vm.filterComponent" data-options="vm.options"></component-wrapper><component-wrapper ng-repeat="button in vm.listHeaderBar track by $index" data-setting="button" data-button-class="header" data-options="vm.options" class="header-action-button">       </component-wrapper></div><div class="groups-action"><button data-ng-if="vm.parentButton &amp;&amp; !vm.options.isLoading" data-ng-click="vm.getParent()" class="btn btn-sm btn-default">{{\'BUTTON.HIGHER_LEVEL\' | translate}}</button></div><div data-ng-show="vm.request.isProcessing" class="processing-status-wrapper"><div class="processing-status">{{\'PERFORMS_ACTIONS\' | translate}}    </div></div><table data-ng-hide="vm.options.isLoading" class="table table-bordered items-list"><thead><tr><td ng-if="vm.isContextMenu" class="actions-header context-column"></td><td data-ng-repeat="fieldItem in vm.tableFields" data-ng-class="{ \'active\' : fieldItem.field == vm.sortField, \'asc\' : vm.sortingDirection, \'desc\' : !vm.sortingDirection}" data-ng-click="vm.changeSortField(fieldItem.field, fieldItem.sorted)">{{fieldItem.displayName}}</td></tr></thead><tbody data-ng-if="vm.listLoaded"><tr data-ng-repeat="item in vm.items" data-ng-class="{\'zhs-item\' : item[vm.subType] &amp;&amp; item[vm.subType] !== undefined}" data-ng-mousedown="vm.toggleContextViewByEvent(item[vm.idField], $event)" oncontextmenu="return false;"><td ng-if="vm.isContextMenu" class="context-column"><span data-ng-click="vm.toggleContextView(item[vm.idField])" data-ng-show="(vm.contextLinks.length &amp;&amp; (item[vm.subType] || item[vm.subType] == undefined)) || (vm.mixContextLinks.length &amp;&amp; vm.collectionType)" class="context-toggle">Toggle buttons</span><div data-ng-show="vm.contextId == item[vm.idField]" data-ng-style="vm.styleContextMenu" class="context-menu-wrapper"><div data-ng-repeat="link in vm.contextLinks track by $index" data-ng-if="item[vm.subType] !== vm.collectionType || !vm.isMixMode" data-ng-class="{\'component-separator\': link.separator}" class="context-menu-item"><component-wrapper data-setting="link" data-entity-id="{{::item[vm.idField]}}" data-button-class="context" data-scope-id-parent="{{vm.scopeIdParent}}" data-options="vm.options"></component-wrapper></div><div data-ng-repeat="link in vm.mixContextLinks track by $index" data-ng-if="vm.collectionType &amp;&amp; item[vm.subType] === vm.collectionType" data-ng-class="{\'component-separator\': link.separator}" class="context-menu-item"><component-wrapper data-setting="link" data-entity-id="{{::item[vm.idField]}}" data-button-class="context" data-scope-id-parent="{{vm.scopeIdParent}}" data-options="vm.mixOption"></component-wrapper></div></div></td><td data-ng-repeat="fieldItem in vm.tableFields track by $index"><span data-ng-class="{\'glyphicon-folder-open icon-mix-mode\' : vm.isMixMode &amp;&amp; item[vm.subType] !== vm.collectionType}" data-ng-if="vm.prependIcon === fieldItem.field" class="glyphicon"></span><component-wrapper data-setting="fieldItem.component" data-options="item.$options" ng-style="{\'padding-left\': (item.parentPadding || 0) * 10 + \'px\'}"></component-wrapper></td></tr><tr data-ng-if="vm.items.length == 0"><td colspan="{{vm.tableFields.length + vm.isContextMenu}}">{{\'ELEMENT_NO\' | translate}}</td></tr></tbody><tfoot><tr><td colspan="{{vm.tableFields.length + vm.isContextMenu}}"><component-wrapper data-ng-repeat="component in vm.listFooterBar track by $index" data-setting="component" data-options="vm.options"></component-wrapper></td></tr></tfoot></table></div>'),
t.join("")}},function(e,t,n){n(1),e.exports=function(e){var t,i=[],a=e||{};return function(a){i.push('<div class="editor-field-array">'+(null==(t=n(3).call(this,e))?"":t)+'<div class="field-array-wrapper editor-group col-md-12 col-xs-12 col-sm-12 col-lg-12"><div data-ng-if="vm.multiple"><div data-ng-repeat="fields in vm.fieldsArray track by $index" data-ng-init="outerIndex = $index" class="item-array-wrapper"><data-component-wrapper ng-class="vm.className" data-ng-repeat="field in fields" data-setting="field" data-options="vm.options"></data-component-wrapper><div class="col-md-12 col-xs-12 col-lg-12 col-sm-12"><div data-ng-click="vm.removeItem(outerIndex)" data-ng-if="!vm.readonly" class="btn btn-primary btn-xs">{{\'BUTTON.DELETE\' | translate}}</div></div></div><div class="col-md-12 col-xs-12 col-lg-12 col-sm-12"><div data-ng-click="vm.addItem()" data-ng-if="!vm.readonly" class="btn btn-primary btn-sm">{{\'BUTTON.ADD\' | translate}}</div></div></div><div data-ng-if="!vm.multiple"><data-component-wrapper ng-class="vm.className" data-ng-repeat="field in vm.innerFields" data-setting="field" data-options="vm.option"></data-component-wrapper></div></div>'+(null==(t=n(2).call(this,e))?"":t)+"</div>")}.call(this,"undefined"in a?a.undefined:void 0),i.join("")}},function(e,t,n){n(1),e.exports=function(e){var t=[];return t.push('<div style="background: #ebf1f3;"><div data-ng-click="vm.cancel()" style="display: block; position: absolute; top: 22px; right: 22px; width: 13px; height: 13px; cursor: pointer;" class="close-editor"></div><div ng-show="vm.header" class="ue-modal-header"><label ng-bind="vm.header.label"></label></div><div ng-show="vm.body" class="ue-modal-body"><div ng-bind="vm.body.text" ng-show="vm.body.text" class="text"></div><div data-ng-if="vm.body &amp;&amp; vm.body.component" class="field-content-wrapper"><component-wrapper data-setting="vm.body" data-options="vm.options"></component-wrapper></div></div><div data-ng-show="vm.footer" class="ue-modal-footer"><component-wrapper data-ng-repeat="button in vm.footer track by $index" data-setting="button" data-options="vm.options" data-button-class="header" class="editor-modal-button"></component-wrapper></div></div>'),t.join("")}},function(e,t,n){n(1),e.exports=function(e){var t=[];return t.push('<div><ul class="pagination col-lg-10 col-md-10 col-sm-10 col-xs-10"><li data-ng-repeat="pageItem in vm.pageItemsArray" data-ng-class="pageItem.self ? \'active\' : \'\'"><a data-ng-if="!pageItem.self" href="#" data-ng-click="vm.changePage($event, pageItem)">{{pageItem.label}}</a><span data-ng-if="pageItem.self">{{pageItem.label}}</span></li></ul><div dana-ng-if="vm.metaKey" class="meta-info col-lg-2 col-md-2 col-sm-2 col-xs-2">{{\'ELEMENTS\' | translate}} {{vm.metaData.fromItem}} - {{vm.metaData.toItem}} {{\'FROM\' | translate}} {{vm.metaData.totalCount}}</div></div>'),t.join("")}},function(e,t,n){n(1),e.exports=function(e){var t,i=[],a=e||{};return function(a){i.push("<div ng-class=\"{'field-wrapper row':!vm.options.filter, 'filter-wrapper-field': vm.options.filter}\"><div on-render-template ng-class=\"{'component-filter': vm.templates.filter &amp;&amp; vm.regim === 'filter',                   'component-edit': vm.templates.edit  &amp;&amp; vm.regim === 'edit',                   'component-preview': vm.templates.preview &amp;&amp; vm.regim === 'preview'}\" class=\"component-template\"></div><div ng-if=\"(!vm.templates.edit &amp;&amp; vm.regim === 'edit') || (!vm.templates.filter &amp;&amp; vm.regim === 'filter')\" ng-class=\"{'component-filter': vm.regim === 'filter'}\" class=\"component-edit\">"+(null==(t=n(3).call(this,e))?"":t)+'<div ng-class="{\'filter-inner-wrapper\': vm.options.filter, \'field-element\': !vm.options.filter}" ng-if="!vm.disabled || vm.options.filter"><div data-ng-repeat="item in vm.optionValues" data-ng-class="{\'radiodisabled\': vm.readonly}">\t\t<label class="radio"><input type="radio" data-ng-disabled="vm.readonly" data-ng-model="vm.fieldValue" value="{{::item[vm.fieldId]}}"><span ng-bind="::item[vm.fieldSearch]"></span></label></div></div><div ng-if="vm.disabled &amp;&amp; !vm.options.filter" class="disabled-field">'+(null==(t=n(5).call(this,e))?"":t)+'</div></div><div ng-if="!vm.templates.preview &amp;&amp; vm.regim === \'preview\'" class="component-preview"> <div data-ng-show="vm.loadingData" class="loader-search-wrapper"><div class="loader-search">{{\'LOADING\' | translate}}</div></div><span ng-bind="::vm.previewValue" data-ng-show="!vm.loadingData" ng-if="!vm.multiple"></span><div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData" ng-if="vm.multiple"><span ng-bind="value"></span></div></div>'+(null==(t=n(2).call(this,e))?"":t)+"</div>")}.call(this,"undefined"in a?a.undefined:void 0),i.join("")}},function(e,t,n){n(1),e.exports=function(e){var t,i=[],a=e||{};return function(a){i.push("<div ng-class=\"{'field-wrapper row':!vm.options.filter, 'filter-wrapper-field': vm.options.filter}\"><div on-render-template ng-class=\"{'component-filter': vm.templates.filter &amp;&amp; vm.regim === 'filter',                   'component-edit': vm.templates.edit  &amp;&amp; vm.regim === 'edit',                   'component-preview': vm.templates.preview &amp;&amp; vm.regim === 'preview'}\" class=\"component-template\"></div><div ng-if=\"(!vm.templates.edit &amp;&amp; vm.regim === 'edit') || (!vm.templates.filter &amp;&amp; vm.regim === 'filter')\" ng-class=\"{'component-filter': vm.regim === 'filter'}\" class=\"component-edit\">"+(null==(t=n(3).call(this,e))?"":t)+'<div ng-class="{\'filter-inner-wrapper\': vm.options.filter, \'field-element\': !vm.options.filter}" ng-if="!vm.disabled || vm.options.filter"><div data-ng-if="vm.multiple" data-ng-class="vm.classComponent"><div data-ng-repeat="field_item in vm.fieldValue track by $index" class="item-string-wrapper input-group"><input type="{{vm.typeInput}}" data-ui-mask="{{vm.mask}}" data-ui-options="{maskDefinitions : vm.maskDefinitions}" data-ng-disabled="vm.readonly" name="{{vm.fieldName}}" data-ng-model="vm.fieldValue[$index]" step="{{vm.stepNumber}}" data-ng-blur="vm.inputLeave(vm.fieldValue[$index], $index)" ng-trim="false" class="form-control input-sm"><span class="input-group-btn"><button data-ng-click="vm.removeItem($index)" data-ng-if="!vm.readonly" class="btn btn-default btn-sm">x</button></span></div><div data-ng-click="vm.addItem()" data-ng-disabled="vm.readonly" class="btn btn-primary btn-sm">{{\'BUTTON.ADD\' | translate}}</div></div><div data-ng-if="!vm.multiple" data-ng-class="vm.classComponent"><input type="{{vm.typeInput}}" data-ui-mask="{{vm.mask}}" data-ui-options="{maskDefinitions : vm.maskDefinitions}" data-ng-disabled="vm.readonly" name="{{vm.fieldName}}" data-ng-model="vm.fieldValue" step="{{vm.stepNumber}}" data-ng-blur="vm.inputLeave(vm.fieldValue)" size="{{vm.size}}" ng-trim="false" class="form-control input-sm"></div></div><div ng-if="vm.disabled &amp;&amp; !vm.options.filter" class="disabled-field">'+(null==(t=n(5).call(this,e))?"":t)+'</div></div><div ng-if="!vm.templates.preview &amp;&amp; vm.regim === \'preview\'" class="component-preview"> <div data-ng-show="vm.loadingData" class="loader-search-wrapper"><div class="loader-search">{{\'LOADING\' | translate}}</div></div><span ng-bind="::vm.previewValue" data-ng-show="!vm.loadingData" ng-if="!vm.multiple"></span><div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData" ng-if="vm.multiple"><span ng-bind="value"></span></div></div>'+(null==(t=n(2).call(this,e))?"":t)+"</div>")}.call(this,"undefined"in a?a.undefined:void 0),i.join("")}},function(e,t,n){n(1),e.exports=function(e){var t,i=[],a=e||{};return function(a){i.push("<div ng-class=\"{'field-wrapper row':!vm.options.filter, 'filter-wrapper-field': vm.options.filter}\"><div on-render-template ng-class=\"{'component-filter': vm.templates.filter &amp;&amp; vm.regim === 'filter',                   'component-edit': vm.templates.edit  &amp;&amp; vm.regim === 'edit',                   'component-preview': vm.templates.preview &amp;&amp; vm.regim === 'preview'}\" class=\"component-template\"></div><div ng-if=\"(!vm.templates.edit &amp;&amp; vm.regim === 'edit') || (!vm.templates.filter &amp;&amp; vm.regim === 'filter')\" ng-class=\"{'component-filter': vm.regim === 'filter'}\" class=\"component-edit\">"+(null==(t=n(3).call(this,e))?"":t)+'<div ng-class="{\'filter-inner-wrapper\': vm.options.filter, \'field-element\': !vm.options.filter}" ng-if="!vm.disabled || vm.options.filter"><div data-ng-if="vm.multiple" data-ng-class="vm.classComponent"><div data-ng-repeat="field_item in vm.fieldValue track by $index" class="item-textarea-wrapper"><textarea name="{{vm.fieldName}}" rows="{{vm.rows}}" data-ng-disabled="vm.readonly" data-ng-model="vm.fieldValue[$index]" data-ng-blur="vm.inputLeave(vm.fieldValue[$index])" data-ng-trim="false" data-ui-mask="{{vm.mask}}" data-ui-options="{maskDefinitions : vm.maskDefinitions}" class="form-control editor-textarea"></textarea><div data-ng-click="vm.removeItem($index)" data-ng-if="!vm.readonly" class="btn btn-default btn-sm">x</div></div><div data-ng-click="vm.addItem()" data-ng-disabled="vm.readonly" class="btn btn-primary btn-sm">{{\'BUTTON.ADD\' | translate}}</div></div><div data-ng-if="!vm.multiple" data-ng-class="vm.classComponent"><textarea name="{{vm.fieldName}}" rows="{{vm.rows}}" data-ng-disabled="vm.readonly" data-ng-model="vm.fieldValue" data-ng-blur="vm.inputLeave(vm.fieldValue)" data-ng-trim="false" data-ui-mask="{{vm.mask}}" data-ui-options="{maskDefinitions : vm.maskDefinitions}" class="form-control editor-textarea"></textarea></div></div><div ng-if="vm.disabled &amp;&amp; !vm.options.filter" class="disabled-field">'+(null==(t=n(5).call(this,e))?"":t)+'</div></div><div ng-if="!vm.templates.preview &amp;&amp; vm.regim === \'preview\'" class="component-preview"> <div data-ng-show="vm.loadingData" class="loader-search-wrapper"><div class="loader-search">{{\'LOADING\' | translate}}</div></div><span ng-bind="::vm.previewValue" data-ng-show="!vm.loadingData" ng-if="!vm.multiple"></span><div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData" ng-if="vm.multiple"><span ng-bind="value"></span></div></div>'+(null==(t=n(2).call(this,e))?"":t)+"</div>")}.call(this,"undefined"in a?a.undefined:void 0),i.join("")}},function(e,t,n){n(1),e.exports=function(e){var t=[];return t.push('<div class="universal-editor"></div>'),t.join("")}},function(e,t,n){n(1),e.exports=function(e){var t,i=[],a=e||{};return function(a){i.push('<div ng-class="{\'field-wrapper row\':!vm.options.filter, \'filter-wrapper-field\': vm.options.filter}"><div on-render-template ng-class="{\'component-filter\': vm.templates.filter &amp;&amp; vm.regim === \'filter\',                   \'component-edit\': vm.templates.edit  &amp;&amp; vm.regim === \'edit\',                   \'component-preview\': vm.templates.preview &amp;&amp; vm.regim === \'preview\'}" class="component-template"></div><div ng-if="(!vm.templates.edit &amp;&amp; vm.regim === \'edit\') || (!vm.templates.filter &amp;&amp; vm.regim === \'filter\')" ng-class="{\'component-filter\': vm.regim === \'filter\'}" class="component-edit"></div><div ng-if="!vm.templates.preview &amp;&amp; vm.regim === \'preview\'" class="component-preview"> <div data-ng-show="vm.loadingData" class="loader-search-wrapper"><div class="loader-search">{{\'LOADING\' | translate}}</div></div><span ng-bind="::vm.previewValue" data-ng-show="!vm.loadingData" ng-if="!vm.multiple"></span><div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData" ng-if="vm.multiple"><span ng-bind="value"></span></div></div>'+(null==(t=n(2).call(this,e))?"":t)+"</div>")}.call(this,"undefined"in a?a.undefined:void 0),i.join("")}},function(e,t,n){n(13),n(14),n(12);var i=n(116);i.keys().forEach(i),n(114)},function(e,t){!function(){"use strict";var e={bindings:{setting:"=",entityId:"@",buttonClass:"@",options:"="},controller:"ComponentWrapperController",controllerAs:"vm"};angular.module("universal.editor").component("componentWrapper",e)}()},function(e,t){!function(){"use strict";function e(e,t,n){var i=this;i.$onInit=function(){t.setting=i.setting,t.setting.entityId=i.entityId,t.setting.buttonClass=i.buttonClass,t.options=i.options||{}},this.$postLink=function(){e.on("$destroy",function(){t.$destroy()});var i=new n(t).build();e.addClass("component-wrapper"),e.append(i)}}angular.module("universal.editor").controller("ComponentWrapperController",e),e.$inject=["$element","$scope","ComponentBuilder"]}()},function(e,t){!function(){"use strict";var e={bindings:{setting:"<",options:"<"},template:["$templateCache",function(e){return e.get("module/components/ueAutocomplete/ueAutocomplete.html")}],controller:"UeAutocompleteController",controllerAs:"vm"};angular.module("universal.editor").component("ueAutocomplete",e)}()},function(e,t){!function(){"use strict";function e(e,t,n,i,a,o,r,l,s){function d(e,n){w.multiple?w.fieldValue.push(n[w.fieldId]):(w.selectedValues=[],w.placeholder=n[w.fieldSearch],w.fieldValue=n[w.fieldId]),w.selectedValues.push(n),t.find(".autocomplete-field-search").removeClass("hidden"),w.inputValue="",w.sizeInput=1,w.possibleValues=[],e&&!w.multiple&&e.stopPropagation()}function p(e,t){w.multiple||(w.fieldValue=null),angular.forEach(w.selectedValues,function(e,n){e[w.fieldId]==t[w.fieldId]&&(w.selectedValues.splice(n,1),w.multiple?w.fieldValue.splice(n,1):w.placeholder="")})}function c(e){if(w.error=[],!(""===e||e.length<=w.minCount))if(w.searching=!0,b.hasOwnProperty("values"))angular.forEach(b.values,function(t,n){var i={};angular.isArray(b.values)?i[w.fieldId]=t:i[w.fieldId]=n,i[w.field_Sarch]=t,t.toLowerCase().indexOf(e.toLowerCase())>=0&&!m(i,w.selectedValues)&&w.possibleValues.push(i)}),w.activeElement=0,w.searching=!1;else{var t={};t[w.field_Sarch]="%"+e+"%",a.getUrlResource(b.valuesRemote.url+"?filter="+JSON.stringify(t)).then(function(e){angular.forEach(e.data.items,function(e){m(e,w.selectedValues)||m(e,w.possibleValues)||w.possibleValues.push(e)}),w.activeElement=0,w.searching=!1},function(e){s("ERROR.FIELD.VALUES_REMOTE").then(function(e){}),w.searching=!1})}}function m(e,t){return!!t&&t.filter(function(t){return t[w.fieldId]==e[w.fieldId]}).length}function u(){if(w.preloadedData=!1,b.hasOwnProperty("values"))angular.forEach(b.values,function(e,t){var n={};Array.isArray(w.fieldValue)&&w.fieldValue.indexOf(t)>=0&&w.multiple?(angular.isArray(b.values)?n[w.fieldId]=e:n[w.fieldId]=t,n[w.field_Sarch]=e,w.selectedValues.push(n)):w.fieldValue!=t&&w.fieldValue!=e||w.multiple||(angular.isArray(b.values)?n[w.fieldId]=e:n[w.fieldId]=t,n[w.field_Sarch]=e,w.selectedValues.push(n),w.placeholder=n[w.fieldSearch])}),w.preloadedData=!0;else if(b.hasOwnProperty("valuesRemote")){if(!w.fieldValue)return void(w.preloadedData=!0);var e={};angular.isArray(w.fieldValue)?e[w.fieldId]=w.fieldValue:(e[w.fieldId]=[],e[w.fieldId].push(w.fieldValue)),a.getUrlResource(b.valuesRemote.url+"?filter="+JSON.stringify(e)).then(function(e){angular.forEach(e.data.items,function(e){Array.isArray(w.fieldValue)&&(w.fieldValue.indexOf(e[w.fieldId])>=0||w.fieldValue.indexOf(e[w.fieldId]+"")>=0)&&w.multiple&&!m(e,w.selectedValues)?w.selectedValues.push(e):w.fieldValue!=e[w.fieldId]||w.multiple||(w.selectedValues.push(e),w.placeholder=e[w.fieldSearch])}),w.preloadedData=!0},function(e){w.preloadedData=!0,s("ERROR.FIELD.VALUES_REMOTE").then(function(e){})})}else w.preloadedData=!0,s("ERROR.FIELD.NOT_TYPE_VALUE").then(function(e){})}function v(e){w.isActivePossible=e,e||(w.showPossible=!1),w.multiple||t.find(".autocomplete-item").length>0&&(e?(t.find(".autocomplete-field-search").removeClass("hidden"),t.find(".autocomplete-item").addClass("opacity-item")):(t.find(".autocomplete-field-search").addClass("hidden"),t.find(".autocomplete-item").removeClass("opacity-item")))}function f(e){8==e.which&&w.selectedValues&&w.selectedValues.length&&!w.inputValue&&w.multiple&&w.removeFromSelected(e,w.selectedValues[w.selectedValues.length-1])}function g(){w.fieldValue=w.multiple?[]:null,t.find(".autocomplete-field-search").removeClass("hidden"),w.inputValue="",w.sizeInput=1,w.selectedValues=[],w.placeholder=""}var h,b,w=this;w.$onInit=function(){w.optionValues=[],angular.extend(w,l("FieldsController",{$scope:e})),b=w.setting.component.settings,w.selectedValues=[],w.inputValue="",w.possibleValues=[],w.activeElement=0,w.preloadedData=!0,w.searching=!1,w.maxItemsCount=b.maxItems||Number.POSITIVE_INFINITY,w.minCount=b.minCount||2,w.sizeInput=1,w.classInput={width:"1px"},w.showPossible=!1,w.addToSelected=d,w.removeFromSelected=p,w.focusPossible=v,w.deleteToAutocomplete=f,w.multiple||(w.classInput.width="99%",w.classInput["padding-right"]="25px"),w.options.filter&&u(),w.listeners.push(e.$on("editor:entity_loaded",function(t,n){n.$parentComponentId&&(n.$parentComponentId!==w.parentComponentId||w.options.filter)||(w.loadingData=!0,e.onLoadDataHandler(t,n),b.$loadingPromise.then(function(e){w.optionValues=e,w.equalPreviewValue()}).finally(function(){w.loadingData=!1}))})),w.listeners.push(e.$watch(function(){return w.inputValue},function(e){e&&(h&&o.cancel(h),w.showPossible=!0,w.possibleValues=[],w.multiple&&(w.sizeInput=e.length||1,1===w.sizeInput&&1!=e.length?w.classInput.width="1px":w.classInput.width="initial"),h=o(function(){c(e)},300))},!0))},t.bind("keydown",function(e){var n;switch(e.which){case 13:if(e.preventDefault(),w.possibleValues.length<1)break;o(function(){w.addToSelected(e,w.possibleValues[w.activeElement])},0);break;case 40:if(e.preventDefault(),w.possibleValues.length<1)break;n=angular.element(t[0].getElementsByClassName("possible-scroll")[0]),w.activeElement<w.possibleValues.length-1&&(o(function(){w.activeElement++},0),o(function(){var e=angular.element(n[0].getElementsByClassName("active")[0])[0].offsetTop,t=angular.element(n[0].getElementsByClassName("active")[0])[0].clientHeight,i=n[0].scrollTop,a=n[0].clientHeight;e>=a+i-t&&(n[0].scrollTop+=t+1)},1));break;case 38:if(e.preventDefault(),w.possibleValues.length<1)break;n=angular.element(t[0].getElementsByClassName("possible-scroll")[0]),w.activeElement>0&&(o(function(){w.activeElement--},0),o(function(){var e=angular.element(n[0].getElementsByClassName("active")[0])[0].offsetTop,t=angular.element(n[0].getElementsByClassName("active")[0])[0].clientHeight,i=n[0].scrollTop;n[0].clientHeight,e<i&&(n[0].scrollTop-=t+1)},1))}}),this.$postLink=function(){e.inputFocus=function(){w.multiple||(t.find(".autocomplete-field-search").removeClass("hidden"),t.find(".autocomplete-item").addClass("opacity-item")),w.showPossible=!0,t.find("input")[0].focus()},t.on("$destroy",function(){e.$destroy()})},w.clear=g}angular.module("universal.editor").controller("UeAutocompleteController",e),e.$inject=["$scope","$element","$document","EditEntityStorage","RestApiService","$timeout","FilterFieldsStorage","$controller","$translate"]}()},function(e,t){!function(e){try{e=angular.module("universal.editor.templates")}catch(t){e=angular.module("universal.editor.templates",[])}e.run(["$templateCache",function(e){e.put("module/components/ueAutocomplete/ueAutocomplete.html","\n<div ng-class=\"{'field-wrapper row':!vm.options.filter, 'filter-wrapper-field': vm.options.filter}\">\n    <div on-render-template=\"on-render-template\" ng-class=\"{'component-filter': vm.templates.filter &amp;&amp; vm.regim === 'filter',                   'component-edit': vm.templates.edit  &amp;&amp; vm.regim === 'edit',                   'component-preview': vm.templates.preview &amp;&amp; vm.regim === 'preview'}\" class=\"component-template\"></div>\n    <div ng-if=\"(!vm.templates.edit &amp;&amp; vm.regim === 'edit') || (!vm.templates.filter &amp;&amp; vm.regim === 'filter')\" ng-class=\"{'component-filter': vm.regim === 'filter'}\" class=\"component-edit\">\n"+'        <label ng-if="!vm.options.filter &amp;&amp; !!vm.label" class="field-name-label">\n            <div data-ng-if="!!vm.hint" class="field-hint">\n                <div ng-bind="::vm.hint" class="hint-text"></div>\n            </div><span data-ng-class="{\'editor-required\': vm.required}" ng-bind="::vm.label"></span>\n        </label>\n        <div ng-class="{\'filter-inner-wrapper\': vm.options.filter, \'field-element\': !vm.options.filter}" ng-style="{\'overflow:auto\':vm.multiple}" ng-if="!vm.disabled || vm.options.filter">\n            <div ng-class="vm.classComponent">\n                <div data-ng-class="{&quot;active&quot; : vm.isActivePossible, &quot;disabled-input&quot;: vm.readonly}" data-ng-click="inputFocus()" class="autocomplete-input-wrapper form-control">\n                    <div data-ng-repeat="acItem in vm.selectedValues" data-ng-show="acItem[vm.fieldSearch]" data-ng-if="vm.multiple" class="autocomplete-item">{{acItem[vm.fieldSearch]}}<span data-ng-click="vm.removeFromSelected($event, acItem)" data-ng-if="!vm.readonly" class="remove-from-selected">×</span></div>\n                    <input ng-show="vm.preloadedData" type="text" ng-disabled="vm.readonly" data-ng-model="vm.inputValue" data-ng-focus="vm.focusPossible(true)" data-ng-blur="vm.focusPossible(false)" size="{{vm.sizeInput}}" data-ng-style="vm.classInput" data-ng-keydown="vm.deleteToAutocomplete($event)" placeholder="{{vm.placeholder}}" data-ng-class="!vm.isActivePossible ? &quot;color-placeholder&quot; : &quot;&quot;" class="autocomplete-field-search"/><span data-ng-if="!vm.multiple &amp;&amp; !!vm.selectedValues.length &amp;&amp; !vm.readonly" data-ng-click="vm.removeFromSelected($event, vm.selectedValues[0])" class="selecte-delete selecte-delete-autocomplete">×</span>\n                    <div data-ng-show="vm.searching || !vm.preloadedData" class="loader-search-wrapper">\n                        <div class="loader-search">{{\'LOADING\' | translate}}</div>\n                    </div>\n                    <div data-ng-if="!vm.readonly &amp;&amp; (vm.possibleValues.length &gt; 0) &amp;&amp; vm.showPossible" class="possible-values possible-autocomplete active possible-bottom">\n                        <div class="possible-scroll">\n                            <div data-ng-repeat="possible in vm.possibleValues" data-ng-mouseover="vm.activeElement = $index" data-ng-mousedown="vm.addToSelected($event, possible)" data-ng-class="vm.activeElement == $index ? \'active\' : \'\'" class="possible-value-item">{{::possible[vm.fieldSearch]}}</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div ng-if="vm.disabled &amp;&amp; !vm.options.filter" class="disabled-field">\n            <div><span ng-bind="::vm.previewValue" data-ng-show="!vm.loadingData" ng-if="!vm.multiple"></span>\n                <div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData" ng-if="vm.multiple"><span ng-bind="value"></span></div>\n            </div>\n        </div>\n    </div>\n    <div ng-if="!vm.templates.preview &amp;&amp; vm.regim === \'preview\'" class="component-preview"> \n        <div data-ng-show="vm.loadingData" class="loader-search-wrapper">\n            <div class="loader-search">{{\'LOADING\' | translate}}</div>\n        </div><span ng-bind="::vm.previewValue" data-ng-show="!vm.loadingData" ng-if="!vm.multiple"></span>\n        <div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData" ng-if="vm.multiple"><span ng-bind="value"></span></div>\n    </div>\n    <div ng-if="!vm.options.filter" class="field-error-wrapper">\n        <div data-ng-repeat="err in vm.error track by $index" class="error-item alert alert-danger">{{err}}</div>\n    </div>\n</div>')}])}()},function(e,t){!function(){"use strict";var e={template:["$templateCache",function(e){return e.get("module/components/ueButtonFilter/ueButtonFilter.html")}],bindings:{setting:"<",options:"<"},controller:"UeButtonFilterController",controllerAs:"vm"};angular.module("universal.editor").component("ueButtonFilter",e)}()},function(e,t){!function(){"use strict";function e(e,t,n,i,a,o){n.addClass("ue-button"),n.addClass("grey");var r,l=this;l.$onInit=function(){angular.extend(l,o("ButtonsController",{$scope:t})),r=l.options.$parentComponentId},n.bind("click",function(){var t,n=l.options.$parentComponentId;l.beforeSend&&(i.callbackBeforeSend=l.beforeSend);var o=l.options.prefixGrid?l.options.prefixGrid+"-filter":"filter";if(t=a.search()[o],t&&(t=JSON.parse(t)),"send"===l.action){var r=i.calculate(n,o);r&&(t=t||{},t=angular.merge(t,r))}"clear"===l.action&&(i.clearFiltersValue(n,o),t&&delete t[n]),a.search(o,JSON.stringify(t)),e.$broadcast("editor:read_entity",l.options)}),n.on("$destroy",function(){t.$destroy()})}angular.module("universal.editor").controller("UeButtonFilterController",e),e.$inject=["$rootScope","$scope","$element","FilterFieldsStorage","$location","$controller"]}()},function(e,t){!function(){"use strict";var e={template:["$templateCache",function(e){return e.get("module/components/ueButtonLink/ueButtonLink.html")}],bindings:{setting:"<",options:"<"},controller:"UeButtonLinkController",controllerAs:"vm"};angular.module("universal.editor").component("ueButtonLink",e)}()},function(e,t){!function(){"use strict";function e(e,t,n,i,a,o,r,l,s,d,p){t.addClass("ue-button");var c,m,u=this;u.$onInit=function(){angular.extend(u,l("ButtonsController",{$scope:e})),c=u.setting.component.settings.state,m=u.setting.component.settings.url,u.entityId=u.entityId||"new",u.setting.buttonClass=u.setting.buttonClass||"default"},t.bind("click",function(){var e={reload:!0};if(!u.options.isLoading)if(!c&&m){if(angular.isString(m)){o.options=u.options,m=m.replace(":pk",u.entityId);var t=!~m.indexOf(i.path()),l=i.search();l.back=n.current.name;var p=d(l);p&&(p="?"+p),s.location.href=m+p,t&&s.location.reload()}}else{var v="pk",l={};l[v]=u.entityId;var f=i.search();c&&("ue-modal"===c?(o.options=u.options,e.reload=!1):u.options&&u.options.back&&(f.back=a.getStateConfig().name)),f.back=n.current.name,n.go(c,l,e).then(function(){i.search(f),r(function(){var e=n.params["pk"+a.getLevelChild(n.current.name)];"new"!==e||o.isModalOpen()||a.newSourceEntity(u.options.$parentComponentId,u.setting.component.settings.dataSource.parentField)},0)})}}),u.$postLink=function(){t.on("$destroy",function(){e.$destroy()})}}angular.module("universal.editor").controller("UeButtonLinkController",e),e.$inject=["$scope","$element","$state","$location","EditEntityStorage","ModalService","$timeout","$controller","$window","$httpParamSerializerJQLike","$translate"]}()},function(e,t){!function(){"use strict";var e={template:["$templateCache",function(e){return e.get("module/components/ueButtonModal/ueButtonModal.html")}],bindings:{setting:"<",options:"<"},controller:"UeButtonModalController",controllerAs:"vm"};angular.module("universal.editor").component("ueButtonModal",e)}()},function(e,t){!function(){"use strict";function e(e,t,n,i,a,o,r){n.addClass("ue-button");var l=this;l.$onInit=function(){angular.extend(l,r("ButtonsController",{$scope:t}))},n.bind("click",function(){"close"===l.action&&(l.beforeAction&&l.beforeAction(),a.close(!0))})}angular.module("universal.editor").controller("UeButtonModalController",e),e.$inject=["$rootScope","$scope","$element","$window","ModalService","ButtonsService","$controller"]}()},function(e,t){!function(){"use strict";var e={template:["$templateCache",function(e){return e.get("module/components/ueButtonRequest/ueButtonRequest.html")}],bindings:{setting:"<",options:"<"},controller:"UeButtonRequestController",controllerAs:"vm"};angular.module("universal.editor").component("ueButtonRequest",e)}()},function(e,t){!function(){"use strict";function e(e,t,n,i,a,o){function r(){if(l.setting.component.settings.target)window.open(l.setting.component.settings.url,l.setting.component.settings.target);else{var e={url:l.setting.component.settings.url,method:l.setting.component.settings.method,beforeSend:l.beforeSend};i.actionRequest(e).then(function(e){l.success&&l.success(e)},function(e){l.error&&l.error(e)}).finally(function(){l.complete&&l.complete(),l.options.isLoading=!1})}}n.addClass("ue-button");var l=this;l.$onInit=function(){switch(angular.extend(l,o("ButtonsController",{$scope:t})),l.classButton="btn btn-md btn-success button-footer",l.setting.buttonClass){case"header":l.classButton="btn btn-lg btn-success";break;case"context":l.classButton="editor-action-button"}l.buttonClick=r},l.$postLink=function(){n.on("$destroy",function(){t.$destroy()})}}angular.module("universal.editor").controller("UeButtonRequestController",e),e.$inject=["$rootScope","$scope","$element","RestApiService","ButtonsService","$controller"]}()},function(e,t){!function(){"use strict";var e={template:["$templateCache",function(e){return e.get("module/components/ueButtonService/ueButtonService.html")}],bindings:{setting:"<",options:"<"},controller:"UeButtonServiceController",controllerAs:"vm"};angular.module("universal.editor").component("ueButtonService",e)}()},function(e,t){!function(){"use strict";function e(e,t,n,i,a,o,r,l,s){n.addClass("ue-button");var d,p,c=this,m={};c.$onInit=function(){angular.extend(c,l("ButtonsController",{$scope:t})),c.setting.component.settings.request&&(m=JSON.parse(c.setting.component.settings.request)),d="pk",p=r.params[d],"delete"===c.action&&(c.disabled="new"===p||!p),m.options=c.options,m.state=c.setting.component.settings.state},n.bind("click",function(){if(!(c.options.isLoading||c.disabled&&"context"!==c.setting.buttonClass))switch(c.action){case"save":"create"==c.type?i.editEntityUpdate("create",m):"update"==c.type&&(a.editedEntityId=c.entityId,i.editEntityUpdate("update",m));break;case"delete":confirm("Удалить запись «"+c.entityId+"»?")&&(m.entityId=c.entityId,m.setting=c.setting,a.deleteItemById(m));break;case"presave":a.editedEntityId=c.entityId,i.editEntityPresave(m);break;case"open":var e={};e.id=c.entityId,e.options=c.options,e.url=c.setting.url,e.parentField=c.setting.parentField,e.headComponent=c.setting.headComponent,a.loadChilds(e)}}),t.$on("editor:presave_entity_created",function(e,t){c.options.isGrid||t.$parentComponentId&&t.$parentComponentId!==c.options.$parentComponentId||(c.entityId=t[c.setting.component.settings.dataSource.primaryKey],c.type="update","delete"===c.action&&(c.disabled=!1))})}angular.module("universal.editor").controller("UeButtonServiceController",e),e.$inject=["$rootScope","$scope","$element","EditEntityStorage","RestApiService","ModalService","$state","$controller","$location"]}()},function(e,t){!function(){"use strict";var e={bindings:{setting:"<",options:"="},template:["$templateCache",function(e){return e.get("module/components/ueCheckbox/ueCheckbox.html")}],controller:"UeCheckboxController",controllerAs:"vm"};angular.module("universal.editor").component("ueCheckbox",e)}()},function(e,t){!function(){"use strict";function e(e,t,n,i,a,o){function r(){var e,t={};return e=angular.isArray(p.fieldValue)?0==p.fieldValue.length?s.falseValue:s.trueValue:p.fieldValue||s.falseValue,p.parentField?(t[p.parentField]={},t[p.parentField][p.fieldName]=e):t[p.fieldName]=e,t}function l(){p.fieldValue=[],angular.forEach(p.setting.component.settings.defaultValue,function(e){p.setting.component.settings.multiname?p.fieldValue.push(e[p.setting.component.settings.multiname]):p.fieldValue.push(e)})}var s,d,p=this;p.$onInit=function(){s=p.setting.component.settings,s.$fieldType="array",p.optionValues=[],p.inputValue="",p.newEntityLoaded=l,d=o("FieldsController",{$scope:e}),angular.extend(p,d),p.fieldId="id",p.fieldSearch="title",p.singleValue=!s.hasOwnProperty("values")&&!s.hasOwnProperty("valuesRemote"),p.singleValue&&(p.checkBoxStyle="display: inline;",p.getFieldValue=r),p.listeners.push(e.$on("editor:entity_loaded",function(t,n){if(!n.$parentComponentId||n.$parentComponentId===p.parentComponentId&&!p.options.filter)if(e.onLoadDataHandler(t,n),p.singleValue){p.optionValues=[],p.fieldValue=p.fieldValue==s.trueValue?[s.trueValue]:[];var i={};i[p.field_id]=s.trueValue,
i[p.field_search]=s.label,p.label="",p.optionValues.push(i)}else s.$loadingPromise.then(function(e){p.optionValues=e,p.equalPreviewValue()}).finally(function(){p.loadingData=!1})}))}}angular.module("universal.editor").controller("UeCheckboxController",e),e.$inject=["$scope","$element","EditEntityStorage","RestApiService","FilterFieldsStorage","$controller"]}()},function(e,t){!function(e){try{e=angular.module("universal.editor.templates")}catch(t){e=angular.module("universal.editor.templates",[])}e.run(["$templateCache",function(e){e.put("module/components/ueCheckbox/ueCheckbox.html","\n<div ng-class=\"{'field-wrapper row':!vm.options.filter, 'filter-wrapper-field': vm.options.filter}\">\n    <div on-render-template=\"on-render-template\" ng-class=\"{'component-filter': vm.templates.filter &amp;&amp; vm.regim === 'filter',                   'component-edit': vm.templates.edit  &amp;&amp; vm.regim === 'edit',                   'component-preview': vm.templates.preview &amp;&amp; vm.regim === 'preview'}\" class=\"component-template\"></div>\n    <div ng-if=\"(!vm.templates.edit &amp;&amp; vm.regim === 'edit') || (!vm.templates.filter &amp;&amp; vm.regim === 'filter')\" ng-class=\"{'component-filter': vm.regim === 'filter'}\" class=\"component-edit\">\n"+'        <label ng-if="!vm.options.filter &amp;&amp; !!vm.label" class="field-name-label">\n            <div data-ng-if="!!vm.hint" class="field-hint">\n                <div ng-bind="::vm.hint" class="hint-text"></div>\n            </div><span data-ng-class="{\'editor-required\': vm.required}" ng-bind="::vm.label"></span>\n        </label>\n        <div ng-class="{\'filter-inner-wrapper\': vm.options.filter, \'field-element\': !vm.options.filter}" style="{{::vm.checkBoxStyle}}" ng-if="!vm.disabled || vm.options.filter">\n            <div data-ng-repeat="item in vm.optionValues" data-ng-class="{\'disabled\': vm.readonly}" class="checkbox">\n                <label>\n                    <input type="checkbox" data-ng-disabled="vm.readonly" data-checklist-model="vm.fieldValue" data-checklist-value="::item[vm.fieldId]"/><span ng-bind="::item[vm.fieldSearch]"></span>\n                </label>\n            </div>\n        </div>\n        <div ng-if="vm.disabled &amp;&amp; !vm.options.filter" class="disabled-field">\n            <div>\n                <div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData"><span ng-bind="value"></span></div>\n            </div>\n        </div>\n    </div>\n    <div ng-if="!vm.templates.preview &amp;&amp; vm.regim === \'preview\'" class="component-preview"> \n        <div data-ng-show="vm.loadingData" class="loader-search-wrapper">\n            <div class="loader-search">{{\'LOADING\' | translate}}</div>\n        </div><span ng-bind="::vm.previewValue" data-ng-show="!vm.loadingData" ng-if="!vm.multiple"></span>\n        <div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData" ng-if="vm.multiple"><span ng-bind="value"></span></div>\n    </div>\n    <div ng-if="!vm.options.filter" class="field-error-wrapper">\n        <div data-ng-repeat="err in vm.error track by $index" class="error-item alert alert-danger">{{err}}</div>\n    </div>\n</div>')}])}()},function(e,t){!function(){"use strict";var e={bindings:{setting:"<",options:"="},template:["$templateCache",function(e){return e.get("module/components/ueColorpicker/ueColorpicker.html")}],controller:"UeColorpickerController",controllerAs:"vm"};angular.module("universal.editor").component("ueColorpicker",e)}()},function(e,t){!function(){"use strict";function e(e,t,n,i,a,o){function r(e){angular.isArray(p.fieldValue)&&p.fieldValue.forEach(function(t,n){n==e&&p.fieldValue.splice(e,1)})}function l(){p.fieldValue.push("#000000")}var s,d,p=this;p.$onInit=function(){s=p.setting.component.settings,s.defaultValue=s.multiple?s.defaultValue||["#000000"]:s.defaultValue||"#000000",d=o("FieldsController",{$scope:e}),angular.extend(p,d),p.addItem=l,p.removeItem=r,p.listeners.push(e.$on("editor:entity_loaded",function(t,n){e.onLoadDataHandler(t,n),n.$parentComponentId&&(n.$parentComponentId!==p.parentComponentId||p.options.filter)||p.equalPreviewValue()}))}}angular.module("universal.editor").controller("UeColorpickerController",e),e.$inject=["$scope","$element","EditEntityStorage","FilterFieldsStorage","$state","$controller"]}()},function(e,t){!function(e){try{e=angular.module("universal.editor.templates")}catch(t){e=angular.module("universal.editor.templates",[])}e.run(["$templateCache",function(e){e.put("module/components/ueColorpicker/ueColorpicker.html","\n<div ng-class=\"{'field-wrapper row':!vm.options.filter, 'filter-wrapper-field': vm.options.filter}\">\n    <div on-render-template=\"on-render-template\" ng-class=\"{'component-filter': vm.templates.filter &amp;&amp; vm.regim === 'filter',                   'component-edit': vm.templates.edit  &amp;&amp; vm.regim === 'edit',                   'component-preview': vm.templates.preview &amp;&amp; vm.regim === 'preview'}\" class=\"component-template\"></div>\n    <div ng-if=\"(!vm.templates.edit &amp;&amp; vm.regim === 'edit') || (!vm.templates.filter &amp;&amp; vm.regim === 'filter')\" ng-class=\"{'component-filter': vm.regim === 'filter'}\" class=\"component-edit\">\n"+'        <label ng-if="!vm.options.filter &amp;&amp; !!vm.label" class="field-name-label">\n            <div data-ng-if="!!vm.hint" class="field-hint">\n                <div ng-bind="::vm.hint" class="hint-text"></div>\n            </div><span data-ng-class="{\'editor-required\': vm.required}" ng-bind="::vm.label"></span>\n        </label>\n        <div ng-class="{\'filter-inner-wrapper\': vm.options.filter, \'field-element\': !vm.options.filter}" ng-style="{\'overflow:auto\':vm.multiple}" ng-if="!vm.disabled || vm.options.filter">\n            <div data-ng-if="vm.multiple" ng-class="{\'col-lg-2 col-md-2 col-sm-3 col-xs-3 clear-padding-left\': (!vm.options.isGroup &amp;&amp; !vm.options.filter)}">\n                <div data-ng-repeat="field_item in vm.fieldValue track by $index" class="item-colorpicker-wrappe input-group">\n                    <input type="text" data-ng-disabled="vm.readonly" data-minicolors="" data-ng-model="vm.fieldValue[$index]" class="form-control input-sm"/><span class="input-group-btn">\n                        <button data-ng-click="vm.removeItem($index)" data-ng-if="!vm.readonly" class="btn btn-default btn-sm">x</button></span>\n                </div>\n                <div data-ng-click="vm.addItem()" data-ng-disabled="vm.readonly" class="btn btn-primary btn-sm">{{\'BUTTON.ADD\' | translate}}</div>\n            </div>\n            <div data-ng-if="!vm.multiple" ng-class="{\'col-lg-2 col-md-2 col-sm-3 col-xs-3 clear-padding-left\': (!vm.options.isGroup &amp;&amp; !vm.options.filter)}">\n                <input type="text" data-ng-disabled="vm.readonly" data-minicolors="{position: \'bottom left\',}" data-ng-model="vm.fieldValue" class="form-control input-sm"/>\n            </div>\n        </div>\n        <div ng-if="vm.disabled &amp;&amp; !vm.options.filter">\n            <div>\n                <div ng-if="!vm.multiple" ng-style="{ \'background-color\': vm.fieldValue}" class="disabled-colorpicker"></div>\n                <div ng-if="vm.multiple" ng-repeat="value in vm.fieldValue track by $index" ng-style="{ \'background-color\': value}" class="disabled-colorpicker"></div>\n            </div>\n        </div>\n    </div>\n    <div ng-if="!vm.templates.preview &amp;&amp; vm.regim === \'preview\'" class="component-preview"> \n        <div data-ng-show="vm.loadingData" class="loader-search-wrapper">\n            <div class="loader-search">{{\'LOADING\' | translate}}</div>\n        </div><span ng-bind="::vm.previewValue" data-ng-show="!vm.loadingData" ng-if="!vm.multiple"></span>\n        <div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData" ng-if="vm.multiple"><span ng-bind="value"></span></div>\n    </div>\n    <div ng-if="!vm.options.filter" class="field-error-wrapper">\n        <div data-ng-repeat="err in vm.error track by $index" class="error-item alert alert-danger">{{err}}</div>\n    </div>\n</div>')}])}()},function(e,t){!function(){"use strict";var e={bindings:{setting:"<",options:"="},template:["$templateCache",function(e){return e.get("module/components/ueComponent/ueComponent.html")}],controller:"UeComponentController",controllerAs:"vm"};angular.module("universal.editor").component("ueComponent",e)}()},function(e,t){!function(){"use strict";function e(e,t,n,i,a,o,r){var l,s=this;s.$onInit=function(){l=o("BaseController",{$scope:e}),angular.extend(s,l)}}angular.module("universal.editor").controller("UeComponentController",e),e.$inject=["$scope","$element","EditEntityStorage","FilterFieldsStorage","$location","$controller","$timeout"]}()},function(e,t){!function(){"use strict";var e={bindings:{setting:"<",options:"="},template:["$templateCache",function(e){return e.get("module/components/ueDate/ueDate.html")}],controller:"UeDateController",controllerAs:"vm"};angular.module("universal.editor").component("ueDate",e)}()},function(e,t){!function(){"use strict";function e(e,t,n,i,a,o){function r(e){angular.isArray(c.fieldValue)&&c.fieldValue.forEach(function(t,n){n==e&&c.fieldValue.splice(e,1)})}function l(){c.fieldValue.push(i())}function s(){var e,t={};return c.multiname?(e=[],angular.forEach(c.fieldValue,function(t){if(t&&""!==t&&i.isMoment(t)){var n={};n[c.multiname]=i(t).format(c.format),e.push(n)}})):c.multiple?(e=[],angular.forEach(c.fieldValue,function(t){e.push(i(t).format(c.format))})):e=void 0!==c.fieldValue&&""!==c.fieldValue&&i.isMoment(c.fieldValue)?i(c.fieldValue).format(c.format):"",c.parentField?(t[c.parentField]={},t[c.parentField][c.fieldName]=e):t[c.fieldName]=e,t}var d,p,c=this;c.$onInit=function(){d=c.setting.component.settings,d.$fieldType="date",p=o("FieldsController",{$scope:e}),angular.extend(c,p),c.format=c.format||"DD.MM.YYYY",c.maxView=c.maxView||"year",c.minView=c.minView||"date",c.view=c.view||"date",c.addItem=l,c.removeItem=r,c.getFieldValue=s,e.minDate=c.minDate?i(c.minDate,c.format):c.minDate,e.maxDate=c.maxDate?i(c.maxDate,c.format):c.maxDate,c.listeners.push(e.$on("editor:entity_loaded",function(t,n){e.onLoadDataHandler(t,n),c.fieldValue=c.fieldValue?i(c.fieldValue,c.format):"",n.$parentComponentId&&(n.$parentComponentId!==c.parentComponentId||c.options.filter)||c.equalPreviewValue(),c.previewValue=i(c.previewValue).format(c.format)}))}}angular.module("universal.editor").controller("UeDateController",e),e.$inject=["$scope","$element","EditEntityStorage","moment","FilterFieldsStorage","$controller"]}()},function(e,t){!function(e){try{e=angular.module("universal.editor.templates")}catch(t){e=angular.module("universal.editor.templates",[])}e.run(["$templateCache",function(e){e.put("module/components/ueDate/ueDate.html","\n<div ng-class=\"{'field-wrapper row':!vm.options.filter, 'filter-wrapper-field': vm.options.filter}\">\n    <div on-render-template=\"on-render-template\" ng-class=\"{'component-filter': vm.templates.filter &amp;&amp; vm.regim === 'filter',                   'component-edit': vm.templates.edit  &amp;&amp; vm.regim === 'edit',                   'component-preview': vm.templates.preview &amp;&amp; vm.regim === 'preview'}\" class=\"component-template\"></div>\n    <div ng-if=\"(!vm.templates.edit &amp;&amp; vm.regim === 'edit') || (!vm.templates.filter &amp;&amp; vm.regim === 'filter')\" ng-class=\"{'component-filter': vm.regim === 'filter'}\" class=\"component-edit\">\n"+'        <label ng-if="!vm.options.filter &amp;&amp; !!vm.label" class="field-name-label">\n            <div data-ng-if="!!vm.hint" class="field-hint">\n                <div ng-bind="::vm.hint" class="hint-text"></div>\n            </div><span data-ng-class="{\'editor-required\': vm.required}" ng-bind="::vm.label"></span>\n        </label>\n        <div ng-class="{\'filter-inner-wrapper\': vm.options.filter, \'field-element\': !vm.options.filter}" ng-style="{\'overflow:auto\':vm.multiple}" ng-if="!vm.disabled|| vm.options.filter">\n            <div data-ng-if="vm.multiple" ng-class="{\'col-lg-2 col-md-2 col-sm-3 col-xs-3 clear-padding-left\': (!vm.options.isGroup &amp;&amp; !vm.options.filter)}">\n                <div data-ng-repeat="field_item in vm.fieldValue track by $index" class="item-datepicker-wrapper input-group">\n                    <input data-date-time="" name="{{vm.fieldName}}" data-ng-disabled="vm.readonly" data-ng-model="vm.fieldValue[$index]" min-date="vm.minDate" data-format="{{vm.format || \'DD.MM.YYYY\'}}" data-max-view="{{::vm.maxView}}" data-min-view="{{::vm.minView}}" data-view="{{::vm.view}}" data-ng-blur="vm.inputLeave(vm.fieldValue[$index])" data-min-date="minDate" data-max-date="maxDate" class="form-control input-sm"/><span class="input-group-btn">\n                        <button data-ng-click="vm.removeItem($index)" data-ng-if="!vm.readonly" class="btn btn-default btn-sm">x</button></span>\n                </div>\n                <div data-ng-click="vm.addItem()" data-ng-disabled="vm.readonly" class="btn btn-primary btn-sm">{{\'BUTTON.ADD\' | translate}}</div>\n            </div>\n            <div data-ng-if="!vm.multiple" ng-class="{\'col-lg-2 col-md-2 col-sm-3 col-xs-3 clear-padding-left\': (!vm.options.isGroup &amp;&amp; !vm.options.filter)}">\n                <input data-date-time="" name="{{vm.fieldName}}" data-ng-disabled="vm.readonly" data-ng-model="vm.fieldValue" data-format="{{vm.format || \'DD.MM.YYYY\'}}" data-max-view="{{::vm.maxView}}" data-min-view="{{::vm.minView}}" data-view="{{::vm.view}}" data-ng-blur="vm.inputLeave(vm.fieldValue)" data-min-date="minDate" data-max-date="maxDate" class="form-control input-sm"/>\n            </div>\n        </div>\n        <div ng-if="vm.disabled &amp;&amp; !vm.options.filter" class="disabled-field">\n            <div><span ng-bind="::vm.previewValue" data-ng-show="!vm.loadingData" ng-if="!vm.multiple"></span>\n                <div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData" ng-if="vm.multiple"><span ng-bind="value"></span></div>\n            </div>\n        </div>\n    </div>\n    <div ng-if="!vm.templates.preview &amp;&amp; vm.regim === \'preview\'" class="component-preview"> \n        <div data-ng-show="vm.loadingData" class="loader-search-wrapper">\n            <div class="loader-search">{{\'LOADING\' | translate}}</div>\n        </div><span ng-bind="::vm.previewValue" data-ng-show="!vm.loadingData" ng-if="!vm.multiple"></span>\n        <div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData" ng-if="vm.multiple"><span ng-bind="value"></span></div>\n    </div>\n    <div ng-if="!vm.options.filter" class="field-error-wrapper">\n        <div data-ng-repeat="err in vm.error track by $index" class="error-item alert alert-danger">{{err}}</div>\n    </div>\n</div>')}])}()},function(e,t){!function(){"use strict";function e(e,t){}angular.module("universal.editor").controller("DropdownItemsController",e),e.$inject=["$scope","RestApiService"]}()},function(e,t){!function(){"use strict";function e(e,t,n){function i(e,t){angular.isFunction(t)&&(t={post:t});var i,a=e.contents().remove();return{post:function(e,o){i||(i=n(a)),i(e,function(e){o.append(e)}),t&&t.post&&t.post.apply(null,arguments)}}}return{restrict:"A",replace:!0,scope:{options:"=",isOpen:"=",fieldSearch:"=",childCountField:"=",onToggle:"=",api:"=",selectBranches:"=",multiple:"=",activeElement:"=",setActiveElement:"=",lvlDropdown:"="},template:e.get("module/components/ueDropdown/dropdownItems.html"),controller:"DropdownItemsController",controllerAs:"vm",compile:i}}angular.module("universal.editor").directive("dropdownItems",e),e.$inject=["$templateCache","$document","$compile"]}()},function(e,t){!function(){"use strict";var e={bindings:{setting:"<",options:"="},template:["$templateCache",function(e){return e.get("module/components/ueDropdown/ueDropdown.html")}],controller:"UeDropdownController",controllerAs:"vm"};angular.module("universal.editor").component("ueDropdown",e)}()},function(e,t){!function(){"use strict";function e(e,t,n,i,a,o,r,l,s,d,p,c){function m(e,t,n){if(n&&t[B.treeChildCountField])t.isOpen=!t.isOpen,t[B.treeChildCountField]&&!t.childOpts&&(t.loadingData=!0,i.getUrlResource(O.valuesRemote.url+'?filter={"'+B.treeParentField+'":"'+t[B.fieldId]+'"}').then(function(e){t.childOpts||(t.childOpts=[]),t.loadingData=!1,angular.forEach(e.data.items,function(e){t.childOpts.push(e)}),B.filterText||(L=angular.copy(B.optionValues)),B.fieldValue.length&&x(t)},function(e){c("ERROR.FIELD.VALUES_REMOTE").then(function(e){})}));else{angular.isArray(B.fieldValue)||(B.fieldValue=[]);var o=b(t[B.fieldId]);B.multiple?null!==o?(t.checked=!1,B.fieldValue.splice(o,1)):(t.checked=!0,B.fieldValue.push(t)):null===o?(B.fieldValue.splice(0),u(B.optionValues),t.checked=!0,B.isSpanSelectDelete=!0,B.fieldValue.push(t)):(B.fieldValue.splice(0),t.checked=!1,B.isSpanSelectDelete=!1),B.multiple||a(function(){B.isBlur(),r.find("input")[0].blur()},0)}0!==B.fieldValue.length||B.filterText?(B.placeholder=B.multiple?"":B.fieldValue[0][B.fieldSearch],B.sizeInput=B.filterText?B.filterText.length:1):(B.placeholder=O.placeholder||"",B.sizeInput=B.placeholder.length),e&&(e.stopPropagation(),e.preventDefault())}function u(e){for(var t=0,n=e.length;t<n;t++)e[t].checked=!1,e[t].childOpts&&u(e[t].childOpts)}function v(e,t){if(B.treeParentField&&t[B.treeParentField]&&B.multiple){w(B.optionValues,t[B.treeParentField],t[B.fieldId]);var n=b(t[B.fieldId],t[B.treeParentField]);null!==n&&B.fieldValue.splice(n,1)}else{var n=b(t[B.fieldId]);if(null!==n){B.fieldValue.splice(n,1);for(var i=0,a=B.optionValues.length;i<a;i++)B.optionValues[i][B.fieldId]===t[B.fieldId]&&(B.optionValues[i].checked=!1)}}0!==B.fieldValue.length||B.filterText?(B.placeholder="",B.sizeInput=B.filterText?B.filterText.length:1):(B.placeholder=O.placeholder||"",B.sizeInput=B.placeholder.length)}function f(e){t.toggleDropdown(e),t.isOpen=!0}function g(){if(B.activeElement=0,B.fieldValue&&0===B.fieldValue.length&&!B.filterText?(B.placeholder=O.placeholder||"",B.sizeInput=B.placeholder.length):(B.placeholder="",B.sizeInput=B.filterText?B.filterText.length:1),!B.filterText){if(B.multiple||B.isTree)!B.multiple&&B.isTree&&(B.placeholder=B.fieldValue.length&&B.fieldValue[0][B.fieldSearch]?B.fieldValue[0][B.fieldSearch]:O.placeholder);else{if(B.optionValues&&B.optionValues.length&&B.fieldValue){var e=B.optionValues.filter(function(e){return e[B.fieldId]===B.fieldValue[B.fieldId]||e[B.fieldId]===B.fieldValue});e.length&&(B.fieldValue=e[0])}B.placeholder=B.fieldValue&&B.fieldValue[B.fieldSearch]?B.fieldValue[B.fieldSearch]:O.placeholder}if(B.fieldValue)for(var t=0;t<B.fieldValue.length;t++)for(var n=0,i=B.optionValues.length;n<i;n++)B.optionValues[n][B.fieldId]===B.fieldValue[t][B.fieldId]&&(B.optionValues[n].checked=!0);return L||(L=angular.copy(B.optionValues)),void(B.optionValues=h(angular.copy(L),B.filterText))}B.sizeInput=B.filterText?B.filterText.length:1,L||(L=angular.copy(B.optionValues)),B.optionValues=h(angular.copy(L),B.filterText);for(var t=0;t<B.fieldValue.length;t++)for(var n=0,i=B.optionValues.length;n<i;n++)B.optionValues[n][B.fieldId]===B.fieldValue[t][B.fieldId]&&(B.optionValues[n].checked=!0)}function h(e,t){var n=[];return n=e.filter(function(e){return e.childOpts&&e.childOpts.length&&(e.childOpts=h(e.childOpts,t)),e[B.fieldSearch].toLowerCase().indexOf(t.toLowerCase())>-1||e.childOpts&&e.childOpts.length})}function b(e,t){if(t){for(var n=0,i=B.fieldValue.length;n<i;n++)if(B.fieldValue[n][B.fieldId]===e&&B.fieldValue[n][B.treeParentField]===t)return n}else for(var n=0,i=B.fieldValue.length;n<i;n++)if(B.fieldValue[n][B.fieldId]===e)return n;return null}function w(e,t,n){for(var i=0,a=e.length;i<a;i++)if(e[i][B.fieldId]===t&&e[i].childOpts)for(var o=0,r=e[i].childOpts.length;o<r;o++)e[i].childOpts[o][B.fieldId]===n&&(e[i].childOpts[o].checked=!1);else e[i].childOpts&&e[i].childOpts.length&&w(e[i].childOpts,t,n)}function x(e){if(e)for(var t=0,n=e.childOpts.length;t<n;t++)for(var i=0,a=B.fieldValue.length;i<a;i++)e[B.fieldId]===B.fieldValue[i][B.treeParentField]&&e.childOpts[t][B.fieldId]===B.fieldValue[i][B.fieldId]&&(e.childOpts[t].checked=!0);else for(var t=0,n=B.optionValues.length;t<n;t++)for(var i=0,a=B.fieldValue.length;i<a;i++)B.optionValues[t][B.fieldId]!==B.fieldValue[i][B.fieldId]||B.fieldValue[i][B.treeParentField]||(B.optionValues[t].checked=!0)}function y(e,t){B.multiple?B.fieldValue.push(t):(B.fieldValue=t,B.fieldValue[B.fieldSearch]||(0===B.optionValues.length&&O.$loadingPromise?O.$loadingPromise.then($):$(B.optionValues))),B.filterText="",a(function(){B.isSpanSelectDelete=!0,B.showPossible=!1,B.setColorPlaceholder()},0)}function $(e){angular.forEach(e,function(e){e[B.fieldId]==B.fieldValue[B.fieldId]&&(B.fieldValue[B.fieldSearch]=e[B.fieldSearch])})}function A(){B.activeElement=0,B.showPossible=!B.showPossible;var e=r.find(".select-input");B.showPossible&&e.addClass("active");var n=l.innerHeight,i=r.find(".select-input-wrapper"),a=i.height(),o=i.offset(),s=o.top+a;t.$evalAsync(function(){B.possibleLocation=!(n-s<162)}),B.setColorPlaceholder()}function C(e,t){e.stopPropagation(),a(function(){B.activeElement=t},0)}function I(){B.search||B.isTree?B.colorPlaceholder=!(B.placeholder===O.placeholder||t.isOpen):B.colorPlaceholder=!(B.placeholder===O.placeholder||B.showPossible)}function k(){B.showPossible=!1,t.isOpen=!1;var e=r.find(".select-input");e.removeClass("active"),B.setColorPlaceholder()}function E(){B.readonly||r.find("input")[0].focus()}function V(e,t){t&&8==e.which&&B.fieldValue&&B.fieldValue.length&&!B.filterText&&B.multiple?v(null,B.fieldValue[B.fieldValue.length-1]):B.isTree||t?B.isTree&&!t&&(B.isSpanSelectDelete=!1,v(null,B.fieldValue[0]),e.stopPropagation()):(B.isSpanSelectDelete=!1,B.fieldValue={},e.stopPropagation())}function S(){B.fieldValue=B.multiple?[]:null,B.isSpanSelectDelete=!1}function D(){var e=B.optionValues.length,t=r.find("select");if(t.length){var n=t[0];e<=3?n.size=3:e>=7?n.size=7:n.size=e}}function _(e){var t=angular.element(r.find(e)[0]);return l.innerHeight-t.offset().top}var F,O,T,j,B=this;B.$onInit=function(){B.optionValues=[],T=d("FieldsController",{$scope:t}),angular.extend(B,T),O=B.setting.component.settings,F=angular.element(r[0].getElementsByClassName("possible-scroll")[0]),B.parentValue=!B.depend,B.search=O.search,B.showPossible=!1,B.activeElement=0,B.isSelection=!1,B.possibleLocation=!0,B.isSpanSelectDelete=!1,B.addToSelected=y,B.isShowPossible=A,B.setActiveElement=C,B.setColorPlaceholder=I,B.isBlur=k,B.getDistanceByClass=_,B.deleteToSelected=V,B.clickSelect=E,B.clear=S,O.hasOwnProperty("valuesRemote")&&O.tree&&(B.treeParentField=O.tree.parentField,B.treeChildCountField=O.tree.childCountField,B.treeSelectBranches=O.tree.selectBranches,B.isTree=B.treeParentField&&B.treeChildCountField,B.sizeInput=B.placeholder?B.placeholder.length:0),B.depend&&(B.dependField=B.depend.fieldName,B.dependFilter=B.depend.filter),B.multiple||(B.styleInput={width:"99%"}),B.readonly&&(B.styleInput={width:"1px",padding:0}),B.options.filter&&(B.isTree=!1),B.depend&&(j=t.$on("select_field:select_name_"+B.dependField,function(e,t){t&&""!==t?(B.parentValue=!1,B.optionValues=[],i.getUrlResource(O.valuesRemote.url+'?filter={"'+B.dependFilter+'":"'+t+'"}').then(function(e){angular.forEach(e.data.items,function(e){B.optionValues.push(e)}),a(function(){D()},0),L=angular.copy(B.optionValues),B.parentValue=!0},function(e){c("ERROR.FIELD.VALUES_REMOTE").then(function(e){})})):B.parentValue=!1})),B.toggle=m,B.remove=v,B.focus=f,B.change=g};var P,L=[],R=t.$on("editor:entity_loaded",function(e,n){B.data=n,t.onLoadDataHandler(e,n),n.$parentComponentId&&(n.$parentComponentId!==B.parentComponentId||B.options.filter)||O.$loadingPromise.then(function(e){L=L.length?L:e,B.optionValues=[],angular.forEach(L,function(e){var t=e[B.fieldId];if(t&&B.fieldValue&&(!B.multiple||B.isTree))if(angular.isArray(B.fieldValue)){for(var n=B.fieldValue.length;n--;)if(B.fieldValue[n]==t){B.fieldValue[n]=e;break}}else t===B.fieldValue&&(B.fieldValue=e);B.isTree?e[B.treeParentField]||B.optionValues.push(angular.copy(e)):B.optionValues.push(angular.copy(e))}),B.equalPreviewValue(e)}).finally(function(){B.loadingData=!1})}),N=t.$watch(function(){return B.fieldValue},function(t){B.multiple||B.isTree||(B.search&&(B.filterText="",g()),B.placeholder=t&&t[B.fieldSearch]?t[B.fieldSearch]:O.placeholder,B.isSelection=!!t&&!!t[B.fieldSearch]),B.isTree&&!B.search&&(B.placeholder=O.placeholder||""),B.isTree&&!B.multiple&&(B.placeholder=t&&t.length&&t[0][B.fieldSearch]?t[0][B.fieldSearch]:O.placeholder),B.setColorPlaceholder(),e.$broadcast("select_field:select_name_"+B.fieldName,t)},!0);o.bind("keydown",function(e){if(B.showPossible||t.isOpen)switch(e.which){case 27:e.preventDefault(),a(function(){B.showPossible=!1,t.isOpen=!1},0);break;case 13:if(e.preventDefault(),(!B.multiple&&!B.isTree||B.isTree)&&B.optionValues.length<1)break;a(function(){B.multiple||B.isTree?B.isTree&&B.toggle(void 0,B.optionValues[B.activeElement],!0):B.addToSelected(null,B.optionValues[B.activeElement])},0);break;case 40:if(e.preventDefault(),!B.multiple&&!B.isTree||B.isTree){if(B.optionValues.length<1)break;B.multiple||B.isTree?B.isTree&&(F=angular.element(r[0].getElementsByClassName("dropdown__items")[0])):F=angular.element(r[0].getElementsByClassName("possible-scroll")[0]),B.activeElement<B.optionValues.length-1&&(a(function(){B.activeElement++},0),a(function(){var e=angular.element(F[0].getElementsByClassName("active")[0])[0].offsetTop,t=angular.element(F[0].getElementsByClassName("active")[0])[0].clientHeight,n=F[0].scrollTop,i=F[0].clientHeight;e>=i+n-t&&(F[0].scrollTop+=t+1)},1))}break;case 38:if(e.preventDefault(),!B.multiple&&!B.isTree||B.isTree){if(B.optionValues.length<1)break;B.multiple||B.isTree?B.isTree&&(F=angular.element(r[0].getElementsByClassName("dropdown__items")[0])):F=angular.element(r[0].getElementsByClassName("possible-scroll")[0]),B.activeElement>0&&(a(function(){B.activeElement--},0),a(function(){var e=angular.element(F[0].getElementsByClassName("active")[0])[0].offsetTop,t=angular.element(F[0].getElementsByClassName("active")[0])[0].clientHeight,n=F[0].scrollTop;F[0].clientHeight,e<n&&(F[0].scrollTop-=t+1)},1))}}}),B.$onDestroy=function(){angular.isFunction(P)&&P(),R(),N(),angular.isFunction(j)&&j()},B.$postLink=function(){r.on("$destroy",function(){t.$destroy()}),t.isOpen=!1,t.toggleDropdown=function(){r.find("input")[0].focus();var e=o.height(),n=r.find(".dropdown__host"),i=n.height(),a=n.offset(),l=a.top+i;if(r.find(".dropdown__items").removeClass("dropdown-top"),r.find(".dropdown__items").removeClass("dropdown-bottom"),e-l<300?r.find(".dropdown__items").addClass("dropdown-top"):r.find(".dropdown__items").addClass("dropdown-bottom"),t.isOpen=!t.isOpen,t.isOpen){var s=r.find(".select-input");s.addClass("active")}B.setColorPlaceholder()}}}angular.module("universal.editor").controller("UeDropdownController",e),e.$inject=["$rootScope","$scope","EditEntityStorage","RestApiService","$timeout","$document","$element","$window","FilterFieldsStorage","$controller","$q","$translate"],angular.module("universal.editor").filter("selectedValues",function(){return function(e,t){var n=e.map(function(e){return e[t]});return n.join(", ")}})}()},function(e,t){!function(e){try{e=angular.module("universal.editor.templates")}catch(t){e=angular.module("universal.editor.templates",[])}e.run(["$templateCache",function(e){e.put("module/components/ueDropdown/ueDropdown.html","\n<div ng-class=\"{'field-wrapper row':!vm.options.filter, 'filter-wrapper-field': vm.options.filter}\">\n    <div on-render-template=\"on-render-template\" ng-class=\"{'component-filter': vm.templates.filter &amp;&amp; vm.regim === 'filter',                   'component-edit': vm.templates.edit  &amp;&amp; vm.regim === 'edit',                   'component-preview': vm.templates.preview &amp;&amp; vm.regim === 'preview'}\" class=\"component-template\"></div>\n    <div ng-if=\"(!vm.templates.edit &amp;&amp; vm.regim === 'edit') || (!vm.templates.filter &amp;&amp; vm.regim === 'filter')\" ng-class=\"{'component-filter': vm.regim === 'filter'}\" class=\"component-edit\">\n"+'        <label ng-if="!vm.options.filter &amp;&amp; !!vm.label" class="field-name-label">\n            <div data-ng-if="!!vm.hint" class="field-hint">\n                <div ng-bind="::vm.hint" class="hint-text"></div>\n            </div><span data-ng-class="{\'editor-required\': vm.required}" ng-bind="::vm.label"></span>\n        </label>\n        <div ng-class="{\'filter-inner-wrapper\': vm.options.filter, \'field-element\': !vm.options.filter}" ng-style="{\'overflow:auto\': vm.multiple}" ng-if="!vm.disabled || vm.options.filter">\n            <div ng-class="vm.classComponent">\n                <div data-ng-if="vm.multiple &amp;&amp; !vm.isTree">\n                    <div class="select-border">\n                        <select name="{{vm.fieldName}}" data-ng-disabled="vm.readonly || !vm.parentValue" data-ng-model="vm.fieldValue" multiple="multiple" size="3" class="form-control">\n                            <option data-ng-repeat="option in vm.optionValues" value="{{option[vm.fieldId]}}">{{option[vm.fieldSearch]}}</option>\n                        </select>\n                    </div>\n                    <div data-ng-show="!!vm.loadingData" style="position: absolute; margin: -28px 0 0 20px;" class="processing-status-wrapper">\n                        <div class="processing-status">{{\'PERFORMS_ACTIONS\' | translate}}</div>\n                    </div>\n                </div>\n                <div data-ng-if="!vm.multiple &amp;&amp; !vm.isTree">\n                    <div data-ng-click="vm.clickSelect()" data-ng-class="{&quot;but-for-search&quot;: !vm.search, &quot;disabled-input&quot;: vm.readonly}" class="select-input-wrapper">\n                        <input data-ng-if="vm.search &amp;&amp; !vm.loadingData" ng-disabled="vm.readonly" placeholder="{{vm.placeholder}}" data-ng-class="vm.isSelection ? &quot;color-placeholder&quot; : &quot;&quot;" data-ng-model="vm.filterText" data-ng-change="vm.change()" data-ng-focus="vm.isShowPossible()" data-ng-blur="vm.isBlur()" class="form-control select-input"/>\n                        <input data-ng-if="!vm.search" data-ng-focus="vm.isShowPossible()" data-ng-blur="vm.isBlur()" class="focus-input"/>\n                        <div data-ng-if="!vm.search" class="form-control select-input">\n                            <div data-ng-class="vm.colorPlaceholder ? &quot;color-placeholder-div&quot; : &quot;&quot;" class="dropdown__selected-items">{{vm.placeholder}}</div>\n                        </div><span data-ng-if="vm.isSpanSelectDelete &amp;&amp; !vm.readonly" data-ng-click="vm.deleteToSelected($event, false)" class="selecte-delete">×</span>\n                        <div data-ng-if="!vm.readonly &amp;&amp; (vm.optionValues.length &gt; 0) &amp;&amp; vm.showPossible" data-ng-class="vm.possibleLocation ? &quot;possible-bottom&quot; : &quot;possible-top&quot;" class="possible-values active">\n                            <div class="possible-scroll">\n                                <div data-ng-repeat="option in vm.optionValues" data-ng-mouseover="vm.activeElement = $index" data-ng-mousedown="vm.addToSelected($event, option)" data-ng-class="vm.activeElement == $index ? \'active\' : \'\'" class="possible-value-item">{{option[vm.fieldSearch]}}</div>\n                            </div>\n                        </div>\n                    </div>\n                    <div data-ng-show="vm.loadingData" style="position: absolute; margin: -28px 0 0 20px;" class="processing-status-wrapper">\n                        <div class="processing-status">{{\'PERFORMS_ACTIONS\' | translate}}</div>\n                    </div>\n                </div>\n                <div data-ng-if="vm.isTree" class="dropdown">\n                    <div class="dropdown__host">\n                        <div data-ng-class="{\'dropdown__title_open\': isOpen, \'disabled-input\': vm.readonly}" data-ng-click="vm.clickSelect()" data-ng-style="{&quot;cursor&quot; : vm.search &amp;&amp; !vm.loadingData ? &quot;text&quot; : &quot;pointer&quot;}" class="dropdown__title form-control select-input">\n                            <div data-ng-repeat="value in vm.fieldValue" data-ng-if="vm.fieldValue.length &amp;&amp; vm.multiple &amp;&amp; value[vm.fieldSearch]" class="selected-items__item">\n                                <div class="selected-item">\n                                    <label ng-bind="value[vm.fieldSearch]" style="overflow: hidden; text-overflow: ellipsis; margin-right: 15px; display: block;"></label><span data-ng-click="vm.remove($event, value)" style="float: right; width: 10px; margin-top: -24px;" ng-if="!vm.readonly" class="selected-item__btn_delete">×</span>\n                                </div>\n                            </div>\n                            <input data-ng-if="vm.search &amp;&amp; !vm.loadingData" ng-disabled="vm.readonly" data-ng-model="vm.filterText" data-ng-change="vm.change()" placeholder="{{vm.placeholder}}" data-ng-style="vm.styleInput" size="{{vm.sizeInput}}" data-ng-focus="toggleDropdown()" data-ng-blur="vm.isBlur()" data-ng-keydown="vm.deleteToSelected($event, true)" data-ng-class="vm.colorPlaceholder ? &quot;color-placeholder&quot; : &quot;&quot;" class="dropdown__search-field"/>\n                            <input data-ng-if="!vm.search" data-ng-focus="toggleDropdown()" data-ng-blur="vm.isBlur()" ng-disabled="vm.readonly" class="focus-input"/>\n                            <div data-ng-if="!vm.search" class="dropdown__selected">\n                                <div data-ng-class="vm.colorPlaceholder ? &quot;color-placeholder-div&quot; : &quot;&quot;" data-ng-if="!vm.loadingData" class="dropdown__selected-items dropdown-tree">{{vm.placeholder}}</div>\n                            </div><span data-ng-if="vm.isSpanSelectDelete &amp;&amp; !vm.readonly" data-ng-click="vm.deleteToSelected($event, false)" class="selecte-delete">×</span>\n                            <div data-ng-if="::(vm.treeParentField &amp;&amp; vm.treeChildCountField)" data-ng-class="{\'dropdown__items_with-selected\': vm.fieldValue.length &gt; 2 || (vm.search &amp;&amp; vm.fieldValue.length)}" data-dropdown-items="" data-options="vm.optionValues" data-is-open="isOpen &amp;&amp; vm.optionValues.length" data-field-search="vm.fieldSearch" data-child-count-field="vm.treeChildCountField" data-on-toggle="vm.toggle" data-api="vm.field.values_remote.url" data-select-branches="vm.treeSelectBranches" data-multiple="vm.multiple" data-active-element="vm.activeElement" data-set-active-element="vm.setActiveElement" data-lvl-dropdown="1" class="dropdown__items dropdown__items_with-padding active dropdown-bottom"></div>\n                        </div>\n                    </div>\n                    <div data-ng-show="vm.loadingData" style="position: absolute; margin: -28px 0 0 20px;" class="processing-status-wrapper">\n                        <div class="processing-status">{{\'PERFORMS_ACTIONS\' | translate}}</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div ng-if="vm.disabled &amp;&amp; !vm.options.filter" class="disabled-field">\n            <div><span ng-bind="::vm.previewValue" data-ng-show="!vm.loadingData" ng-if="!vm.multiple"></span>\n                <div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData" ng-if="vm.multiple"><span ng-bind="value"></span></div>\n            </div>\n        </div>\n    </div>\n    <div ng-if="!vm.templates.preview &amp;&amp; vm.regim === \'preview\'" class="component-preview"> \n        <div data-ng-show="vm.loadingData" class="loader-search-wrapper">\n            <div class="loader-search">{{\'LOADING\' | translate}}</div>\n        </div><span ng-bind="::vm.previewValue" data-ng-show="!vm.loadingData" ng-if="!vm.multiple"></span>\n        <div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData" ng-if="vm.multiple"><span ng-bind="value"></span></div>\n    </div>\n    <div ng-if="!vm.options.filter" class="field-error-wrapper">\n        <div data-ng-repeat="err in vm.error track by $index" class="error-item alert alert-danger">{{err}}</div>\n    </div>\n</div>');
}])}()},function(e,t){!function(){"use strict";angular.module("universal.editor").component("ueFilter",{template:["$templateCache",function(e){return e.get("module/components/ueFilter/ueFilter.html")}],bindings:{setting:"<",options:"="},controllerAs:"vm",controller:"UeFilterController"})}()},function(e,t){!function(){"use strict";function e(e,t,n,i,a,o,r){function l(){d.visiable=!d.visiable}var s,d=this;d.$onInit=function(){s=d.setting.component.settings,d.visiable=!1,d.header=s.header,d.body=[],angular.forEach(s.dataSource.fields,function(e){if(e.component.hasOwnProperty("settings")&&(!s.fields||~s.fields.indexOf(e.name))&&e.component.settings.filterable!==!1){var n=e.component.settings,i={label:n.label,operators:[],filters:[{field:e,options:{filterParameters:{operator:"%:text%",index:0},filter:!0,$parentComponentId:d.options.$parentComponentId,paramsPefix:d.options.prefixGrid}}]};if(n.$toFilter=n.$toFilter||function(e,t){return angular.forEach(t,function(n,i){e&&e.indexOf(":text")!==-1?(!n||angular.isObject(n)&&$.isEmptyObject(n)||(t[i]=e.replace(":text",n)),(void 0===n||null===n||""===n||angular.isObject(n)&&$.isEmptyObject(n))&&delete t[i]):(n&&(t[e+i]=t[i]),delete t[i])}),t},n.$parseFilter=function(n,i){var a=(n.setting.component.settings,n.parentComponentId),l={};angular.forEach(i,function(t,i){angular.isString(t)&&(t=t.replace(/^%/,"").replace(/%$/,"")),angular.isString(i)&&(i=i.replace(/^\>\=/,"").replace(/^\<\=/,"")),"date"===e.component.settings.$fieldType?(l[i]=l[i]||[],l[i].push(moment.utc(t,n.format))):l[i]=t});var s=l[n.fieldName];return angular.isArray(s)&&(s=s[n.options.filterParameters.index]),"array"===e.component.settings.$fieldType?n.fieldValue=s.split(","):(n.fieldValue=s,n.addToSelected&&s&&(n.fieldValue={},n.fieldValue[n.field_id]=s,n.addToSelected(null,n.fieldValue))),o(function(){var e=d.options.prefixGrid?d.options.prefixGrid+"-filter":"filter";r.getFilterQueryObject(e)||(r.calculate(a,e),t.$broadcast("editor:read_entity",n.options),d.visiable=!0)},0),l},~["ue-dropdown","ue-autocomplete","ue-checkbox","ue-radiolist","ue-colorpicker"].indexOf(e.component.name)&&(i.filters[0].options.filterParameters.operator=":text"),~["ue-date","ue-time","ue-datetime"].indexOf(e.component.name)){i.filters[0].ngStyle="display: inline-block; width: 25%; margin-left: 5px;",i.filters[0].options.filterParameters.operator=">=";var a=angular.copy(e);i.filters.push({field:a,options:{filterParameters:{operator:"<=",index:1},filter:!0,$parentComponentId:d.options.$parentComponentId},ngStyle:"display: inline-block; width: 25%; margin-left: 20px;"})}d.body.push(i)}}),d.footer=[],s.footer&&s.footer.controls||(s.footer={controls:[{component:{name:"ue-button-filter",settings:{$groups:d.body,label:"Применить",action:"send"}}},{component:{name:"ue-button-filter",settings:{label:"Очистить",action:"clear"}}}]}),s.footer&&s.footer.controls&&angular.forEach(s.footer.controls,function(e){d.footer.push(e)}),d.toggleFilterVisibility=l},n.on("$destroy",function(){e.$destroy()})}angular.module("universal.editor").controller("UeFilterController",e),e.$inject=["$scope","$rootScope","$element","EditEntityStorage","RestApiService","$timeout","FilterFieldsStorage"]}()},function(e,t){!function(){"use strict";var e={bindings:{setting:"<",options:"="},template:["$templateCache",function(e){return e.get("module/components/ueForm/ueForm.html")}],controller:"UeFormController",controllerAs:"vm"};angular.module("universal.editor").component("ueForm",e)}()},function(e,t){!function(){"use strict";function e(e,t,n,i,a,o,r){function l(){d="pk",p=i.params[d],angular.forEach(c.editFooterBar,function(e,t){"new"===p?e.type="create":e.type="update"})}function s(){var e;e=n.search().back?n.search().back:c.closeButtonSettings.state;var t=c.closeButtonSettings.url;if(!e&&t)angular.isString(t)&&(t=t.replace(":id",c.entityId),r.location.href=t);else{c.entityLoaded=!1,c.listLoaded=!1;var a={},o=!0;n.search().back&&(a.type=n.search().back),n.search().parent&&(a.parent=n.search().parent,o=!1);var l=n.search();i.go(e,a,{reload:o}).then(function(){l.back&&delete l.back,n.search(l)})}}var d,p,c=this,m=[{component:{name:"ue-button-service",settings:{label:"Сохранить",action:"save"}}},{component:{name:"ue-button-service",settings:{label:"Удалить",action:"delete"}}},{component:{name:"ue-button-service",settings:{label:"Сохранить",action:"presave"}}}];c.$onInit=function(){c.closeButtonSettings=c.setting.component.settings.closeButton||{visible:!0},"boolean"!=typeof c.closeButtonSettings.visible&&(c.closeButtonSettings.visible=!0),c.entityLoaded=!1,c.listLoaded=!1,c.errors=[],c.notifys=[],c.entityId="",c.editorEntityType="new",c.editFooterBar=[],c.editFooterBarNew=[],c.editFooterBarExist=[],c.idField="id",c.closeButtonSettings=c.setting.component.settings.closeButton||{visible:!0},"boolean"!=typeof c.closeButtonSettings.visible&&(c.closeButtonSettings.visible=!0),c.options=angular.copy(c.options),angular.merge(c.options,{isLoading:!1,$parentComponentId:c.setting.component.$id,$dataSource:c.setting.component.settings.dataSource}),d="pk",p=i.params[d],c.setting.component.settings.dataSource.hasOwnProperty("primaryKey")&&(c.idField=c.setting.component.settings.dataSource.primaryKey||c.idField),c.setting.component.settings.footer&&c.setting.component.settings.footer.controls&&angular.forEach(c.setting.component.settings.footer.controls,function(e){var t=angular.merge({},e);angular.isUndefined(t.component.settings.dataSource)&&(t.component.settings.dataSource=c.setting.component.settings.dataSource),t.paginationData={},c.editFooterBar.push(t)}),0===c.editFooterBar.length&&angular.forEach(m,function(e){var t=angular.merge({},e);angular.isUndefined(t.component.settings.dataSource)&&(t.component.settings.dataSource=c.setting.component.settings.dataSource),t.paginationData={},c.editFooterBar.push(t)}),l(),c.components=[],angular.forEach(c.setting.component.settings.body,function(e){if(angular.isObject(e)&&e.component&&(c.components.push(e),void 0===e.component.settings.dataSource&&(e.component.settings.dataSource=c.setting.component.settings.dataSource)),angular.isString(e)){var t=c.setting.component.settings.dataSource.fields.filter(function(t){return t.name==e});t.length>0&&c.components.push(t[0])}}),c.closeButton=s,"new"!==p&&(p?t.getItemById(p,c.setting.component.settings.dataSource,c.options):c.setting.pk&&t.getItemById(c.setting.pk,c.setting.component.settings.dataSource,c.options)),"new"===p&&(c.entityLoaded=!0)},e.$watch(function(){return i.params},function(e){l()}),e.$on("editor:entity_loaded",function(e,t){t.$parentComponentId&&t.$parentComponentId!==c.options.$parentComponentId||(c.editorEntityType=t.editorEntityType,c.entityId=t[c.idField],c.entityLoaded=!0)}),e.$on("editor:server_error",function(e,t){c.errors.push(t)}),e.$on("editor:presave_entity_created",function(e,t){c.entityId=t,c.editorEntityType="exist"}),e.$on("editor:field_error",function(e,t){c.errors.push(t)}),e.$on("editor:request_start",function(e,t){c.errors=[],c.notifys=[]})}angular.module("universal.editor").controller("UeFormController",e),e.$inject=["$scope","RestApiService","$location","$state","$translate","EditEntityStorage","$window"]}()},function(e,t){!function(){"use strict";var e={bindings:{setting:"<",options:"="},template:["$templateCache",function(e){return e.get("module/components/ueFormTabs/ueFormTabs.html")}],controller:"UeFormTabsController",controllerAs:"vm"};angular.module("universal.editor").component("ueFormTabs",e)}()},function(e,t){!function(){"use strict";function e(e,t,n,i){function a(e){s.indexTab=e}i.addClass("ue-form-tabs");var o,r,l,s=this;s.$onInit=function(){o="pk"+n.getLevelChild(t.current.name),r=t.params[o],l=s.setting.component.settings,s.tabs=[],s.indexTab=0,s.activateTab=a,angular.isArray(l.tabs)&&angular.forEach(l.tabs,function(e){var t={};t.label=e.label,t.fields=[],angular.isArray(e.fields)&&angular.forEach(e.fields,function(e){if(angular.isString(e)){var n=l.dataSource.fields.filter(function(t){return t.name==e});n.length>0&&t.fields.push(n[0])}else void 0===e.component.settings.dataSource&&(e.component.settings.dataSource=l.dataSource),t.fields.push(e)}),s.tabs.push(t)})}}angular.module("universal.editor").controller("UeFormTabsController",e),e.$inject=["$scope","$state","EditEntityStorage","$element"]}()},function(e,t){!function(){"use strict";var e={bindings:{setting:"<",options:"="},template:["$templateCache",function(e){return e.get("module/components/ueGrid/ueGrid.html")}],controller:"UeGridController",controllerAs:"vm"};angular.module("universal.editor").component("ueGrid",e)}()},function(e,t){!function(){"use strict";function e(e,t,n,i,a,o,r,l,s,d,p,c,m,u){function v(){return e}function f(e,t){A.tabsVisibility[e]=t}function g(e,t){e&&t&&(A.listLoaded=!1,A.sortField==e?A.sortingDirection=!A.sortingDirection:A.sortField=e,A.options.sort=A.sortingDirection?e:"-"+e,n.getItemsList({url:y,options:A.options,parentField:$,childId:A.parent}))}function h(){A.request.childId=A.parent,A.request.parentField=$,A.request.prefixGrid=A.prefixGrid,A.request.headComponent=A.setting.headComponent,n.loadParent(A.request)}function b(e){A.styleContextMenu={},A.contextId==e?A.contextId=void 0:A.contextId=e}function w(e,t){var n=t.pageX-c.find("table")[0].offsetLeft;3===t.which&&(A.styleContextMenu={top:t.offsetY,left:n},A.contextId=e)}c.addClass("ue-grid");var x,y,$,A=this;A.$onInit=function(){y=A.setting.component.settings.dataSource.url,$=A.setting.component.settings.dataSource.parentField,A.correctEntityType=!0,A.listLoaded=!1,A.loadingData=!0,A.tableFields=[],A.items=[],A.links=[],A.errors=[],A.notifys=[],A.tabsVisibility=[],A.entityId="",A.editorEntityType="new",A.sortField="",A.sortingDirection=!0,A.pageItemsArray=[],A.contextLinks=[],A.mixContextLinks=[],A.listHeaderBar=[],A.$parentComponentId=A.setting.component.$id,A.isContextMenu=!!A.setting.component.settings.contextMenu&&0!==A.setting.component.settings.contextMenu.length,A.prefixGrid=void 0,A.setting.component.settings.routing&&A.setting.component.settings.routing.paramsPrefix&&(A.prefixGrid=A.setting.component.settings.routing.paramsPrefix),A.options={$parentComponentId:A.$parentComponentId,$gridComponentId:A.$parentComponentId,prefixGrid:A.prefixGrid,mixedMode:A.setting.component.settings.mixedMode,sort:A.setting.component.settings.dataSource.sortBy,isGrid:!0},A.mixOption=angular.merge({},A.options),A.mixOption.isMix=!0,A.setting.component.settings.header?A.filterComponent=A.setting.component.settings.header.filter:A.filterComponent=A.setting.component.settings.header,A.filterComponent!==!1&&(angular.isUndefined(A.filterComponent)&&(A.filterComponent={component:{name:"ue-filter",settings:{header:{label:"Фильтр"}}}}),angular.isUndefined(A.filterComponent.component.settings.dataSource)&&(A.filterComponent.component.settings.dataSource=A.setting.component.settings.dataSource)),A.editFooterBarNew=[],A.editFooterBarExist=[],A.listFooterBar=[],A.contextId=void 0,A.idField="id",A.parentButton=!1,A.filterFields=[],A.visibleFilter=!0,A.pagination=!A.setting.component.settings.dataSource.hasOwnProperty("pagination")||A.setting.component.settings.dataSource.pagination,A.autoCompleteFields=[],A.entityType=A.setting.component.settings.entityType,A.parent=null,A.paginationData=[],A.isMixMode=!!A.setting.component.settings.mixedMode,A.isMixMode&&(A.prependIcon=A.setting.component.settings.mixedMode.prependIcon,A.entityType=A.setting.component.settings.mixedMode.entityType,A.subType=A.setting.component.settings.mixedMode.fieldType,A.collectionType=A.setting.component.settings.mixedMode.collectionType,angular.forEach(A.setting.component.settings.mixedMode.contextMenu,function(e){var t=angular.merge({},e);t.url=A.setting.component.settings.mixedMode.dataSource.url,t.parentField=$,t.headComponent=A.setting.headComponent,A.mixContextLinks.push(t)})),A.request={childId:A.parent,options:A.options,parentField:$,url:y},A.request.options.$dataSource=A.setting.component.settings.dataSource;var e=a.search()[A.prefixGrid?A.prefixGrid+"-parent":"parent"];A.parent=e||null,A.setting.component.settings.dataSource.hasOwnProperty("primaryKey")&&(A.idField=A.setting.component.settings.dataSource.primaryKey||A.idField),x="items";var t=A.setting.component.settings.columns;angular.isArray(t)&&t.forEach(function(e){var t,n=A.setting.component.settings.dataSource.fields.filter(function(t){return t.name===e});n.length&&(e=n[0]),angular.isObject(e)&&(t={field:e.name||null,sorted:e.component.settings.multiple!==!0,displayName:e.component.settings.label||e.name,component:e,options:{$parentComponentId:A.$parentComponentId,regim:"preview"}}),t&&A.tableFields.push(t)}),angular.forEach(A.setting.component.settings.dataSource.fields,function(e){e.component.hasOwnProperty("settings")&&A.setting.component.settings.columns.indexOf(e.name)!=-1}),angular.forEach(A.setting.component.settings.contextMenu,function(e){var t=angular.merge({},e);t.url=y,t.parentField=$,t.headComponent=A.setting.headComponent,A.contextLinks.push(t)}),A.setting.component.settings.header&&A.setting.component.settings.header.controls&&angular.forEach(A.setting.component.settings.header.controls,function(e){var t=angular.merge({},e);angular.isUndefined(t.component.settings.dataSource)&&(t.component.settings.dataSource=A.setting.component.settings.dataSource),t.paginationData={},A.listHeaderBar.push(t)}),A.setting.component.settings.footer&&A.setting.component.settings.footer.controls&&angular.forEach(A.setting.component.settings.footer.controls,function(e){var t=angular.merge({},e);angular.isUndefined(t.component.settings.dataSource)&&(t.component.settings.dataSource=A.setting.component.settings.dataSource),t.paginationData={},A.listFooterBar.push(t)}),A.sortField=A.setting.component.settings.dataSource.sortBy||A.tableFields[0].field,A.toggleContextView=b,A.toggleContextViewByEvent=w,A.getParent=h,A.getScope=v,A.setTabVisible=f,A.changeSortField=g,n.setFilterParams({}),A.request.childId=A.parent,A.request.options=A.options,A.request.parentField=$,A.request.url=y,n.getItemsList(A.request)},e.$on("editor:parent_id",function(e,t){t.$parentComponentId&&t.$parentComponentId!==A.options.$parentComponentId||(A.parent=t.parentId)}),e.$on("editor:read_entity",function(e,t){var i=t.$gridComponentId||t.$parentComponentId||t;A.$parentComponentId===i&&(A.parent=a.search()[A.prefixGrid?A.prefixGrid+"-parent":"parent"]||null,A.request.childId=A.parent,n.getItemsList(A.request))}),e.$on("editor:update_item",function(e,n){var i=n.$gridComponentId||n.$parentComponentId;if(!i||A.$parentComponentId===i&&n.value){var a=!1;if(A.items.filter(function(e){e[A.idField]===n.value[A.idField]&&(angular.merge(e,n.value),a=!0)}),a){var o={};o[x]=A.items,t.$broadcast("editor:items_list",o)}}}),e.$on("editor:items_list",function(e,n){if(!n.$parentComponentId||n.$parentComponentId===A.options.$parentComponentId){A.listLoaded=!0,A.items=n[x],angular.isObject(A.items)&&angular.forEach(A.items,function(e,t){e.$options={$parentComponentId:A.$parentComponentId,regim:"preview",$dataIndex:t}});var i={editorEntityType:"exist",$parentComponentId:A.$parentComponentId,$items:A.items};r(function(){t.$broadcast("editor:entity_loaded",i)}),A.parentButton=!!A.parent,A.pageItemsArray=[],angular.forEach(A.listFooterBar,function(e){e.paginationData=n})}}),e.$on("editor:server_error",function(e,t){A.errors.push(t)}),e.$on("editor:parent_childs",function(e,t){angular.forEach(A.items,function(e,n){var i=1;e[A.idField]===t.id&&(e.isExpand===!0?(e.isExpand=!1,A.items.splice(n+1,t.childs.length)):(e.isExpand=!0,angular.forEach(t.childs,function(e){A.items[n].hasOwnProperty.parentPadding?e.parentPadding=A.items[n].parentPadding+1:e.parentPadding=1,A.items.splice(n+i,0,e)})))})}),e.$on("editor:entity_success_deleted",function(e,t){}),e.$on("editor:field_error",function(e,t){A.errors.push(t)}),e.$on("editor:request_start",function(e,t){A.errors=[],A.notifys=[]}),o.on("click",function(e){angular.element(e.target).hasClass("context-toggle")||r(function(){A.contextId=void 0},0)})}angular.module("universal.editor").controller("UeGridController",e),e.$inject=["$scope","$rootScope","RestApiService","FilterFieldsStorage","$location","$document","$timeout","$httpParamSerializer","$state","toastr","$translate","$element","$compile","EditEntityStorage"]}()},function(e,t){!function(){"use strict";var e={bindings:{setting:"<",options:"="},transclude:!0,template:["$templateCache",function(e){return e.get("module/components/ueGroup/ueGroup.html")}],controller:"UeGroupController",controllerAs:"vm"};angular.module("universal.editor").component("ueGroup",e)}()},function(e,t){!function(){"use strict";function e(e,t,n,i,a,o){function r(t,i){if(!m.$isOnlyChildsBroadcast){var a=i[m.fieldName];a&&m.multiple&&angular.isArray(a)&&(a.forEach(m.addItem),n(function(){m.$isOnlyChildsBroadcast=!0,e.$broadcast("editor:entity_loaded",i),delete m.$isOnlyChildsBroadcast},0))}}function l(e){m.fieldsArray.splice(e,1)}function s(){var e=m.innerFields.map(function(e){return angular.extend({},e)});angular.forEach(e,function(e,t){e.parentFieldIndex=m.fieldsArray.length}),m.fieldsArray.push(e)}var d,p,c,m=this,u=12;m.$onInit=function(){d=m.setting.component.settings,p=i.getEntityObject(),m.fieldName=d.name,c=a("BaseController",{$scope:e}),angular.extend(m,c),m.innerFields=[],m.fieldsArray=[],m.countInLine=d.countInLine||1,u=Math.ceil(12/m.countInLine),m.className="col-md-"+u+" col-xs-"+u+" col-sm-"+u+" col-lg-"+u,m.multiple!==!0||m.fieldName||o("ERROR.MULTIPLE_NAME").then(function(e){}),m.addItem=s,m.removeItem=l,angular.forEach(d.fields,function(e,t){var n;angular.isString(e)?n=p.dataSource.fields.filter(function(t){return t.name==e})[0]:e&&e.component&&(n=e),n&&(m.fieldName&&(n.parentField=m.fieldName),m.innerFields.push(n))}),m.$isOnlyChildsBroadcast=!1,m.listeners.push(e.$on("editor:entity_loaded",r)),m.option=angular.merge({},m.options),m.option.isGroup=!0}}angular.module("universal.editor").controller("UeGroupController",e),e.$inject=["$scope","EditEntityStorage","$timeout","RestApiService","$controller","$translate"]}()},function(e,t){!function(){"use strict";angular.module("universal.editor").component("ueModal",{template:["$templateCache",function(e){return e.get("module/components/ueModal/ueModal.html")}],bindings:{resolve:"<",close:"&",dismiss:"&"},controllerAs:"vm",controller:function(e,t,n,i,a,o){function r(){p.close({$value:"ок modal"})}function l(){o.close(!0)}var s,d,p=this;p.$onInit=function(){s="pk"+a.getLevelChild(i.current.name),d=n.closest(".modal-dialog"),p.entityId=i.params[s],p.options=o.options,p.size=p.resolve.settings.size,p.size&&(p.size.width&&d.width(p.size.width),p.size.height&&d.height(p.size.height)),p.header=p.resolve.settings.header,p.body=p.resolve.settings.body,p.body&&p.body.component&&(p.body.component.settings.modal=!0),p.footer=[],p.resolve.settings.footer&&p.resolve.settings.footer.controls&&angular.forEach(p.resolve.settings.footer.controls,function(e){p.footer.push(e)}),p.resolve.settings.isModal=!0,p.ok=r,p.cancel=l},t.$on("exit_modal",function(){p.dismiss({$value:"cancel modal emit"})})}})}()},function(e,t){!function(){"use strict";var e={bindings:{setting:"<",options:"="},template:["$templateCache",function(e){return e.get("module/components/uePagination/uePagination.html")}],controller:"UePaginationController",controllerAs:"vm"};angular.module("universal.editor").component("uePagination",e)}()},function(e,t){!function(){"use strict";function e(e,t,n,i,a,o){function r(e,n){e.preventDefault(),l.request.params.page=n.page;var i=a.search()[l.options.prefixGrid?l.options.prefixGrid+"-parent":"parent"];l.parent=i||null,l.request.childId=l.parent,t.getItemsList(l.request)}o.addClass("ue-pagination");var l=this;l.$onInit=function(){l.metaKey=!0,l.parentComponentId=l.options.$parentComponentId,l.changePage=r};var s=e.$watch(function(){return l.setting.paginationData},function(e){var t,n,i="_meta",a="items",o=l.setting.component.settings.maxSize||7,r=l.setting.component.settings.dataSource.url,s=l.setting.component.settings.dataSource.parentField;l.request={params:{},options:l.options,parentField:s,url:r},l.pageItemsArray=[],l.items=l.setting.paginationData[a];var d={last:">>",next:">",first:"<<",previous:"<",lastIs:!0,nextIs:!0,firstIs:!0,previousIs:!0};if(l.setting.component.settings.label&&angular.forEach(["last","next","first","previous"],function(e){angular.isDefined(l.setting.component.settings.label[e])&&(l.setting.component.settings.label[e]?d[e]=l.setting.component.settings.label[e]:d[e+"Is"]=!1)}),angular.isDefined(l.setting.component.settings.dataSource.keys)&&(i=l.setting.component.settings.dataSource.keys.meta||i,a=l.setting.component.settings.dataSource.keys.items||a,l.metaKey=0!=l.setting.component.settings.dataSource.keys.meta),l.items&&0===l.items.length&&(l.metaKey=!1),e[i]){l.metaData=e[i],l.metaData.fromItem=(e[i].currentPage-1)*e[i].perPage+1,l.metaData.toItem=(e[i].currentPage-1)*e[i].perPage+e[a].length,e[i].currentPage>1&&(d.firstIs&&l.pageItemsArray.push({label:d.first,page:1}),d.previousIs&&l.pageItemsArray.push({label:d.previous,page:e[i].currentPage-1})),t=e[i].currentPage<=parseInt(o/2)?1:e[i].currentPage>e[i].pageCount-o+1?Math.max(e[i].pageCount-o+1,1):Math.max(e[i].currentPage-parseInt(o/2),1),n=Math.min(t+o-1,e[i].pageCount),t>1&&l.pageItemsArray.push({label:"...",page:t-1});for(var p=t;p<=n;p++)p!==e[i].currentPage?l.pageItemsArray.push({label:p,page:p}):l.pageItemsArray.push({label:e[i].currentPage,self:!0});n<e[i].pageCount&&l.pageItemsArray.push({label:"...",page:n+1}),e[i].currentPage<e[i].pageCount&&(d.nextIs&&l.pageItemsArray.push({label:d.next,page:e[i].currentPage+1}),d.lastIs&&l.pageItemsArray.push({label:d.last,page:e[i].pageCount}))}});l.$onDestroy=function(){s()}}angular.module("universal.editor").controller("UePaginationController",e),e.$inject=["$scope","RestApiService","$httpParamSerializer","$sce","$location","$element"]}()},function(e,t){!function(){"use strict";var e={bindings:{setting:"<",options:"="},template:["$templateCache",function(e){return e.get("module/components/ueRadiolist/ueRadiolist.html")}],controller:"UeRadiolistController",controllerAs:"vm"};angular.module("universal.editor").component("ueRadiolist",e)}()},function(e,t){!function(){"use strict";function e(e,t,n,i,a,o){function r(){d.fieldValue=d.setting.component.settings.defaultValue||null}var l,s,d=this;d.$onInit=function(){d.optionValues=[],d.inputValue="",d.newEntityLoaded=r,l=o("FieldsController",{$scope:e}),angular.extend(d,l),s=d.setting.component.settings,d.listeners.push(e.$on("editor:entity_loaded",function(t,n){e.onLoadDataHandler(t,n),n.$parentComponentId&&(n.$parentComponentId!==d.parentComponentId||d.options.filter)||s.$loadingPromise.then(function(e){d.optionValues=e,d.equalPreviewValue()}).finally(function(){d.loadingData=!1})}))}}angular.module("universal.editor").controller("UeRadiolistController",e),e.$inject=["$scope","$element","EditEntityStorage","RestApiService","FilterFieldsStorage","$controller"]}()},function(e,t){!function(e){try{e=angular.module("universal.editor.templates")}catch(t){e=angular.module("universal.editor.templates",[])}e.run(["$templateCache",function(e){e.put("module/components/ueRadiolist/ueRadiolist.html","\n<div ng-class=\"{'field-wrapper row':!vm.options.filter, 'filter-wrapper-field': vm.options.filter}\">\n    <div on-render-template=\"on-render-template\" ng-class=\"{'component-filter': vm.templates.filter &amp;&amp; vm.regim === 'filter',                   'component-edit': vm.templates.edit  &amp;&amp; vm.regim === 'edit',                   'component-preview': vm.templates.preview &amp;&amp; vm.regim === 'preview'}\" class=\"component-template\"></div>\n    <div ng-if=\"(!vm.templates.edit &amp;&amp; vm.regim === 'edit') || (!vm.templates.filter &amp;&amp; vm.regim === 'filter')\" ng-class=\"{'component-filter': vm.regim === 'filter'}\" class=\"component-edit\">\n"+'        <label ng-if="!vm.options.filter &amp;&amp; !!vm.label" class="field-name-label">\n            <div data-ng-if="!!vm.hint" class="field-hint">\n                <div ng-bind="::vm.hint" class="hint-text"></div>\n            </div><span data-ng-class="{\'editor-required\': vm.required}" ng-bind="::vm.label"></span>\n        </label>\n        <div ng-class="{\'filter-inner-wrapper\': vm.options.filter, \'field-element\': !vm.options.filter}" ng-if="!vm.disabled || vm.options.filter">\n            <div data-ng-repeat="item in vm.optionValues" data-ng-class="{\'radiodisabled\': vm.readonly}">\t\t\n                <label class="radio">\n                    <input type="radio" data-ng-disabled="vm.readonly" data-ng-model="vm.fieldValue" value="{{::item[vm.fieldId]}}"/><span ng-bind="::item[vm.fieldSearch]"></span>\n                </label>\n            </div>\n        </div>\n        <div ng-if="vm.disabled &amp;&amp; !vm.options.filter" class="disabled-field">\n            <div><span ng-bind="::vm.previewValue" data-ng-show="!vm.loadingData" ng-if="!vm.multiple"></span>\n                <div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData" ng-if="vm.multiple"><span ng-bind="value"></span></div>\n            </div>\n        </div>\n    </div>\n    <div ng-if="!vm.templates.preview &amp;&amp; vm.regim === \'preview\'" class="component-preview"> \n        <div data-ng-show="vm.loadingData" class="loader-search-wrapper">\n            <div class="loader-search">{{\'LOADING\' | translate}}</div>\n        </div><span ng-bind="::vm.previewValue" data-ng-show="!vm.loadingData" ng-if="!vm.multiple"></span>\n        <div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData" ng-if="vm.multiple"><span ng-bind="value"></span></div>\n    </div>\n    <div ng-if="!vm.options.filter" class="field-error-wrapper">\n        <div data-ng-repeat="err in vm.error track by $index" class="error-item alert alert-danger">{{err}}</div>\n    </div>\n</div>')}])}()},function(e,t){!function(){"use strict";var e={bindings:{setting:"<",options:"="},template:["$templateCache",function(e){return e.get("module/components/ueString/ueString.html")}],controller:"UeStringController",controllerAs:"vm"};angular.module("universal.editor").component("ueString",e)}()},function(e,t){!function(){"use strict";function e(e,t,n,i,a,o,r){function l(e){angular.isArray(p.fieldValue)&&p.fieldValue.forEach(function(t,n){n==e&&p.fieldValue.splice(e,1)})}function s(){p.fieldValue.push("")}var d,p=this;p.$onInit=function(){d=o("FieldsController",{$scope:e}),angular.extend(p,d),p.addItem=s,p.removeItem=l,"password"==p.contentType&&(p.typeInput="password"),p.listeners.push(e.$on("editor:entity_loaded",function(t,n){e.onLoadDataHandler(t,n),n.$parentComponentId&&(n.$parentComponentId!==p.parentComponentId||p.options.filter)||p.equalPreviewValue()}))}}angular.module("universal.editor").controller("UeStringController",e),e.$inject=["$scope","$element","EditEntityStorage","FilterFieldsStorage","$location","$controller","$timeout"]}()},function(e,t){!function(e){try{e=angular.module("universal.editor.templates")}catch(t){e=angular.module("universal.editor.templates",[])}e.run(["$templateCache",function(e){e.put("module/components/ueString/ueString.html","\n<div ng-class=\"{'field-wrapper row':!vm.options.filter, 'filter-wrapper-field': vm.options.filter}\">\n    <div on-render-template=\"on-render-template\" ng-class=\"{'component-filter': vm.templates.filter &amp;&amp; vm.regim === 'filter',                   'component-edit': vm.templates.edit  &amp;&amp; vm.regim === 'edit',                   'component-preview': vm.templates.preview &amp;&amp; vm.regim === 'preview'}\" class=\"component-template\"></div>\n    <div ng-if=\"(!vm.templates.edit &amp;&amp; vm.regim === 'edit') || (!vm.templates.filter &amp;&amp; vm.regim === 'filter')\" ng-class=\"{'component-filter': vm.regim === 'filter'}\" class=\"component-edit\">\n"+'        <label ng-if="!vm.options.filter &amp;&amp; !!vm.label" class="field-name-label">\n            <div data-ng-if="!!vm.hint" class="field-hint">\n                <div ng-bind="::vm.hint" class="hint-text"></div>\n            </div><span data-ng-class="{\'editor-required\': vm.required}" ng-bind="::vm.label"></span>\n        </label>\n        <div ng-class="{\'filter-inner-wrapper\': vm.options.filter, \'field-element\': !vm.options.filter}" ng-if="!vm.disabled || vm.options.filter">\n            <div data-ng-if="vm.multiple" data-ng-class="vm.classComponent">\n                <div data-ng-repeat="field_item in vm.fieldValue track by $index" class="item-string-wrapper input-group">\n                    <input type="{{vm.typeInput}}" data-ui-mask="{{vm.mask}}" data-ui-options="{maskDefinitions : vm.maskDefinitions}" data-ng-disabled="vm.readonly" name="{{vm.fieldName}}" data-ng-model="vm.fieldValue[$index]" step="{{vm.stepNumber}}" data-ng-blur="vm.inputLeave(vm.fieldValue[$index], $index)" ng-trim="false" class="form-control input-sm"/><span class="input-group-btn">\n                        <button data-ng-click="vm.removeItem($index)" data-ng-if="!vm.readonly" class="btn btn-default btn-sm">x</button></span>\n                </div>\n                <div data-ng-click="vm.addItem()" data-ng-disabled="vm.readonly" class="btn btn-primary btn-sm">{{\'BUTTON.ADD\' | translate}}</div>\n            </div>\n            <div data-ng-if="!vm.multiple" data-ng-class="vm.classComponent">\n                <input type="{{vm.typeInput}}" data-ui-mask="{{vm.mask}}" data-ui-options="{maskDefinitions : vm.maskDefinitions}" data-ng-disabled="vm.readonly" name="{{vm.fieldName}}" data-ng-model="vm.fieldValue" step="{{vm.stepNumber}}" data-ng-blur="vm.inputLeave(vm.fieldValue)" size="{{vm.size}}" ng-trim="false" class="form-control input-sm"/>\n            </div>\n        </div>\n        <div ng-if="vm.disabled &amp;&amp; !vm.options.filter" class="disabled-field">\n            <div><span ng-bind="::vm.previewValue" data-ng-show="!vm.loadingData" ng-if="!vm.multiple"></span>\n                <div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData" ng-if="vm.multiple"><span ng-bind="value"></span></div>\n            </div>\n        </div>\n    </div>\n    <div ng-if="!vm.templates.preview &amp;&amp; vm.regim === \'preview\'" class="component-preview"> \n        <div data-ng-show="vm.loadingData" class="loader-search-wrapper">\n            <div class="loader-search">{{\'LOADING\' | translate}}</div>\n        </div><span ng-bind="::vm.previewValue" data-ng-show="!vm.loadingData" ng-if="!vm.multiple"></span>\n        <div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData" ng-if="vm.multiple"><span ng-bind="value"></span></div>\n    </div>\n    <div ng-if="!vm.options.filter" class="field-error-wrapper">\n        <div data-ng-repeat="err in vm.error track by $index" class="error-item alert alert-danger">{{err}}</div>\n    </div>\n</div>')}])}()},function(e,t){!function(){"use strict";var e={bindings:{setting:"<",options:"="},template:["$templateCache",function(e){return e.get("module/components/ueTextarea/ueTextarea.html")}],controller:"UeTextareaController",controllerAs:"vm"};angular.module("universal.editor").component("ueTextarea",e)}()},function(e,t){!function(){"use strict";function e(e,t,n,i,a){function o(e){angular.isArray(d.fieldValue)&&d.fieldValue.forEach(function(t,n){n==e&&d.fieldValue.splice(e,1)})}function r(){d.fieldValue.push("")}var l,s,d=this;d.$onInit=function(){l=a("FieldsController",{$scope:e}),angular.extend(d,l),s=d.setting.component.settings,d.rows=s.height||7,d.addItem=r,d.removeItem=o,d.classComponent=d.cols?d.classComponent:"",d.listeners.push(e.$on("editor:entity_loaded",function(t,n){e.onLoadDataHandler(t,n),n.$parentComponentId&&(n.$parentComponentId!==d.parentComponentId||d.options.filter)||d.equalPreviewValue()}))}}angular.module("universal.editor").controller("UeTextareaController",e),e.$inject=["$scope","$element","EditEntityStorage","FilterFieldsStorage","$controller"];
}()},function(e,t){!function(e){try{e=angular.module("universal.editor.templates")}catch(t){e=angular.module("universal.editor.templates",[])}e.run(["$templateCache",function(e){e.put("module/components/ueTextarea/ueTextarea.html","\n<div ng-class=\"{'field-wrapper row':!vm.options.filter, 'filter-wrapper-field': vm.options.filter}\">\n    <div on-render-template=\"on-render-template\" ng-class=\"{'component-filter': vm.templates.filter &amp;&amp; vm.regim === 'filter',                   'component-edit': vm.templates.edit  &amp;&amp; vm.regim === 'edit',                   'component-preview': vm.templates.preview &amp;&amp; vm.regim === 'preview'}\" class=\"component-template\"></div>\n    <div ng-if=\"(!vm.templates.edit &amp;&amp; vm.regim === 'edit') || (!vm.templates.filter &amp;&amp; vm.regim === 'filter')\" ng-class=\"{'component-filter': vm.regim === 'filter'}\" class=\"component-edit\">\n"+'        <label ng-if="!vm.options.filter &amp;&amp; !!vm.label" class="field-name-label">\n            <div data-ng-if="!!vm.hint" class="field-hint">\n                <div ng-bind="::vm.hint" class="hint-text"></div>\n            </div><span data-ng-class="{\'editor-required\': vm.required}" ng-bind="::vm.label"></span>\n        </label>\n        <div ng-class="{\'filter-inner-wrapper\': vm.options.filter, \'field-element\': !vm.options.filter}" ng-if="!vm.disabled || vm.options.filter">\n            <div data-ng-if="vm.multiple" data-ng-class="vm.classComponent">\n                <div data-ng-repeat="field_item in vm.fieldValue track by $index" class="item-textarea-wrapper">\n                    <textarea name="{{vm.fieldName}}" rows="{{vm.rows}}" data-ng-disabled="vm.readonly" data-ng-model="vm.fieldValue[$index]" data-ng-blur="vm.inputLeave(vm.fieldValue[$index])" data-ng-trim="false" data-ui-mask="{{vm.mask}}" data-ui-options="{maskDefinitions : vm.maskDefinitions}" class="form-control editor-textarea"></textarea>\n                    <div data-ng-click="vm.removeItem($index)" data-ng-if="!vm.readonly" class="btn btn-default btn-sm">x</div>\n                </div>\n                <div data-ng-click="vm.addItem()" data-ng-disabled="vm.readonly" class="btn btn-primary btn-sm">{{\'BUTTON.ADD\' | translate}}</div>\n            </div>\n            <div data-ng-if="!vm.multiple" data-ng-class="vm.classComponent">\n                <textarea name="{{vm.fieldName}}" rows="{{vm.rows}}" data-ng-disabled="vm.readonly" data-ng-model="vm.fieldValue" data-ng-blur="vm.inputLeave(vm.fieldValue)" data-ng-trim="false" data-ui-mask="{{vm.mask}}" data-ui-options="{maskDefinitions : vm.maskDefinitions}" class="form-control editor-textarea"></textarea>\n            </div>\n        </div>\n        <div ng-if="vm.disabled &amp;&amp; !vm.options.filter" class="disabled-field">\n            <div><span ng-bind="::vm.previewValue" data-ng-show="!vm.loadingData" ng-if="!vm.multiple"></span>\n                <div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData" ng-if="vm.multiple"><span ng-bind="value"></span></div>\n            </div>\n        </div>\n    </div>\n    <div ng-if="!vm.templates.preview &amp;&amp; vm.regim === \'preview\'" class="component-preview"> \n        <div data-ng-show="vm.loadingData" class="loader-search-wrapper">\n            <div class="loader-search">{{\'LOADING\' | translate}}</div>\n        </div><span ng-bind="::vm.previewValue" data-ng-show="!vm.loadingData" ng-if="!vm.multiple"></span>\n        <div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData" ng-if="vm.multiple"><span ng-bind="value"></span></div>\n    </div>\n    <div ng-if="!vm.options.filter" class="field-error-wrapper">\n        <div data-ng-repeat="err in vm.error track by $index" class="error-item alert alert-danger">{{err}}</div>\n    </div>\n</div>')}])}()},function(e,t){!function(){"use strict";var e={bindings:{ueConfig:"="},template:["$templateCache",function(e){return e.get("module/components/universalEditor/universalEditor.html")}],controller:"UniversalEditorController",controllerAs:"vm"};angular.module("universal.editor").component("universalEditor",e)}()},function(e,t){!function(){"use strict";function e(e,t,n,i,a,o,r,l){function s(){return"xxxxxxxx-xxxx-xxxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})}var d,p=this;p.$onInit=function(){var e=angular.merge({},p.ueConfig);!function e(t){for(var n=Object.keys(t),i=n.length;i--;){var a=t[n[i]];"component"===n[i]&&(a.$id=a.$id||s()),angular.isObject(a)&&e(a)}}(e),d=angular.merge({},e.component),t.$broadcast("editor:set_entity_type",d.settings);var n="ru";p.ueConfig.hasOwnProperty("ui")&&p.ueConfig.ui.hasOwnProperty("language")&&(p.ueConfig.ui.language.hasOwnProperty("path")?a.use(p.ueConfig.ui.language.path):p.ueConfig.ui.language.hasOwnProperty("code")&&(a.use(p.ueConfig.ui.language.code),n=p.ueConfig.ui.language.code)),o.locale(n)},this.$postLink=function(){var t=n.find(".universal-editor"),a=e.$new();a.settings={},a.settings.component=d,a.settings.pk=null,a.options={},t.append(i("<"+d.name+' data-setting="settings" data-options="options" ></'+d.name+">")(a))}}angular.module("universal.editor").controller("UniversalEditorController",e),e.$inject=["$scope","$rootScope","$element","$compile","$translate","moment","$state","$location"]}()},function(e,t){!function(){"use strict";function e(e,t,n,i,a,o){function r(){angular.isArray(d.listeners)&&d.listeners.forEach(function(e){angular.isFunction(e)&&e()}),t.deleteFieldController(d),n.deleteFilterController(d)}function l(e,t){angular.isArray(t)?angular.forEach(t,function(e){d.error.indexOf(e)<0&&d.error.push(e)}):d.error.indexOf(t)<0&&d.error.push(t)}var s,d=e.vm,p=d.setting.component.settings;d.options&&(d.parentComponentId=d.options.$parentComponentId||"",d.regim=d.options.regim||"edit"),p&&p.mode&&(d.regim=p.mode),d.fieldName||(d.fieldName=d.setting.name),d.parentField=d.setting.parentField,d.parentFieldIndex=!!angular.isNumber(d.setting.parentFieldIndex)&&d.setting.parentFieldIndex,d.label=p.label||null,d.hint=p.hint||null,d.required=p.required===!0,d.multiple=p.multiple===!0,d.templates=p.templates;var c=/[^\s]+(?=\.html$)/;angular.isObject(d.templates)&&["preview","filter","edit"].forEach(function(t){var n=d.templates[t];angular.isFunction(n)&&(n=n(e)),n&&(c.test(n)?(d.templates[t]=i.get(n),void 0===d.templates[t]&&o("ERROR.FIELD.TEMPLATE").then(function(e){})):d.templates[t]=n)}),d.error=[],s=d.parentField?d.parentFieldIndex?d.parentField+"_"+d.parentFieldIndex+"_"+d.fieldName:d.parentField+"_"+d.fieldName:d.fieldName,d.listeners=[],d.listeners.push(e.$on("editor:api_error_field_"+s,l)),e.onErrorApiHandler=l,e.onDestroyHandler=r,e.$on("$destroy",r),d.listeners.push(e.$on("editor:entity_loaded",function(t,n){n.$parentComponentId&&(n.$parentComponentId!==d.parentComponentId||d.options.filter)||((d.options.$dataIndex||0===d.options.$dataIndex)&&angular.isObject(n.$items)?e.data=d.data=n.$items[d.options.$dataIndex]:e.data=d.data=n)}))}angular.module("universal.editor").controller("BaseController",e),e.$inject=["$scope","EditEntityStorage","FilterFieldsStorage","$templateCache","$compile","$translate"]}()},function(e,t){!function(){"use strict";function e(e,t){var n=this,i=t("BaseController",{$scope:e});angular.extend(n,i);var a=e.vm,o=a.setting.component.settings;a.label=o.label,a.action=o.action,a.beforeSend=o.beforeSend,a.success=o.success,a.error=o.error,a.complete=o.complete,a.type=a.setting.type,a.entityId=a.setting.entityId}angular.module("universal.editor").controller("ButtonsController",e),e.$inject=["$scope","$controller"]}()},function(e,t){!function(){"use strict";function e(e,t,n,i,a,o,r,l,s,d,p){function c(){w.fieldValue=w.multiple?[]:null}function m(e){var t;return"date"===x.$fieldType?(t=l(e),w.multiple?[t]:t):(t=angular.isObject(e)&&!angular.isArray(e)&&w.fieldId?e[w.fieldId]:e,0==t?t:angular.copy(t)||(w.multiple?[]:null))}function u(e){function t(e,t,n){e==t[w.fieldId]&&(n?(w.previewValue=w.previewValue||[],w.previewValue.push(t[w.fieldSearch])):w.previewValue=t[w.fieldSearch])}e=e||w.optionValues||[],angular.isArray(w.fieldValue)&&(w.previewValue=[]),null===w.fieldValue||angular.isUndefined(w.fieldValue)||(x.values||x.valuesRemote?angular.isArray(e)&&e.forEach(function(e){angular.isObject(w.fieldValue)&&!angular.isArray(w.fieldValue)&&t(w.fieldValue[w.fieldId],e,!1),angular.isArray(w.fieldValue)&&w.fieldValue.forEach(function(n){angular.isObject(n)&&t(n[w.fieldId],e,!0),(angular.isNumber(n)||angular.isString(n))&&t(n,e,!0)}),(angular.isNumber(w.fieldValue)||angular.isString(w.fieldValue))&&t(w.fieldValue,e,!1)}):w.previewValue=w.fieldValue)}function v(){var e,t={};return w.multiple?(e=[],w.fieldValue.forEach(function(t){var n,i=m(t);w.multiname&&(n={},n[w.multiname]=i),e.push(n||i)})):e=m(w.fieldValue),w.parentField?(t[w.parentField]={},t[w.parentField][w.fieldName]=e):t[w.fieldName]=e,t}function f(t,n,i){if(!(n.$parentComponentId&&n.$parentComponentId!==w.parentComponentId||w.options.filter)){if(x.depend&&e.$watch(function(){var e=s.getValueField(w.parentComponentId,x.depend),t=!1;return e!==!1&&!function e(n){for(var i=Object.keys(n),a=i.length;a--;){var o=n[i[a]];null!==o&&void 0!==o&&""!==o&&(angular.isObject(o)&&!t?e(o):t=!0)}}(e),t},function(e){e?w.readonly=x.readonly||!1:(w.clear(),w.readonly=!0)},!0),"new"===n.editorEntityType&&"preview"!==w.regim){if(w.newEntityLoaded)return void w.newEntityLoaded();var a={};return w.fieldValue=m(x.defaultValue),w.fieldId&&(w.isTree&&(w.fieldValue=[]),x.defaultValue&&!w.isTree&&(a={},a[w.fieldId]=x.defaultValue,w.fieldValue=a),n.hasOwnProperty(w.fieldName)&&(w.fieldValue=n[w.fieldName])),void(angular.isFunction(i)&&i())}var o;w.parentField?(o=w.data[w.parentField],angular.isArray(w.data[w.parentField])&&angular.isNumber(w.parentFieldIndex)&&(o=o[w.parentFieldIndex]),o=o[w.fieldName]):o=w.data[w.fieldName],w.multiple?angular.isArray(o)&&(w.fieldValue=[],o.forEach(function(e){w.fieldValue.push(w.multiname?e[w.multiname]:e)})):w.fieldValue=o,angular.isFunction(i)&&i(),u()}}function g(e,t){if(w.error=[],e){if(w.trim&&(w.multiple?w.fieldValue[t]=w.fieldValue[t].trim():w.fieldValue=w.fieldValue.trim(),e=e.trim()),w.hasOwnProperty("maxLength")&&e.length>w.maxLength){var n="Для поля превышено максимальное допустимое значение в "+w.maxLength+" символов. Сейчас введено "+e.length+" символов.";w.error.indexOf(n)<0&&w.error.push(n)}if(w.hasOwnProperty("minLength")&&e.length<w.minLength){var i="Минимальное значение поля не может быть меньше "+w.minLength+" символов. Сейчас введено "+e.length+" символов.";w.error.indexOf(i)<0&&w.error.push(i)}if(w.hasOwnProperty("pattern")&&!e.match(RegExp(w.pattern))){var a="Введенное значение не соответствует паттерну "+w.pattern;w.error.indexOf(a)<0&&w.error.push(a)}if(w.hasOwnProperty("maxNumber")&&e>w.maxNumber){var o="Для поля превышено максимальное допустимое значение "+w.maxNumber+". Сейчас введено "+e+".";w.error.indexOf(o)<0&&w.error.push(o)}if(w.hasOwnProperty("minNumber")&&e<w.minNumber){var r="Минимальное значение поля не может быть меньше "+w.minNumber+". Сейчас введено "+e+".";w.error.indexOf(r)<0&&w.error.push(r)}if("email"==w.contentType&&!e.match(y)){var l="Введен некорректный email.";w.error.indexOf(l)<0&&w.error.push(l)}if("url"==w.contentType&&!e.match($)){var s="Введен некорректный url.";w.error.indexOf(s)<0&&w.error.push(s)}}}var h=this,b=i("BaseController",{$scope:e});angular.extend(h,b);var w=e.vm,x=w.setting.component.settings,y=RegExp("^[-a-z0-9~!$%^&*_=+}{'?]+(.[-a-z0-9~!$%^&*_=+}{'?]+)*@([a-z0-9_][-a-z0-9_]*(.[-a-z0-9_]+[a-z][a-z])|([0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}))(:[0-9]{1,5})?$","i"),$=RegExp("^(?:(?:ht|f)tps?://)?(?:[\\-\\w]+:[\\-\\w]+@)?(?:[0-9a-z][\\-0-9a-z]*[0-9a-z]\\.)+[a-z]{2,6}(?::\\d{1,5})?(?:[?/\\\\#][?!^$.(){}:|=[\\]+\\-/\\\\*;&~#@,%\\wА-Яа-я]*)?$","i");w.readonly=x.readonly===!0,w.multiname=x.multiname||null,w.depend=x.depend||null,w.width=isNaN(+x.width)?null:x.width,w.defaultValue=m(x.defaultValue),w.placeholder=x.placeholder||null,w.classComponent="col-lg-4 col-md-4 col-sm-4 col-xs-4 clear-padding-left",w.inputLeave=g,w.disabled=x.disabled;var A=x.values,C=x.valuesRemote;(A||C)&&(w.fieldId="id",w.fieldSearch="title",w.optionValues&&(A?(angular.forEach(x.values,function(e,t){var n={};n[w.fieldId]=t,n[w.fieldSearch]=e,angular.isArray(x.values)&&(n[w.fieldId]=e),w.optionValues.push(n)}),u(),x.$loadingPromise=d.when(w.optionValues)):C&&(C.fields&&(w.fieldId=C.fields.value||w.fieldId,w.fieldSearch=C.fields.label||w.fieldId),w.loadingData=!0,x.$loadingPromise?(x.$optionValues&&x.$optionValues.length&&(w.loadingData=!1,w.optionValues=x.$optionValues),u()):x.$loadingPromise=r.getUrlResource(C.url).then(function(e){return angular.forEach(e.data.items,function(e){w.optionValues.push(e)}),x.$optionValues=w.optionValues,w.optionValues},function(e){p("ERROR.FIELD.VALUES_REMOTE").then(function(e){})}).finally(function(){w.loadingData=!1})))),w.fieldValue=m(w.defaultValue),w.cols=w.width,w.options.filter&&(w.multiple=!1,w.readonly=!1,w.required=!1,w.fieldValue=null,w.cols=12),w.cols&&(w.cols>12&&(w.cols=12,p("ERROR.FIELD.MAX_SIZE").then(function(e){})),w.cols<1&&(w.cols=1,p("ERROR.FIELD.MIN_SIZE").then(function(e){})),w.classComponent="col-lg-"+w.cols+" col-md-"+w.cols+" col-sm-"+w.cols+" col-xs-"+w.cols+" clear-padding-left"),w.options.filter?o.addFilterController(w):s.addFieldController(w),w.listeners.push(e.$watch(function(){return w.fieldValue},function(){w.error=[]},!0)),w.options.filter&&e.$watch(function(){return n.search()},function(t){var n=w.options.paramsPefix?w.options.paramsPefix+"-filter":"filter";if(t&&t[n]){var i=JSON.parse(t[n]);x.$parseFilter(e.vm,i)}}),w.clear=c,w.getFieldValue=v,w.equalPreviewValue=u,e.onLoadDataHandler=f,w.typeInput="text",w.validators=w.setting.component.settings.validators,angular.forEach(w.setting.component.settings.validators,function(e){switch(e.type){case"string":w.minLength=e.minLength,w.maxLength=e.maxLength,w.pattern=e.pattern,w.trim=e.trim,w.contentType=e.contentType;break;case"number":w.typeInput="number",w.minNumber=e.min,w.maxNumber=e.max,w.stepNumber=e.step;break;case"date":w.minDate=e.minDate,w.maxDate=e.maxDate,w.minView=e.minView,w.maxView=e.maxView,w.view=e.view,w.format=e.format;break;case"mask":w.isMask=!0,w.maskDefinitions=e.maskDefinitions,w.mask=e.mask}})}angular.module("universal.editor").controller("FieldsController",e),e.$inject=["$scope","$rootScope","$location","$controller","$timeout","FilterFieldsStorage","RestApiService","moment","EditEntityStorage","$q","$translate"]}()},function(e,t){angular.module("universal.editor").directive("onRenderTemplate",["$timeout","$compile",function(e,t){return{restrict:"A",scope:!1,link:function(n,i,a){function o(e,a){i.html(t(angular.element(a))(n))}var r=n.vm;e(function(){angular.isObject(r.templates)?r.templates.filter&&i.hasClass("component-filter")?o(i,r.templates.filter):r.templates.edit&&i.hasClass("component-edit")?o(i,r.templates.edit):r.templates.preview&&i.hasClass("component-preview")?o(i,r.templates.preview):i.hasClass("button-template")?o(i,r.templates):i.remove():i.remove()})}}}])},function(e,t){!function(){"use strict";function e(e){var t=function(e){this.scope=e.$new(),this.scope.setting=e.setting,this.scope.options=e.options};return t.prototype.build=function(){var t="<"+this.scope.setting.component.name+' class="field-wrapper-'+this.scope.setting.component.name+'" data-setting="::setting" data-options="::options"></'+this.scope.setting.component.name+">";return e(t)(this.scope)},t}angular.module("universal.editor").factory("ComponentBuilder",e),e.$inject=["$compile"]}()},function(e,t){!function(){"use strict";function e(e,t,n,i){var a={};return{setConfig:function(e,t){a=t},$get:["$q","$rootScope",function(e,t){return a}]}}angular.module("universal.editor").provider("configData",e),e.$inject=["$stateProvider","$urlRouterProvider","$injector","moment"]}()},function(e,t){!function(){"use strict";function e(e){function t(t){if(!t)return t;var n=t.split(".");return e[n[0]][n[1]]}var n=this;n.getCallback=t}angular.module("universal.editor").service("ButtonsService",e),e.$inject=["$window"]}()},function(e,t){!function(){"use strict";function e(e,t,n,i,a,o){var r,l=[],s=this,d={};this.actionType="create",this.getLevelChild=function(e){return e.split(".").length},this.getValueField=function(e,t){for(var n=d[e]||[],i=n.length;i--;){var a=n[i];if(a.fieldName===t)return a.getFieldValue()}return!1},this.newSourceEntity=function(t,n){var a,o=i.search().parent;o&&(o=JSON.parse(o),a=o[t]||null);var r={editorEntityType:"new",$parentComponentId:n?void 0:t};a&&n&&(r[n]=a),e.$broadcast("editor:entity_loaded",r)},this.addFieldController=function(e){var t=e.parentComponentId;t&&(d[t]=d[t]||[],d[t].push(e),e.$fieldHash=Math.random().toString(36).substr(2,15))},this.deleteFieldController=function(e){var t=d[e.parentComponentId];t&&angular.forEach(t,function(n,i){n.$fieldHash===e.$fieldHash&&t.splice(i,1)})},this.setActionType=function(e){this.actionType=e},this.editEntityUpdate=function(t,n){this.setActionType(n.collectionType);var i={},a=d[n.options.$parentComponentId]||[],o=!0;if(angular.forEach(a,function(e){var t=e.getFieldValue();if(e.multiple){var n=!0;angular.forEach(e.fieldValue,function(t,i){n&&(e.inputLeave(t,i),0!==e.error.length&&(n=!1))})}else e.inputLeave(e.fieldValue);o=0===e.error.length&&o,e.hasOwnProperty("readonly")&&e.readonly!==!1||(e.parentField&&e.parentFieldIndex!==!1?(i[e.parentField]=i[e.parentField]||[],i[e.parentField][e.parentFieldIndex]=i[e.parentField][e.parentFieldIndex]||{},angular.merge(i[e.parentField][e.parentFieldIndex],t[e.parentField])):angular.merge(i,t))}),o)switch(n.data=i,t){case"create":e.$emit("editor:create_entity",n);break;case"update":e.$emit("editor:update_entity",n)}},this.editEntityPresave=function(t){var n={},i=!0,a=d[t.options.$parentComponentId]||[];angular.forEach(a,function(e){var t=e.getFieldValue();if(e.multiple){var a=!0;angular.forEach(e.fieldValue,function(t,n){a&&(e.inputLeave(t,n),0!==e.error.length&&(a=!1))})}else e.inputLeave(e.fieldValue);i=0===e.error.length&&i,e.hasOwnProperty("readonly")&&e.readonly!==!1||(e.parentField&&e.parentFieldIndex!==!1?(n[e.parentField]=n[e.parentField]||[],n[e.parentField][e.parentFieldIndex]=n[e.parentField][e.parentFieldIndex]||{},angular.merge(n[e.parentField][e.parentFieldIndex],t[e.parentField])):angular.merge(n,t)),e.hasOwnProperty("readonly")&&e.readonly!==!1||angular.merge(n,e.getFieldValue())}),i&&(t.data=n,e.$emit("editor:presave_entity",t))},this.getEntity=function(e){return n},this.getStateConfig=function(e){var t=null;return angular.forEach(n.states,function(n){n.name&&n.name===e&&(t=n)}),e?t:n.states[0]},e.$on("editor:add_entity",function(e,t){s.actionType=t}),e.$on("editor:set_entity_type",function(e,t){r=t,l=[]})}angular.module("universal.editor").service("EditEntityStorage",e),e.$inject=["$rootScope","$timeout","configData","$location","$state","$translate"]}()},function(e,t){!function(){"use strict";function e(e,t,n){function i(e){var t=e.parentComponentId;t&&(s[t]=s[t]||[],s[t].push(e),e.$fieldHash=Math.random().toString(36).substr(2,15))}function a(e){var t=e.parentComponentId;if(t){var n=s[t];n&&angular.forEach(n,function(t,i){t.$fieldHash===e.$fieldHash&&n.splice(i,1)})}}function o(e,t){s[e]&&(angular.forEach(s[e],function(e){e.clear()}),r(e,t))}function r(e,t){var n=s[e],i={};return angular.forEach(n,function(e){var t=e.setting.component.settings,n=e.options.filterParameters.operator,a=(e.getFieldValue(),t.$toFilter(n,e.getFieldValue()));angular.extend(i,a)}),$.isEmptyObject(i)?(delete d[t],i=!1):d[t]=angular.copy(i),i}function l(e){return d[e]}var s={},d={},p=this;angular.extend(p,{addFilterController:i,deleteFilterController:a,clearFiltersValue:o,calculate:r,getFilterQueryObject:l})}angular.module("universal.editor").service("FilterFieldsStorage",e),e.$inject=["$rootScope","$timeout","configData"]}()},function(e,t){!function(){"use strict";function e(e,t,n,i,a,o,r,l,s,d,p){function c(e){f=e.settings,g.options.$parentComponentId&&o.search("relativeEntityId",g.options.$parentComponentId),v=p.open({component:"ueModal",resolve:{settings:function(){return f},$parentComponentId:function(){return g.options.$parentComponentId||o.search().relativeEntityId}}}),v.rendered.then(function(){h=!0;var e=l.params["pk"+a.getLevelChild(l.current.name)];"new"===e&&a.newSourceEntity(g.options.$parentComponentId),g.fromState=f.fromState||null}),v.result.then(u,u)}function m(){return h}function u(e){if(h){var n=g.options.$parentComponentId;h=!1,v&&v.close(),v=null,o.search("relativeEntityId",null),g.options=null,f.fromState&&l.go(f.fromState.name,f.fromParams,{reload:!1}).then(function(){e||t.$broadcast("editor:read_entity",n)}),f=null}}var v,f,g=this,h=!1;g.close=u,g.open=c,g.isModalOpen=m,g.options={},g.fromState=null}angular.module("universal.editor").service("ModalService",e),e.$inject=["$q","$rootScope","$http","configData","EditEntityStorage","$location","$timeout","$state","$httpParamSerializer","$document","$uibModal"]}()},function(e,t){!function(){"use strict";function e(e,t,n,i,a,o,r,l,s,d,p,c,m,u){function v(t,n){var i=e.defer();return C[t]=C[t]||{},C[t][n]&&C[t][n].resolve(),C[t][n]=i,i}function f(){u("CHANGE_RECORDS.DELETE").then(function(e){m.success(e)})}function g(){u("CHANGE_RECORDS.UPDATE").then(function(e){m.success(e)})}function h(){u("CHANGE_RECORDS.CREATE").then(function(e){m.success(e)})}function b(){u("CHANGE_RECORDS.CREATE").then(function(e){m.success(e)})}var w,x,y,$,A=this,C=[];A.isProcessing=!1,A.methodType="",A.editedEntityId=null,t.$on("editor:set_entity_type",function(e,t){$=t,y="items"}),t.$on("editor:create_entity",function(e,t){A.addNewItem(t)}),t.$on("editor:update_entity",function(e,t){A.updateItem(t)}),t.$on("editor:presave_entity",function(e,t){A.presaveItem(t)}),this.getQueryParams=function(){try{return JSON.parse(JSON.stringify(w))}catch(e){return{}}},this.setQueryParams=function(e){w=Object.keys(e).length>0?e:void 0},this.setFilterParams=function(e){x=Object.keys(e).length>0?e:void 0},this.getItemsList=function(i){var a=v(i.options.$parentComponentId,"read");i.options.isLoading=!0;var o=i.options.$dataSource,r=e.defer(),l="GET",s=i.url,d=i.params||{};l=i.method||l,i.options&&void 0!==i.options.sort&&(d.sort=i.options.sort);var c,m=(i.options.$parentComponentId,p.getFilterQueryObject(i.options.prefixGrid?i.options.prefixGrid+"-filter":"filter"));i.childId&&(m=m||{},m[i.parentField]=i.childId),angular.isFunction(p.callbackBeforeSend)&&(c=p.callbackBeforeSend,delete p.callbackBeforeSend),m?angular.extend(d,{filter:JSON.stringify(m)}):delete d.filter,i.options.mixedMode&&(d=d||{},angular.extend(d,{mixed:i.options.mixedMode.collectionType})),o.hasOwnProperty("parentField")&&(d=d||{},d.hasOwnProperty("filter")||(d.root=!0)),!o.hasOwnProperty("sortBy")||d.hasOwnProperty(o.sortBy)||d.sort||(d=d||{},angular.extend(d,{sort:o.sortBy})),d.hasOwnProperty("filter")&&delete d.root;var u=[];return angular.forEach(o.fields,function(e){e.hasOwnProperty("expandable")&&e.expandable===!0&&u.push(e.name)}),u.length>0&&(d.expand=u.join(",")),n({method:l,url:s,params:d,timeout:a.promise,beforeSend:c}).then(function(e){0===e.data[y].length&&t.$broadcast("editor:parent_empty"),e.data.$parentComponentId=i.options.$parentComponentId,t.$broadcast("editor:items_list",e.data),r.resolve(e.data)}).finally(function(){i.options.isLoading=!1}),r.promise},this.getData=function(e,t){return n({method:"GET",url:e,params:t})},this.addNewItem=function(e){if(!e.options.isLoading){var i=e.options.$dataSource,a=i.fields.parent,r=e.options.prefixGrid?e.options.prefixGrid+"-parent":"parent";if(a&&o.search()[r]){var s=!d[0].querySelector(".field-wrapper [name='"+a+"']");s&&(e.data[a]=o.search()[r])}e.options.isLoading=!0;var p,m="POST",u=i.url,v="id";i.hasOwnProperty("fields")&&(v=i.fields.primaryKey||v),n({method:e.method||m,url:e.method||u,data:e.data}).then(function(n){var i={id:n.data[v],$parentComponentId:e.options.$parentComponentId};t.$broadcast("editor:presave_entity_created",i),e.options.isLoading=!1,t.$broadcast("uploader:remove_session"),t.$broadcast("editor:entity_success"),b();var a={},r=e.options.prefixGrid?e.options.prefixGrid+"-parent":"parent";o.search()[r]&&(a.parent=o.search()[r]),o.search().back&&(a.state=o.search().back,p=o.search().back),c.isModalOpen()?c.close():l.go(p,a).then(function(){a.back&&delete a.back,o.search(a),t.$broadcast("editor:read_entity",e.options.$parentComponentId)})},function(n){var i=n.data.hasOwnProperty("data")?n.data.data:n.data;i.length>0&&angular.forEach(i,function(e){e.hasOwnProperty("field")&&(t.$broadcast("editor:api_error_field_"+e.field,e.message),e.hasOwnProperty("fields")&&angular.forEach(e.fields,function(n,i){t.$broadcast("editor:api_error_field_"+e.field+"_"+i+"_"+n.field,n.message)}))}),e.options.isLoading=!1})}},this.updateItem=function(e){if(!e.options.isLoading){var i=e.options.$dataSource;e.options.isLoading=!0;var a,r="PUT",s=i.url+"/"+A.editedEntityId,d="id";n({method:e.method||r,url:e.url||s,data:e.data||{}}).then(function(n){var i={id:n.data[d],$parentComponentId:e.options.$parentComponentId};t.$broadcast("editor:presave_entity_updated",i),e.options.isLoading=!1,t.$broadcast("uploader:remove_session"),t.$broadcast("editor:entity_success"),g();var r={},s=e.options.prefixGrid?e.options.prefixGrid+"-parent":"parent";o.search()[s]&&(r.parent=o.search()[s]),o.search().back&&(a=o.search().back),c.isModalOpen()?c.close():l.go(a,r).then(function(){o.search(r),t.$broadcast("editor:read_entity",e.options.$parentComponentId)})},function(n){var i=n.data.hasOwnProperty("data")?n.data.data:n.data;i.length>0&&angular.forEach(i,function(e){e.hasOwnProperty("field")&&(t.$broadcast("editor:api_error_field_"+e.field,e.message),e.hasOwnProperty("fields")&&angular.forEach(e.fields,function(n,i){t.$broadcast("editor:api_error_field_"+e.field+"_"+i+"_"+n.field,n.message)}))}),e.options.isLoading=!1})}},this.presaveItem=function(e){var i,r="POST",s="id",d=!0;if(!e.options.isLoading){var p=e.options.$dataSource;e.options.isLoading=!0,""!==A.editedEntityId?(i=p.url+"/"+A.editedEntityId,r="PUT",d=!1):i=p.url,p.hasOwnProperty("fields")&&(s=p.fields.primaryKey||s),n({method:e.method||r,url:e.url||i,data:e.data||{}}).then(function(n){e.options.isLoading=!1;var i=n.data[s],r={};r["pk"+a.getLevelChild(l.current.name)]=i;var p=o.search();l.go(l.current.name,r,{reload:!1,notify:!1}).then(function(){o.search(p),t.$broadcast("editor:update_item",{$gridComponentId:e.options.$gridComponentId,value:n.data})});var c={id:i,$parentComponentId:e.options.$parentComponentId};d?(t.$broadcast("editor:presave_entity_created",c),h()):(g(),t.$broadcast("editor:presave_entity_updated",c))},function(n){if((422===n.status||400===n.status)&&n.data){var i=n.data.hasOwnProperty("data")?n.data.data:n.data;angular.forEach(i,function(e){e.hasOwnProperty("field")&&(t.$broadcast("editor:api_error_field_"+e.field,e.message),e.hasOwnProperty("fields")&&angular.forEach(e.fields,function(n,i){t.$broadcast("editor:api_error_field_"+e.field+"_"+i+"_"+n.field,n.message)}))})}e.options.isLoading=!1})}},this.getItemById=function(e,i,a){var o={},r=[],l=a.$dataSource||$.dataSource;a.isLoading=!0,angular.forEach(l.fields,function(e){e.hasOwnProperty("expandable")&&e.expandable===!0&&r.push(e.name)}),r.length>0&&(o.expand=r.join(",")),n({method:"GET",url:l.url+"/"+e,params:o}).then(function(e){var n=e.data;n.$parentComponentId=a.$parentComponentId,n.editorEntityType="exist",t.$broadcast("editor:entity_loaded",n)}).finally(function(){a.isLoading=!1})},this.deleteItemById=function(e){var i;if(!e.options.isLoading){var a,r=e.options.$dataSource;a=e.options.isMix?e.options.mixedMode.dataSource.url:r.url,e.options.isLoading=!0;var s=a+"/"+e.entityId;return"edit"===e.setting.buttonClass&&(s=a.replace(":pk",e.entityId)),n({method:e.method||"DELETE",url:e.url||s,params:e.params||{}}).then(function(n){e.options.isLoading=!1,A.setQueryParams({}),A.setFilterParams({}),t.$broadcast("editor:entity_success_deleted"),f();var a={},r=e.options.prefixGrid?e.options.prefixGrid+"-parent":"parent";o.search()[r]&&(a[r]=o.search()[r]),o.search().back&&(i=o.search().back),i=i||l.current.name,c.isModalOpen()?c.close():l.go(i,a).then(function(){o.search(a),t.$broadcast("editor:read_entity",e.options.$parentComponentId)})},function(t){e.options.isLoading=!1})}},this.getUrlResource=function t(i,a,o,r,l,s){function d(e,t){return n({method:"GET",url:e,params:{page:t||1,"per-page":50}})}var p=r||e.defer(),c=o||[],m=[];if(l=l||1,s=s||0,12===l&&(l=11),s)for(var u=l;u<=s;u++)m.push(d(i,u));else m.push(d(i));return e.all(m).then(function(e){for(var n,o,r=e.length;r--;)n=e[r],c=c.concat(n.data.items),angular.isFunction(a)&&a(n.data.items);return n&&n.data._meta&&(o=n.data._meta.pageCount),o&&o!==s&&1!==o?(1===l?l=2:l+=2===l?4:5,s+=5,s>o&&(s=o),t(i,a,c,p,l,s)):void p.resolve({data:{items:c}})},function(e){}),p.promise},this.actionRequest=function(t){var i=e.defer(),a=t.params||{},o=t.url;return t.id&&(o=t.url.replace(":id",id)),A.isProcessing=!0,n({method:t.method,url:o,params:a,beforeSend:t.beforeSend}).then(function(e){A.isProcessing=!1,i.resolve(e)},function(e){A.isProcessing=!1,i.reject(e)}),i.promise},this.loadChilds=function(e){var n,i={parentId:e.id,$parentComponentId:e.options.$parentComponentId};t.$broadcast("editor:parent_id",i),e.childId=e.id,A.getItemsList(e).then(function(){n=null,e.childId&&(n=e.childId);var t=e.options.prefixGrid?e.options.prefixGrid+"-parent":"parent";o.search(t,n)})},this.loadParent=function(e){function i(){e.options.isLoading=!1,e.parentField=null,t.$broadcast("editor:parent_id",r);var n=e.options.prefixGrid?e.options.prefixGrid+"-parent":"parent";o.search(n,null),e.childId=null,A.getItemsList(e)}var a,r={$parentComponentId:e.options.$parentComponentId},l=void 0!==e.childId?e.childId:void 0;l?(e.options.isLoading=!0,n({method:"GET",url:e.url+"/"+l}).then(function(n){var i=n.data[e.parentField];a=null,i&&(a=i);var l=e.options.prefixGrid?e.options.prefixGrid+"-parent":"parent";o.search(l,a),e.options.isLoading=!1,r.parentId=i,t.$broadcast("editor:parent_id",r),e.childId=i,A.getItemsList(e)},function(t){e.options.isLoading=!1})):i()},this.getEntityObject=function(){return $}}angular.module("universal.editor").service("RestApiService",e),e.$inject=["$q","$rootScope","$http","configData","EditEntityStorage","$location","$timeout","$state","$httpParamSerializer","$document","FilterFieldsStorage","ModalService","toastr","$translate"]}()},function(e,t){!function(e){try{e=angular.module("universal.editor.templates")}catch(t){e=angular.module("universal.editor.templates",[])}e.run(["$templateCache",function(e){e.put("module/template/disabledField/checkBox.html",'\n<div>\n    <div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData"><span ng-bind="value"></span></div>\n</div>')}])}()},function(e,t){!function(e){try{e=angular.module("universal.editor.templates")}catch(t){e=angular.module("universal.editor.templates",[])}e.run(["$templateCache",function(e){e.put("module/template/disabledField/colorpicker.html",'\n<div>\n    <div ng-if="!vm.multiple" ng-style="{ \'background-color\': vm.fieldValue}" class="disabled-colorpicker"></div>\n    <div ng-if="vm.multiple" ng-repeat="value in vm.fieldValue track by $index" ng-style="{ \'background-color\': value}" class="disabled-colorpicker"></div>\n</div>')}])}()},function(e,t){!function(e){try{e=angular.module("universal.editor.templates")}catch(t){e=angular.module("universal.editor.templates",[])}e.run(["$templateCache",function(e){e.put("module/template/disabledField/default.html",'\n<div><span ng-bind="::vm.previewValue" data-ng-show="!vm.loadingData" ng-if="!vm.multiple"></span>\n    <div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData" ng-if="vm.multiple"><span ng-bind="value"></span></div>\n</div>');
}])}()},function(e,t){!function(e){try{e=angular.module("universal.editor.templates")}catch(t){e=angular.module("universal.editor.templates",[])}e.run(["$templateCache",function(e){e.put("module/template/layouts/layoutComponent.html","\n<div ng-class=\"{'field-wrapper row':!vm.options.filter, 'filter-wrapper-field': vm.options.filter}\">\n    <div on-render-template=\"on-render-template\" ng-class=\"{'component-filter': vm.templates.filter &amp;&amp; vm.regim === 'filter',                   'component-edit': vm.templates.edit  &amp;&amp; vm.regim === 'edit',                   'component-preview': vm.templates.preview &amp;&amp; vm.regim === 'preview'}\" class=\"component-template\"></div>\n    <div ng-if=\"(!vm.templates.edit &amp;&amp; vm.regim === 'edit') || (!vm.templates.filter &amp;&amp; vm.regim === 'filter')\" ng-class=\"{'component-filter': vm.regim === 'filter'}\" class=\"component-edit\">\n    </div>\n    <div ng-if=\"!vm.templates.preview &amp;&amp; vm.regim === 'preview'\" class=\"component-preview\"> \n"+'        <div data-ng-show="vm.loadingData" class="loader-search-wrapper">\n            <div class="loader-search">{{\'LOADING\' | translate}}</div>\n        </div><span ng-bind="::vm.previewValue" data-ng-show="!vm.loadingData" ng-if="!vm.multiple"></span>\n        <div ng-repeat="value in vm.previewValue track by $index" data-ng-show="!vm.loadingData" ng-if="vm.multiple"><span ng-bind="value"></span></div>\n    </div>\n    <div ng-if="!vm.options.filter" class="field-error-wrapper">\n        <div data-ng-repeat="err in vm.error track by $index" class="error-item alert alert-danger">{{err}}</div>\n    </div>\n</div>')}])}()},function(e,t){!function(e){try{e=angular.module("universal.editor.templates")}catch(t){e=angular.module("universal.editor.templates",[])}e.run(["$templateCache",function(e){e.put("module/template/templatesForComponents/edit.html",'\n<label ng-if="!vm.options.filter &amp;&amp; !!vm.label" class="field-name-label">\n    <div data-ng-if="!!vm.hint" class="field-hint">\n        <div ng-bind="::vm.hint" class="hint-text"></div>\n    </div><span data-ng-class="{\'editor-required\': vm.required}" ng-bind="::vm.label"></span>\n</label>\n<div ng-class="{\'filter-inner-wrapper\': vm.options.filter, \'field-element\': !vm.options.filter}" style="{{vm.checkBoxStyle}}"> \n    <div data-ng-repeat="item in vm.optionValues" data-ng-class="{\'disabled\': vm.readonly}" class="checkbox checkbox-inline">\n        <input type="checkbox" data-ng-disabled="vm.readonly" data-checklist-model="vm.fieldValue" data-checklist-value="item[vm.fieldId]"/><span ng-bind="item[vm.fieldSearch]"></span>\n    </div>\n</div>')}])}()},function(e,t){!function(e){try{e=angular.module("universal.editor.templates")}catch(t){e=angular.module("universal.editor.templates",[])}e.run(["$templateCache",function(e){e.put("module/template/templatesForComponents/filter.html",'\n<label ng-if="!vm.options.filter &amp;&amp; !!vm.label" class="field-name-label">\n    <div data-ng-if="!!vm.hint" class="field-hint">\n        <div ng-bind="::vm.hint" class="hint-text"></div>\n    </div><span data-ng-class="{\'editor-required\': vm.required}" ng-bind="::vm.label"></span>\n</label>\n<div ng-class="{\'filter-inner-wrapper\': vm.options.filter, \'field-element\': !vm.options.filter}" style="{{vm.checkBoxStyle}}"> \n    <div data-ng-repeat="item in vm.optionValues" data-ng-class="{\'disabled\': vm.readonly}" class="checkbox checkbox-inline">\n        <input type="checkbox" data-ng-disabled="vm.readonly" data-checklist-model="vm.fieldValue" data-checklist-value="item[vm.fieldId]"/><span ng-bind="item[vm.fieldSearch]"></span>\n    </div>\n</div>')}])}()},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},a=0;a<this.length;a++){var o=this[a][0];"number"==typeof o&&(i[o]=!0)}for(a=0;a<t.length;a++){var r=t[a];"number"==typeof r[0]&&i[r[0]]||(n&&!r[2]?r[2]=n:n&&(r[2]="("+r[2]+") and ("+n+")"),e.push(r))}},e}},function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var i=e[n],a=u[i.id];if(a){a.refs++;for(var o=0;o<a.parts.length;o++)a.parts[o](i.parts[o]);for(;o<i.parts.length;o++)a.parts.push(d(i.parts[o],t))}else{for(var r=[],o=0;o<i.parts.length;o++)r.push(d(i.parts[o],t));u[i.id]={id:i.id,refs:1,parts:r}}}}function a(e){for(var t=[],n={},i=0;i<e.length;i++){var a=e[i],o=a[0],r=a[1],l=a[2],s=a[3],d={css:r,media:l,sourceMap:s};n[o]?n[o].parts.push(d):t.push(n[o]={id:o,parts:[d]})}return t}function o(e,t){var n=g(),i=w[w.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),w.push(t);else{if("bottom"!==e.insertAt)throw Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function r(e){e.parentNode.removeChild(e);var t=w.indexOf(e);t>=0&&w.splice(t,1)}function l(e){var t=document.createElement("style");return t.type="text/css",o(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",o(e,t),t}function d(e,t){var n,i,a;if(t.singleton){var o=b++;n=h||(h=l(t)),i=p.bind(null,n,o,!1),a=p.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),i=m.bind(null,n),a=function(){r(n),n.href&&URL.revokeObjectURL(n.href)}):(n=l(t),i=c.bind(null,n),a=function(){r(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else a()}}function p(e,t,n,i){var a=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=x(t,a);else{var o=document.createTextNode(a),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}function c(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function m(e,t){var n=t.css,i=t.sourceMap;i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(a),o&&URL.revokeObjectURL(o)}var u={},v=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},f=v(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=v(function(){return document.head||document.getElementsByTagName("head")[0]}),h=null,b=0,w=[];e.exports=function(e,t){t=t||{},void 0===t.singleton&&(t.singleton=f()),void 0===t.insertAt&&(t.insertAt="bottom");var n=a(e);return i(n,t),function(e){for(var o=[],r=0;r<n.length;r++){var l=n[r],s=u[l.id];s.refs--,o.push(s)}if(e){var d=a(e);i(d,t)}for(var r=0;r<o.length;r++){var s=o[r];if(0===s.refs){for(var p=0;p<s.parts.length;p++)s.parts[p]();delete u[s.id]}}}};var x=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){var i=n(9);"string"==typeof i&&(i=[[e.id,i,""]]);var a=n(113)(i,{});i.locals&&(e.exports=i.locals),i.locals||e.hot.accept(9,function(){var t=n(9);"string"==typeof t&&(t=[[e.id,t,""]]),a(t)}),e.hot.dispose(function(){a()})},function(e,t,n){function i(e){return n(a(e))}function a(e){return o[e]||function(){throw Error("Cannot find module '"+e+"'.")}()}var o={"./components/ueAutocomplete/ueAutocomplete.jade":15,"./components/ueButtonFilter/ueButtonFilter.jade":16,"./components/ueButtonLink/ueButtonLink.jade":17,"./components/ueButtonModal/ueButtonModal.jade":18,"./components/ueButtonRequest/ueButtonRequest.jade":19,"./components/ueButtonService/ueButtonService.jade":20,"./components/ueCheckbox/ueCheckbox.jade":21,"./components/ueColorpicker/ueColorpicker.jade":22,"./components/ueComponent/ueComponent.jade":23,"./components/ueDate/ueDate.jade":24,"./components/ueDropdown/dropdownItems.jade":25,"./components/ueDropdown/ueDropdown.jade":26,"./components/ueFilter/ueFilter.jade":27,"./components/ueForm/ueForm.jade":28,"./components/ueFormTabs/ueFormTabs.jade":29,"./components/ueGrid/ueGrid.jade":30,"./components/ueGroup/ueGroup.jade":31,"./components/ueModal/ueModal.jade":32,"./components/uePagination/uePagination.jade":33,"./components/ueRadiolist/ueRadiolist.jade":34,"./components/ueString/ueString.jade":35,"./components/ueTextarea/ueTextarea.jade":36,"./components/universalEditor/universalEditor.jade":37,"./template/disabledField/checkBox.jade":10,"./template/disabledField/colorpicker.jade":11,"./template/disabledField/default.jade":5,"./template/errorField/errorField.jade":2,"./template/labelField/labelField.jade":3,"./template/layouts/layoutComponent.jade":38};i.keys=function(){return Object.keys(o)},i.resolve=a,e.exports=i,i.id=115},function(e,t,n){function i(e){return n(a(e))}function a(e){return o[e]||function(){throw Error("Cannot find module '"+e+"'.")}()}var o={"./components/componentWrapper/componentWrapper.component.js":40,"./components/componentWrapper/componentWrapper.controller.js":41,"./components/ueAutocomplete/ueAutocomplete.component.js":42,"./components/ueAutocomplete/ueAutocomplete.controller.js":43,"./components/ueAutocomplete/ueAutocomplete.tpl.js":44,"./components/ueButtonFilter/ueButtonFilter.component.js":45,"./components/ueButtonFilter/ueButtonFilter.controller.js":46,"./components/ueButtonLink/ueButtonLink.component.js":47,"./components/ueButtonLink/ueButtonLink.controller.js":48,"./components/ueButtonModal/ueButtonModal.component.js":49,"./components/ueButtonModal/ueButtonModal.controller.js":50,"./components/ueButtonRequest/ueButtonRequest.component.js":51,"./components/ueButtonRequest/ueButtonRequest.controller.js":52,"./components/ueButtonService/ueButtonService.component.js":53,"./components/ueButtonService/ueButtonService.controller.js":54,"./components/ueCheckbox/ueCheckbox.component.js":55,"./components/ueCheckbox/ueCheckbox.controller.js":56,"./components/ueCheckbox/ueCheckbox.tpl.js":57,"./components/ueColorpicker/ueColorpicker.component.js":58,"./components/ueColorpicker/ueColorpicker.controller.js":59,"./components/ueColorpicker/ueColorpicker.tpl.js":60,"./components/ueComponent/ueComponent.component.js":61,"./components/ueComponent/ueComponent.controller.js":62,"./components/ueDate/ueDate.component.js":63,"./components/ueDate/ueDate.controller.js":64,"./components/ueDate/ueDate.tpl.js":65,"./components/ueDropdown/dropdownItems.controller.js":66,"./components/ueDropdown/dropdownItems.directive.js":67,"./components/ueDropdown/ueDropdown.component.js":68,"./components/ueDropdown/ueDropdown.controller.js":69,"./components/ueDropdown/ueDropdown.tpl.js":70,"./components/ueFilter/ueFilter.component.js":71,"./components/ueFilter/ueFilter.controller.js":72,"./components/ueForm/ueForm.component.js":73,"./components/ueForm/ueForm.controller.js":74,"./components/ueFormTabs/ueFormTabs.component.js":75,"./components/ueFormTabs/ueFormTabs.controller.js":76,"./components/ueGrid/ueGrid.component.js":77,"./components/ueGrid/ueGrid.controller.js":78,"./components/ueGroup/ueGroup.component.js":79,"./components/ueGroup/ueGroup.controller.js":80,"./components/ueModal/ueModal.comonent.js":81,"./components/uePagination/uePagination.component.js":82,"./components/uePagination/uePagination.controller.js":83,"./components/ueRadiolist/ueRadiolist.component.js":84,"./components/ueRadiolist/ueRadiolist.controller.js":85,"./components/ueRadiolist/ueRadiolist.tpl.js":86,"./components/ueString/ueString.component.js":87,"./components/ueString/ueString.controller.js":88,"./components/ueString/ueString.tpl.js":89,"./components/ueTextarea/ueTextarea.component.js":90,"./components/ueTextarea/ueTextarea.controller.js":91,"./components/ueTextarea/ueTextarea.tpl.js":92,"./components/universalEditor/universalEditor.component.js":93,"./components/universalEditor/universalEditor.controller.js":94,"./controllers/Base.controller.js":95,"./controllers/Buttons.controller.js":96,"./controllers/Fields.controller.js":97,"./directives/renderTemplate.directive.js":98,"./factories/ComponentBuilder.js":99,"./localization.configFile.js":12,"./provider/ConfigData.provider.js":100,"./services/ButtonsService.js":101,"./services/EditEntityStorage.js":102,"./services/FilterFieldsStorage.js":103,"./services/ModalService.js":104,"./services/RestApi.service.js":105,"./template/disabledField/checkBox.tpl.js":106,"./template/disabledField/colorpicker.tpl.js":107,"./template/disabledField/default.tpl.js":108,"./template/layouts/layoutComponent.tpl.js":109,"./template/templatesForComponents/edit.tpl.js":110,"./template/templatesForComponents/filter.tpl.js":111,"./templates.module.js":13,"./universal-editor.module.js":14};i.keys=function(){return Object.keys(o)},i.resolve=a,e.exports=i,i.id=116},function(e,t,n){function i(e){return n(a(e))}function a(e){return o[e]||function(){throw Error("Cannot find module '"+e+"'.")}()}var o={"./components/ueAutocomplete/ueAutocomplete.jade":15,"./components/ueButtonFilter/ueButtonFilter.jade":16,"./components/ueButtonLink/ueButtonLink.jade":17,"./components/ueButtonModal/ueButtonModal.jade":18,"./components/ueButtonRequest/ueButtonRequest.jade":19,"./components/ueButtonService/ueButtonService.jade":20,"./components/ueCheckbox/ueCheckbox.jade":21,"./components/ueColorpicker/ueColorpicker.jade":22,"./components/ueComponent/ueComponent.jade":23,"./components/ueDate/ueDate.jade":24,"./components/ueDropdown/dropdownItems.jade":25,"./components/ueDropdown/ueDropdown.jade":26,"./components/ueFilter/ueFilter.jade":27,"./components/ueForm/ueForm.jade":28,"./components/ueFormTabs/ueFormTabs.jade":29,"./components/ueGrid/ueGrid.jade":30,"./components/ueGroup/ueGroup.jade":31,"./components/ueModal/ueModal.jade":32,"./components/uePagination/uePagination.jade":33,"./components/ueRadiolist/ueRadiolist.jade":34,"./components/ueString/ueString.jade":35,"./components/ueTextarea/ueTextarea.jade":36,"./components/universalEditor/universalEditor.jade":37,"./template/disabledField/checkBox.jade":10,"./template/disabledField/colorpicker.jade":11,"./template/disabledField/default.jade":5,"./template/errorField/errorField.jade":2,"./template/labelField/labelField.jade":3,"./template/layouts/layoutComponent.jade":38};i.keys=function(){return Object.keys(o)},i.resolve=a,e.exports=i,i.id=117},function(e,t){}]);